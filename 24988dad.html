<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】 - Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节.</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="nanochat-中文翻译版本(含文档和代码注释) nanochat源项目地址 感谢原作者：Andrej karpathy这个仓库是一个完整的类ChatGPT大语言模型（LLM）的全栈实现，采用单一、简洁、最小化、可定制、依赖轻量的代码库。nanochat设计为通过像speedrun.sh这样的脚本在单个8XH100节点上运行，从开始到结束运行整个流程。这包括分词、预训练、微调、评估、推理以及"><meta property="og:type" content="blog"><meta property="og:title" content="nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】"><meta property="og:url" content="https://www.wdft.com/24988dad.html"><meta property="og:site_name" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta property="og:description" content="nanochat-中文翻译版本(含文档和代码注释) nanochat源项目地址 感谢原作者：Andrej karpathy这个仓库是一个完整的类ChatGPT大语言模型（LLM）的全栈实现，采用单一、简洁、最小化、可定制、依赖轻量的代码库。nanochat设计为通过像speedrun.sh这样的脚本在单个8XH100节点上运行，从开始到结束运行整个流程。这包括分词、预训练、微调、评估、推理以及"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.wdft.com/assets/images/github-logo.png"><meta property="article:published_time" content="2025-10-21T14:12:06.000Z"><meta property="article:modified_time" content="2025-10-22T06:19:16.004Z"><meta property="article:author" content="Jaco Liu"><meta property="article:tag" content="AI"><meta property="article:tag" content="nanochat"><meta property="article:tag" content="Agent"><meta property="article:tag" content="nanochat-zh_CN"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/assets/images/github-logo.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.wdft.com/24988dad.html"},"headline":"nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】","image":["https://www.wdft.com/assets/images/github-logo.png"],"datePublished":"2025-10-21T14:12:06.000Z","dateModified":"2025-10-22T06:19:16.004Z","author":{"@type":"Person","name":"Jaco Liu"},"publisher":{"@type":"Organization","name":"Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节.","logo":{"@type":"ImageObject","url":"https://www.wdft.com/img/logo.svg"}},"description":"nanochat-中文翻译版本(含文档和代码注释) nanochat源项目地址 感谢原作者：Andrej karpathy这个仓库是一个完整的类ChatGPT大语言模型（LLM）的全栈实现，采用单一、简洁、最小化、可定制、依赖轻量的代码库。nanochat设计为通过像speedrun.sh这样的脚本在单个8XH100节点上运行，从开始到结束运行整个流程。这包括分词、预训练、微调、评估、推理以及"}</script><link rel="canonical" href="https://www.wdft.com/24988dad.html"><link rel="alternate" href="/atom.xml" title="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>!function(){var e=document.createElement("script"),t=(e.src="//hm.baidu.com/hm.js?45914c5ebb523a9ed07ab35e4dc81374",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><meta name="msvalidate.01" content="ad0df3c8d20f49daaeb5baa3c9dbfe75"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8952360410310192" crossorigin="anonymous"></script><script>!function(){function e(){if(location.hash){Array.from(document.querySelectorAll(".tab-content")).forEach(e=>{e.classList.add("is-hidden")}),Array.from(document.querySelectorAll(".tabs li")).forEach(e=>{e.classList.remove("is-active")});const e=document.querySelector(location.hash),t=(e&&e.classList.remove("is-hidden"),document.querySelector(`a[href="${location.hash}"]`));t&&t.parentElement.classList.add("is-active")}}e(),window.addEventListener("hashchange",e,!1)}()</script><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><img src="/img/avatar.jpeg" width="0" height="0"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/musics">Musics</a><a class="navbar-item" href="/videos">Videos</a><a class="navbar-item" href="/galleries">Galleries</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item dark-mode-btn" title="Light|Dark" rel="noopener" onclick="switchDarkMode()">    <i class="fas fa-lightbulb">  </i></a><a class="navbar-item" target="_blank" rel="noopener" title="Musics" href="/musics"><i class="fas fa-music"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Videos" href="/videos"><i class="fas fa-video"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="WeChat Account (labsec)" href="/about/index/ljq-qrcode.jpeg"><i class="fab fa-weixin"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Jaco Liu GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/assets/images/github-logo.png" alt="nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-10-21T14:12:06.000Z" title="10/21/2025, 10:12:06 PM">2025-10-21</time></span><span class="level-item">Updated&nbsp;<time datetime="2025-10-22T06:19:16.004Z" title="10/22/2025, 2:19:16 PM">2025-10-22</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/cloud-native/">cloud-native</a></span><span class="level-item">21 minutes read (About 3076 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】</h1><div class="content"><p><a target="_blank" rel="noopener" href="https://github.com/ljq/nanochat/blob/master/README.zh_CN.md">nanochat-中文翻译版本(含文档和代码注释)</a></p><p><a target="_blank" rel="noopener" href="https://github.com/karpathy/nanochat">nanochat源项目地址</a></p><h6 id="感谢原作者：Andrej-karpathy"><a href="#感谢原作者：Andrej-karpathy" class="headerlink" title="感谢原作者：Andrej karpathy"></a>感谢原作者：<a target="_blank" rel="noopener" href="https://github.com/karpathy">Andrej karpathy</a></h6><p>这个仓库是一个完整的类ChatGPT大语言模型（LLM）的全栈实现，采用单一、简洁、最小化、可定制、依赖轻量的代码库。nanochat设计为通过像<a href="speedrun.sh">speedrun.sh</a>这样的脚本在单个8XH100节点上运行，从开始到结束运行整个流程。这包括分词、预训练、微调、评估、推理以及通过简单UI提供Web服务，让你可以像使用ChatGPT一样与你自己的LLM对话。nanochat将成为Eureka Labs正在开发的LLM101n课程的顶点项目。</p><h2 id="文件结构说明"><a href="#文件结构说明" class="headerlink" title="文件结构说明"></a>文件结构说明</h2><p>nanochat项目的主要文件及其用途：</p><span id="more"></span><h3 id="核心模块-nanochat-x2F"><a href="#核心模块-nanochat-x2F" class="headerlink" title="核心模块 (nanochat&#x2F;)"></a>核心模块 (nanochat&#x2F;)</h3><ul><li><strong>nanochat&#x2F;gpt.py</strong> - GPT模型架构实现，包含Transformer层、注意力机制等</li><li><strong>nanochat&#x2F;adamw.py</strong> - AdamW优化器实现</li><li><strong>nanochat&#x2F;muon.py</strong> - Muon优化器实现，用于线性层训练</li><li><strong>nanochat&#x2F;checkpoint_manager.py</strong> - 模型检查点保存和加载管理</li><li><strong>nanochat&#x2F;common.py</strong> - 通用工具函数，包括分布式训练初始化</li><li><strong>nanochat&#x2F;configurator.py</strong> - 配置参数管理，支持命令行覆盖</li><li><strong>nanochat&#x2F;core_eval.py</strong> - 核心评估指标计算</li><li><strong>nanochat&#x2F;dataloader.py</strong> - 数据加载器实现，支持分布式训练</li><li><strong>nanochat&#x2F;dataset.py</strong> - 数据集处理和下载</li><li><strong>nanochat&#x2F;engine.py</strong> - 模型推理引擎，支持批量生成</li><li><strong>nanochat&#x2F;execution.py</strong> - 执行上下文管理</li><li><strong>nanochat&#x2F;loss_eval.py</strong> - 损失评估函数</li><li><strong>nanochat&#x2F;report.py</strong> - 训练报告生成</li><li><strong>nanochat&#x2F;tokenizer.py</strong> - 分词器接口和实现</li><li><strong>nanochat&#x2F;ui.html</strong> - Web聊天界面</li></ul><h3 id="训练脚本-scripts-x2F"><a href="#训练脚本-scripts-x2F" class="headerlink" title="训练脚本 (scripts&#x2F;)"></a>训练脚本 (scripts&#x2F;)</h3><ul><li><strong>scripts&#x2F;base_train.py</strong> - 基础模型预训练脚本</li><li><strong>scripts&#x2F;mid_train.py</strong> - 中期训练脚本，在预训练基础上继续训练</li><li><strong>scripts&#x2F;chat_sft.py</strong> - 监督微调训练脚本</li><li><strong>scripts&#x2F;chat_rl.py</strong> - 强化学习训练脚本</li><li><strong>scripts&#x2F;tok_train.py</strong> - 分词器训练脚本</li><li><strong>scripts&#x2F;base_eval.py</strong> - 基础模型评估脚本</li><li><strong>scripts&#x2F;base_loss.py</strong> - 基础损失评估脚本</li><li><strong>scripts&#x2F;chat_eval.py</strong> - 聊天模型评估脚本</li><li><strong>scripts&#x2F;tok_eval.py</strong> - 分词器评估脚本</li><li><strong>scripts&#x2F;chat_cli.py</strong> - 命令行聊天界面</li><li><strong>scripts&#x2F;chat_web.py</strong> - Web聊天服务器</li></ul><h3 id="任务模块-tasks-x2F"><a href="#任务模块-tasks-x2F" class="headerlink" title="任务模块 (tasks&#x2F;)"></a>任务模块 (tasks&#x2F;)</h3><ul><li><strong>tasks&#x2F;common.py</strong> - 任务混合和数据加载</li><li><strong>tasks&#x2F;arc.py</strong> - ARC问答任务实现</li><li><strong>tasks&#x2F;gsm8k.py</strong> - GSM8K数学推理任务实现</li><li><strong>tasks&#x2F;humaneval.py</strong> - HumanEval代码生成任务实现</li><li><strong>tasks&#x2F;mmlu.py</strong> - MMLU多任务语言理解任务实现</li><li><strong>tasks&#x2F;smoltalk.py</strong> - SmolTalk对话数据集处理</li></ul><h3 id="分词器-rustbpe-x2F"><a href="#分词器-rustbpe-x2F" class="headerlink" title="分词器 (rustbpe&#x2F;)"></a>分词器 (rustbpe&#x2F;)</h3><ul><li><strong>rustbpe&#x2F;src&#x2F;lib.rs</strong> - Rust实现的BPE分词器核心逻辑</li><li><strong>rustbpe&#x2F;Cargo.toml</strong> - Rust项目配置</li><li><strong>rustbpe&#x2F;README.md</strong> - 分词器文档</li></ul><h3 id="开发工具-dev-x2F"><a href="#开发工具-dev-x2F" class="headerlink" title="开发工具 (dev&#x2F;)"></a>开发工具 (dev&#x2F;)</h3><ul><li><strong>dev&#x2F;generate_logo.html</strong> - 项目logo生成工具</li><li><strong>dev&#x2F;nanochat.png</strong> - 项目logo图片</li><li><strong>dev&#x2F;repackage_data_reference.py</strong> - 数据重新打包参考脚本</li></ul><h3 id="运行脚本"><a href="#运行脚本" class="headerlink" title="运行脚本"></a>运行脚本</h3><ul><li><strong>speedrun.sh</strong> - 快速运行脚本（约4小时训练）</li><li><strong>run1000.sh</strong> - 1000美元级别训练脚本</li><li><strong>uv.lock</strong> - Python依赖锁定文件</li><li><strong>pyproject.toml</strong> - Python项目配置</li></ul><h2 id="与它对话"><a href="#与它对话" class="headerlink" title="与它对话"></a>与它对话</h2><p>为了了解这个仓库的最终目标，你目前可以在<a target="_blank" rel="noopener" href="https://nanochat.karpathy.ai/">nanochat.karpathy.ai</a>上找到托管的<a target="_blank" rel="noopener" href="https://github.com/karpathy/nanochat/discussions/8">nanochat d32</a>。”d32”表示这个模型在Transformer神经网络中有32层。这个模型有19亿参数，通过简单地运行单个脚本<a href="run1000.sh">run1000.sh</a>在380亿token上训练，总训练成本约为800美元（在8XH100 GPU节点上约33小时训练时间）。虽然今天这足以超越2019年的GPT-2，但它与现代大语言模型如GPT-5相比仍有巨大差距。与这些微型模型对话时，你会看到它们犯很多错误，有点天真和愚蠢，会产生大量幻觉，有点像孩子。这有点有趣。但nanochat的独特之处在于它完全属于你 - 完全可配置、可调整、可定制，并由你从头到尾训练。要训练并与你自己的模型对话，我们转向…</p><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><p>感受魔力的最快方式是运行speedrun脚本<a href="speedrun.sh">speedrun.sh</a>，它训练并推理100美元级别的nanochat。在8XH100节点上每小时24美元，总运行时间约为4小时。从你喜欢的提供商启动一个新的8XH100 GPU盒子（例如我使用并喜欢<a target="_blank" rel="noopener" href="https://lambda.ai/service/gpu-cloud">Lambda</a>），然后启动训练脚本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash speedrun.sh</span><br></pre></td></tr></table></figure><p>或者，由于脚本运行4小时，我喜欢在一个新的screen会话<code>speedrun</code>中这样启动（并将输出记录到<code>speedrun.log</code>）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -L -Logfile speedrun.log -S speedrun bash speedrun.sh</span><br></pre></td></tr></table></figure><p>如果你不太熟悉，请查看<a target="_blank" rel="noopener" href="https://gist.github.com/jctosta/af918e1618682638aa82">screen速查表</a>。你可以在screen会话中观看进度，或者用<code>Ctrl-a d</code>分离并用<code>tail speedrun.log</code>查看进度。现在等待4小时。完成后，你可以通过类似ChatGPT的Web UI与你的LLM对话。确保你的本地uv虚拟环境已激活（运行<code>source .venv/bin/activate</code>），然后启动服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m scripts.chat_web</span><br></pre></td></tr></table></figure><p>然后访问显示的URL。确保正确访问，例如在Lambda上使用你所在节点的公共IP，后跟端口，例如<a target="_blank" rel="noopener" href="http://209.20.xxx.xxx:8000/">http://209.20.xxx.xxx:8000/</a>等。然后像通常与ChatGPT对话一样与你的LLM对话！让它写故事或诗歌。问它你是谁以看到幻觉。问它为什么天空是蓝色的。或者为什么是绿色的。speedrun是一个4e19 FLOPs能力的模型，所以有点像与幼儿园小朋友对话:)。</p><hr><img width="2672" height="1520" alt="image" src="https://github.com/user-attachments/assets/ed39ddf8-2370-437a-bedc-0f39781e76b5"><hr><p>你也可以<code>cat report.md</code>文件，它出现在项目目录中，包含运行的”成绩单”，即一堆评估和指标。在最后，你会看到一个汇总表格，例如：</p><hr><ul><li>字符数: 333,989</li><li>行数: 8,304</li><li>文件数: 44</li><li>Token数（约）: 83,497</li><li>依赖项（uv.lock行数）: 2,004</li></ul><table><thead><tr><th>指标</th><th>BASE</th><th>MID</th><th>SFT</th><th>RL</th></tr></thead><tbody><tr><td>CORE</td><td>0.2219</td><td>-</td><td>-</td><td>-</td></tr><tr><td>ARC-Challenge</td><td>-</td><td>0.2875</td><td>0.2807</td><td>-</td></tr><tr><td>ARC-Easy</td><td>-</td><td>0.3561</td><td>0.3876</td><td>-</td></tr><tr><td>GSM8K</td><td>-</td><td>0.0250</td><td>0.0455</td><td>0.0758</td></tr><tr><td>HumanEval</td><td>-</td><td>0.0671</td><td>0.0854</td><td>-</td></tr><tr><td>MMLU</td><td>-</td><td>0.3111</td><td>0.3151</td><td>-</td></tr><tr><td>ChatCORE</td><td>-</td><td>0.0730</td><td>0.0884</td><td>-</td></tr></tbody></table><p>总挂钟时间: 3h51m</p><hr><p>（你的表格可能默认缺少RL数字）。关于speedrun脚本以及要寻找和期望的更多信息，请参考我在仓库讨论区发布的演练：<a target="_blank" rel="noopener" href="https://github.com/karpathy/nanochat/discussions/1">“介绍nanochat：100美元能买到的最好的ChatGPT”</a>。</p><h2 id="更大的模型"><a href="#更大的模型" class="headerlink" title="更大的模型"></a>更大的模型</h2><p>不出所料，100美元不足以训练一个高性能的ChatGPT克隆。事实上，LLM以其数百万美元的资本支出而闻名。对于我们的目的，我认为还有两个更有趣的规模。首先是约300美元的d26模型（即深度&#x3D;26），训练约12小时，略微超越GPT-2 CORE分数。其次是1000美元级别（约41.6小时），只是因为这是一个不错的整数。但这两者尚未完全支持，因此尚未附加到主分支中。</p><p>也就是说，为了给出一个概念，训练GPT-2级别模型d26所需的<a href="speedrun.sh">speedrun.sh</a>文件示例更改仅涉及三个更改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment"># 你需要下载更多用于预训练的数据分片</span></span><br><span class="line"><span class="comment"># 获取参数数量，乘以20得到token数，乘以4.8得到字符数，</span></span><br><span class="line"><span class="comment"># 除以2.5亿得到分片数量。待办：需要改进这个...</span></span><br><span class="line">python -m nanochat.dataset -n 450 &amp;</span><br><span class="line">...</span><br><span class="line"><span class="comment"># 使用--depth增加模型大小。为了避免内存不足，将设备批大小减半32 -&gt; 16：</span></span><br><span class="line">torchrun --standalone --nproc_per_node=8 -m scripts.base_train -- --depth=26 --device_batch_size=16</span><br><span class="line">...</span><br><span class="line"><span class="comment"># 确保在中期训练期间使用相同的设置：</span></span><br><span class="line">torchrun --standalone --nproc_per_node=8 -m scripts.mid_train -- --device_batch_size=16</span><br></pre></td></tr></table></figure><p>就是这样！最需要注意的事情是确保你有足够的数据分片进行训练（否则代码将循环并在相同的训练集上做更多轮次，稍微降低学习速度），以及管理你的内存&#x2F;VRAM，主要通过减少<code>device_batch_size</code>直到适合（脚本通过增加梯度累积循环次数自动补偿，简单地将并行计算转换为顺序计算）。</p><p>关于运行nanochat的计算环境的更多信息：</p><ul><li>代码在Ampere 8XA100 GPU节点上也能正常运行，但会慢一些。</li><li>所有代码甚至可以在单个GPU上通过省略<code>torchrun</code>正常运行，并产生几乎相同的结果（代码将自动切换到梯度累积），但你必须等待8倍时间。</li><li>如果你的GPU(s)少于80GB，你必须调整一些超参数，否则会出现OOM &#x2F; VRAM不足。在脚本中查找<code>--device_batch_size</code>并减少它直到适合。例如从32（默认）到16、8、4、2，甚至1。少于这个你需要更了解你在做什么并更有创意。</li><li>大部分代码是相当标准的PyTorch，所以它应该在任何支持PyTorch的环境中运行 - xpu、mps等，但我没有开箱即用地实现这个，所以可能需要一些调整。</li></ul><h2 id="在CPU-x2F-MPS上运行"><a href="#在CPU-x2F-MPS上运行" class="headerlink" title="在CPU &#x2F; MPS上运行"></a>在CPU &#x2F; MPS上运行</h2><p>如果你想在Macbook或CPU机器上调整nanochat，这里有一个进行中的<a target="_blank" rel="noopener" href="https://github.com/karpathy/nanochat/pull/88">CPU|MPS PR</a>。如果你在Macbook上，在运行<code>base_train.py</code>时使用<code>--device_type=mps</code>。有关更多信息，请参阅PR及其差异。没有GPU节点你不会走得太远，但至少你将能够运行代码，并可能通过一些耐心训练一个非常小的LLM。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>nanochat设计为简短而甜美。这样做的一个大优势是我们可以将所有文件打包在一起，并复制粘贴到你喜欢的LLM中询问任意问题。例如，我喜欢使用<a target="_blank" rel="noopener" href="https://github.com/simonw/files-to-prompt">files-to-prompt</a>实用程序像这样打包仓库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">files-to-prompt . -e py -e md -e rs -e html -e toml -e sh --ignore <span class="string">&quot;*target*&quot;</span> --cxml &gt; packaged.txt</span><br></pre></td></tr></table></figure><p>这包括所有py、rs、html、toml、sh文件，排除<code>rustbpe/target</code>文件夹，并选择cxml输出格式。所有内容都写入<code>packaged.txt</code>文件，目前测量约330KB（即远低于最先进LLM的约10万token），以及约8K行代码在45个文件中。</p><p>或者，我推荐使用<a target="_blank" rel="noopener" href="https://deepwiki.com/">DeepWiki</a>来自Devin&#x2F;Cognition来询问这个仓库的问题。在这个仓库的URL中，只需将github.com更改为deepwiki.com，你就可以开始了。</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>我在这里投入不多，但存在一些测试，特别是对于分词器。运行例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pytest tests/test_rustbpe.py -v -s</span><br></pre></td></tr></table></figure><h2 id="贡献"><a href="#贡献" class="headerlink" title="贡献"></a>贡献</h2><p>nanochat远未完成。目标是改进在&lt;1000美元预算下可端到端工作的微型模型的最新技术水平。可访问性是关于总体成本，也是关于认知复杂性 - nanochat不是一个详尽可配置的LLM”框架”；代码库中不会有巨大的配置对象、模型工厂或if-then-else怪物。它是一个单一、连贯、最小化、可读、可定制、最大可复制的”强基线”代码库，设计为从头到尾运行并产生具体的ChatGPT克隆及其成绩单。</p><h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><ul><li>名称（nanochat）源自我的早期项目<a target="_blank" rel="noopener" href="https://github.com/karpathy/nanoGPT">nanoGPT</a>，它只涵盖预训练。</li><li>nanochat也受到<a target="_blank" rel="noopener" href="https://github.com/KellerJordan/modded-nanogpt">modded-nanoGPT</a>的启发，它通过清晰的指标和排行榜将nanoGPT仓库游戏化，并借用了它的许多想法和一些预训练实现。</li><li>感谢<a target="_blank" rel="noopener" href="https://huggingface.co/">HuggingFace</a>提供fineweb和smoltalk。</li><li>感谢<a target="_blank" rel="noopener" href="https://lambda.ai/service/gpu-cloud">Lambda</a>提供用于开发此项目的计算资源。</li><li>感谢首席LLM专家🧙‍♂️ Alec Radford的建议&#x2F;指导。</li></ul><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>如果你发现nanochat对你的研究有帮助，请引用为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@misc&#123;nanochat,</span><br><span class="line">  author = &#123;Andrej Karpathy&#125;,</span><br><span class="line">  title = &#123;nanochat: The best ChatGPT that $100 can buy&#125;,</span><br><span class="line">  year = &#123;2025&#125;,</span><br><span class="line">  publisher = &#123;GitHub&#125;,</span><br><span class="line">  url = &#123;https://github.com/karpathy/nanochat&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="许可证"><a href="#许可证" class="headerlink" title="许可证"></a>许可证</h2><p>MIT</p></div><div class="article-licensing box"><div class="licensing-title"><p>nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】</p><p><a href="https://www.wdft.com/24988dad.html">https://www.wdft.com/24988dad.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Jaco Liu</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2025-10-21</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2025-10-22</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/AI/">AI</a><a class="link-muted mr-2" rel="tag" href="/tags/nanochat/">nanochat</a><a class="link-muted mr-2" rel="tag" href="/tags/Agent/">Agent</a><a class="link-muted mr-2" rel="tag" href="/tags/nanochat-zh-CN/">nanochat-zh_CN</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=627845fc01dad800199bf3d4&amp;product=inline-share-buttons" defer></script></article></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/7c4c358b.html"><span class="level-item">从零开始：使用三台服务器搭建最简 Kubernetes 集群并集成 Gitea + Harbor 示例</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><script src="/js/mermaid.min.js"></script></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen order-3"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#感谢原作者：Andrej-karpathy"><span class="level-left"><span class="level-item">1.1.1</span><span class="level-item">感谢原作者：Andrej karpathy</span></span></a></li></ul></ul><li><a class="level is-mobile" href="#文件结构说明"><span class="level-left"><span class="level-item">2</span><span class="level-item">文件结构说明</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#核心模块-nanochat-x2F"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">核心模块 (nanochat/)</span></span></a></li><li><a class="level is-mobile" href="#训练脚本-scripts-x2F"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">训练脚本 (scripts/)</span></span></a></li><li><a class="level is-mobile" href="#任务模块-tasks-x2F"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">任务模块 (tasks/)</span></span></a></li><li><a class="level is-mobile" href="#分词器-rustbpe-x2F"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">分词器 (rustbpe/)</span></span></a></li><li><a class="level is-mobile" href="#开发工具-dev-x2F"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">开发工具 (dev/)</span></span></a></li><li><a class="level is-mobile" href="#运行脚本"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">运行脚本</span></span></a></li></ul></li><li><a class="level is-mobile" href="#与它对话"><span class="level-left"><span class="level-item">3</span><span class="level-item">与它对话</span></span></a></li><li><a class="level is-mobile" href="#快速开始"><span class="level-left"><span class="level-item">4</span><span class="level-item">快速开始</span></span></a></li><li><a class="level is-mobile" href="#更大的模型"><span class="level-left"><span class="level-item">5</span><span class="level-item">更大的模型</span></span></a></li><li><a class="level is-mobile" href="#在CPU-x2F-MPS上运行"><span class="level-left"><span class="level-item">6</span><span class="level-item">在CPU / MPS上运行</span></span></a></li><li><a class="level is-mobile" href="#问题"><span class="level-left"><span class="level-item">7</span><span class="level-item">问题</span></span></a></li><li><a class="level is-mobile" href="#测试"><span class="level-left"><span class="level-item">8</span><span class="level-item">测试</span></span></a></li><li><a class="level is-mobile" href="#贡献"><span class="level-left"><span class="level-item">9</span><span class="level-item">贡献</span></span></a></li><li><a class="level is-mobile" href="#致谢"><span class="level-left"><span class="level-item">10</span><span class="level-item">致谢</span></span></a></li><li><a class="level is-mobile" href="#引用"><span class="level-left"><span class="level-item">11</span><span class="level-item">引用</span></span></a></li><li><a class="level is-mobile" href="#许可证"><span class="level-left"><span class="level-item">12</span><span class="level-item">许可证</span></span></a></li></ul></div></div><style>#toc .menu-list>li>a.is-active+.menu-list{display:block}#toc .menu-list>li>a+.menu-list{display:none}</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/24988dad.html"><img src="/assets/images/github-logo.png" alt="nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】"></a></figure><div class="media-content"><p class="date"><time datetime="2025-10-21T14:12:06.000Z">2025-10-21</time></p><p class="title"><a href="/24988dad.html">nanochat-中文翻译版本（含代码注释和文档翻译，方便中文语境快速阅读和查看）】</a></p><p class="categories"><a href="/categories/cloud-native/">cloud-native</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/7c4c358b.html"><img src="/assets/images/cloud-k8s.jpg" alt="从零开始：使用三台服务器搭建最简 Kubernetes 集群并集成 Gitea + Harbor 示例"></a></figure><div class="media-content"><p class="date"><time datetime="2025-05-03T07:02:21.000Z">2025-05-03</time></p><p class="title"><a href="/7c4c358b.html">从零开始：使用三台服务器搭建最简 Kubernetes 集群并集成 Gitea + Harbor 示例</a></p><p class="categories"><a href="/categories/distributed/">distributed</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/4b8b1c9c.html"><img src="/assets/images/cloud01.jpg" alt="对比主流云原生KubeSphere、KubeVela、Rancher、Sealos和Rainbond五者之间的区别"></a></figure><div class="media-content"><p class="date"><time datetime="2025-02-18T11:02:00.000Z">2025-02-18</time></p><p class="title"><a href="/4b8b1c9c.html">对比主流云原生KubeSphere、KubeVela、Rancher、Sealos和Rainbond五者之间的区别</a></p><p class="categories"><a href="/categories/cloud-native/">cloud-native</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/d89a2229.html"><img src="/assets/images/apple-logo.jpg" alt="macOS Ghostty Terminal Ddefault binding keyboard shortcut key list（Ghostty.org Ghostty 终端默认快捷键列表）"></a></figure><div class="media-content"><p class="date"><time datetime="2025-01-13T14:02:02.000Z">2025-01-13</time></p><p class="title"><a href="/d89a2229.html">macOS Ghostty Terminal Ddefault binding keyboard shortcut key list（Ghostty.org Ghostty 终端默认快捷键列表）</a></p><p class="categories"><a href="/categories/macos/">macos</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/187f82a.html"><img src="/assets/images/daily/2024-09-28-rszmfdd.jpeg" alt="人是怎样废掉的？"></a></figure><div class="media-content"><p class="date"><time datetime="2024-09-28T11:18:08.000Z">2024-09-28</time></p><p class="title"><a href="/187f82a.html">人是怎样废掉的？</a></p><p class="categories"><a href="/categories/daily/">daily</a> / <a href="/categories/daily/note/">note</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/painting/"><span class="level-start"><span class="level-item">painting</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/painting/Controlnet/"><span class="level-start"><span class="level-item">Controlnet</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/painting/Controlnet/Drawing/"><span class="level-start"><span class="level-item">Drawing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Database/"><span class="level-start"><span class="level-item">Database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/GIT/"><span class="level-start"><span class="level-item">GIT</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Go/"><span class="level-start"><span class="level-item">Go</span></span><span class="level-end"><span class="level-item tag">24</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/clang/"><span class="level-start"><span class="level-item">clang</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/cloud-native/"><span class="level-start"><span class="level-item">cloud-native</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/daily/"><span class="level-start"><span class="level-item">daily</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/daily/note/"><span class="level-start"><span class="level-item">note</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/distributed/"><span class="level-start"><span class="level-item">distributed</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/history-of-programing/"><span class="level-start"><span class="level-item">history-of-programing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/history-of-programing/daily/"><span class="level-start"><span class="level-item">daily</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/linux/centos/"><span class="level-start"><span class="level-item">centos</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/debian/"><span class="level-start"><span class="level-item">debian</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/firewalld/"><span class="level-start"><span class="level-item">firewalld</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/openssl/"><span class="level-start"><span class="level-item">openssl</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/lua/"><span class="level-start"><span class="level-item">lua</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/macos/"><span class="level-start"><span class="level-item">macos</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/php/"><span class="level-start"><span class="level-item">php</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/reprinted-articles/"><span class="level-start"><span class="level-item">reprinted-articles</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent/"><span class="tag">Agent</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CDN/"><span class="tag">CDN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Distributed/"><span class="tag">Cloud-Distributed</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native/"><span class="tag">Cloud-Native</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native-Framework/"><span class="tag">Cloud-Native-Framework</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Distributed-Systems/"><span class="tag">Distributed-Systems</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GIT/"><span class="tag">GIT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GO%E6%96%B9%E6%B3%95%E5%80%BC/"><span class="tag">GO方法值</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG/"><span class="tag">GPG</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG2/"><span class="tag">GPG2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ghostty/"><span class="tag">Ghostty</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">24</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Summary-notes/"><span class="tag">Go Summary notes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-null-judge/"><span class="tag">Go null judge</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Struct-Method-Receiver/"><span class="tag">Go(Struct|Method|Receiver)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-map/"><span class="tag">Go(map)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-new-make-struct/"><span class="tag">Go(new,make,struct{})</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-string/"><span class="tag">Go(string)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Polymorphism/"><span class="tag">Go-Polymorphism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Printf/"><span class="tag">Go-Printf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-chain-operation/"><span class="tag">Go-chain-operation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-init/"><span class="tag">Go-init()</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON/"><span class="tag">JSON</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S/"><span class="tag">K8S</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S-Build/"><span class="tag">K8S-Build</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Movie/"><span class="tag">Movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Note-The-Legend-of-1900/"><span class="tag">Note The Legend of 1900</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenSSH/"><span class="tag">OpenSSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM/"><span class="tag">VIM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM-Author/"><span class="tag">VIM Author</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ansi-lib/"><span class="tag">ansi-lib</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/banner/"><span class="tag">banner</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos7/"><span class="tag">centos7</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chattr/"><span class="tag">chattr</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clang/"><span class="tag">clang</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cli/"><span class="tag">cli</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/daily/"><span class="tag">daily</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debian/"><span class="tag">debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewalld/"><span class="tag">firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/format/"><span class="tag">format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/func/"><span class="tag">func</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go-pprof/"><span class="tag">go-pprof</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/goroutine/"><span class="tag">goroutine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/homebrew/"><span class="tag">homebrew</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interface/"><span class="tag">interface</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/io/"><span class="tag">io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kebernetes/"><span class="tag">kebernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel/"><span class="tag">laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel-artisan/"><span class="tag">laravel-artisan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lua/"><span class="tag">lua</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macos/"><span class="tag">macos</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macro/"><span class="tag">macro</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motd/"><span class="tag">motd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-0/"><span class="tag">mysql8.0</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-x/"><span class="tag">mysql8.x</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat/"><span class="tag">nanochat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat-zh-CN/"><span class="tag">nanochat-zh_CN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/neofetch/"><span class="tag">neofetch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/package-time/"><span class="tag">package time</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pointer/"><span class="tag">pointer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reflect%E5%8F%8D%E5%B0%84/"><span class="tag">reflect反射</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky/"><span class="tag">rocky</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux/"><span class="tag">rocky-linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux-tools/"><span class="tag">rocky-linux-tools</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rsync/"><span class="tag">rsync</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/services/"><span class="tag">services</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/slice%E5%88%87%E7%89%87%E6%9C%AC%E8%B4%A8/"><span class="tag">slice切片本质</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stable-diffusion-webui/"><span class="tag">stable-diffusion-webui</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/struct/"><span class="tag">struct</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/switch/"><span class="tag">switch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/systemd-service/"><span class="tag">systemd-service</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type/"><span class="tag">type</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type%E5%85%B3%E9%94%AE%E8%AF%8D%E6%80%BB%E7%BB%93/"><span class="tag">type关键词总结</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4/"><span class="tag">utf8mb4</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-0900-ai-ci/"><span class="tag">utf8mb4_0900_ai_ci</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-general-ci/"><span class="tag">utf8mb4_general_ci</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%BA%E7%94%9F/"><span class="tag">人生</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8/"><span class="tag">日常</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%9F%E6%B4%BB/"><span class="tag">生活</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD/"><span class="tag">转载</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%93%E7%B3%BB/"><span class="tag">配置文件体系</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"><span class="tag">防火墙</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="clustrmaps"><div class="card-content"><div class="menu"><h3 class="menu-label">CLUSTRMAPS</h3></div><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div style="margin-top:10px"><script type="text/javascript" id="clustrmaps" src="https://cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=250&amp;t=n&amp;d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0&amp;co=2d78ad&amp;cmo=3acc3a&amp;cmn=ff5353&amp;ct=ffffff"></script><script type="text/javascript" id="clstr_globe" src="https://clustrmaps.com/globe.js?d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0"></script></div></div></nav></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8952360410310192" data-ad-slot="1345698037" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></div></div></div></section><footer class="footer" style="padding:1rem 1.5rem 0"><div class="container"><div class="level"><div class="level-start"><p class="is-size-7"><a class="footer-logo" style="margin-right:10px" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." height="16" style="max-height:1.25rem"></a><a href="http://beian.miit.gov.cn" target="_blank">鲁ICP备2023051700号</a>  <span>&copy; 2025 Jaco Liu</span>  <span style="color:#e0e0e0">Powered by <a style="color:#e0e0e0" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a style="color:#e0e0e0" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>  <span id="busuanzi_container_site_pv">Total Visits Counts: <span id="busuanzi_value_site_pv"></span>.</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Jaco Liu&#039;GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="ref.wdft.com" href="https://ref.wdft.com"><i class="fas fa-cloud"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="cook.wdft.com" href="https://cook.wdft.com"><i class="fas fa-coffee"></i></a></p> <span><i class="fas fa-link">BlogRoll:</i></span><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Quick Reference" href="https://ref.wdft.com">Quick Reference</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Cook" href="https://cook.wdft.com">Cook</a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="/js/switchDarkMode.js" defer></script><script src="/js/toutiaoSEO.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"info",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"This website uses cookies to improve your experience.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",policy:"Cookie Policy",href:"https://www.cookiesandyou.com/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},react:{opacity:.7},pluginJsPath:"lib/",pluginRootPath:"live2dw/"})</script></body></html>