<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>Redis 原理解析以及入门实践技术选型以及解决方案指南 - Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节.</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Redis 概述Redis 作为当今最流行的内存数据结构存储系统，凭借其卓越的性能和丰富的数据类型，已成为现代应用架构中不可或缺的组件。本文将基于 Debian 12 环境从 Redis 的版本演进出发，完整部署流程，从单体到集群，从基础配置到高级应用，最后提供多语言客户端操作示例，帮助新手全面快速掌握 Redis 技术栈的基本使用，有个相对基础的思路。"><meta property="og:type" content="blog"><meta property="og:title" content="Redis 原理解析以及入门实践技术选型以及解决方案指南"><meta property="og:url" content="https://www.wdft.com/f147dce8.html"><meta property="og:site_name" content="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节."><meta property="og:description" content="Redis 概述Redis 作为当今最流行的内存数据结构存储系统，凭借其卓越的性能和丰富的数据类型，已成为现代应用架构中不可或缺的组件。本文将基于 Debian 12 环境从 Redis 的版本演进出发，完整部署流程，从单体到集群，从基础配置到高级应用，最后提供多语言客户端操作示例，帮助新手全面快速掌握 Redis 技术栈的基本使用，有个相对基础的思路。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.wdft.com/assets/images/db.jpg"><meta property="article:published_time" content="2025-11-07T15:54:22.000Z"><meta property="article:modified_time" content="2026-01-30T06:40:40.571Z"><meta property="article:author" content="Jaco Liu"><meta property="article:tag" content="Tutorial"><meta property="article:tag" content="Redis"><meta property="article:tag" content="nosql"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/assets/images/db.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.wdft.com/f147dce8.html"},"headline":"Redis 原理解析以及入门实践技术选型以及解决方案指南","image":["https://www.wdft.com/assets/images/db.jpg"],"datePublished":"2025-11-07T15:54:22.000Z","dateModified":"2026-01-30T06:40:40.571Z","author":{"@type":"Person","name":"Jaco Liu"},"publisher":{"@type":"Organization","name":"Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节.","logo":{"@type":"ImageObject","url":"https://www.wdft.com/img/logo.svg"}},"description":"Redis 概述Redis 作为当今最流行的内存数据结构存储系统，凭借其卓越的性能和丰富的数据类型，已成为现代应用架构中不可或缺的组件。本文将基于 Debian 12 环境从 Redis 的版本演进出发，完整部署流程，从单体到集群，从基础配置到高级应用，最后提供多语言客户端操作示例，帮助新手全面快速掌握 Redis 技术栈的基本使用，有个相对基础的思路。"}</script><link rel="canonical" href="https://www.wdft.com/f147dce8.html"><link rel="alternate" href="/atom.xml" title="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>!function(){var e=document.createElement("script"),t=(e.src="//hm.baidu.com/hm.js?45914c5ebb523a9ed07ab35e4dc81374",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><meta name="msvalidate.01" content="ad0df3c8d20f49daaeb5baa3c9dbfe75"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8952360410310192" crossorigin="anonymous"></script><script>!function(){function e(){if(location.hash){Array.from(document.querySelectorAll(".tab-content")).forEach(e=>{e.classList.add("is-hidden")}),Array.from(document.querySelectorAll(".tabs li")).forEach(e=>{e.classList.remove("is-active")});const e=document.querySelector(location.hash),t=(e&&e.classList.remove("is-hidden"),document.querySelector(`a[href="${location.hash}"]`));t&&t.parentElement.classList.add("is-active")}}e(),window.addEventListener("hashchange",e,!1)}()</script><meta name="generator" content="Hexo 6.1.0"></head><body class="is-2-column"><img src="/img/avatar.jpeg" width="0" height="0"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/musics">Musics</a><a class="navbar-item" href="/videos">Videos</a><a class="navbar-item" href="/galleries">Galleries</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item dark-mode-btn" title="Light|Dark" rel="noopener" onclick="switchDarkMode()">    <i class="fas fa-lightbulb">  </i></a><a class="navbar-item" target="_blank" rel="noopener" title="Musics" href="/musics"><i class="fas fa-music"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Videos" href="/videos"><i class="fas fa-video"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="WeChat Account (labsec)" href="/assets/images/about/ljq-qrcode.jpeg"><i class="fab fa-weixin"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Jaco Liu GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="/assets/images/db.jpg" alt="Redis 原理解析以及入门实践技术选型以及解决方案指南"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-11-07T15:54:22.000Z" title="11/7/2025, 11:54:22 PM">2025-11-07</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.571Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/nosql/">nosql</a></span><span class="level-item">an hour read (About 7301 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Redis 原理解析以及入门实践技术选型以及解决方案指南</h1><div class="content"><hr><h2 id="Redis-概述"><a href="#Redis-概述" class="headerlink" title="Redis 概述"></a>Redis 概述</h2><p>Redis 作为当今最流行的内存数据结构存储系统，凭借其卓越的性能和丰富的数据类型，已成为现代应用架构中不可或缺的组件。<br>本文将基于 Debian 12 环境从 Redis 的版本演进出发，完整部署流程，从单体到集群，从基础配置到高级应用，最后提供多语言客户端操作示例，帮助新手全面快速掌握 Redis 技术栈的基本使用，有个相对基础的思路。</p><span id="more"></span><h2 id="一、Redis-版本历史与特性演进"><a href="#一、Redis-版本历史与特性演进" class="headerlink" title="一、Redis 版本历史与特性演进"></a>一、Redis 版本历史与特性演进</h2><h3 id="1-1-开源协议的重大变化"><a href="#1-1-开源协议的重大变化" class="headerlink" title="1.1 开源协议的重大变化"></a>1.1 开源协议的重大变化</h3><p>2024 年 3 月 20 日，Redis Labs 宣布从 Redis 7.4 开始，将原先宽松的 BSD 三条款许可修改为 Redis Source Available License（RSALv2）和 Server Side Public License（SSPLv1）双重许可协议。 这一变化意味着 Redis 7.4 及以上版本不再符合 OSI（开放源代码促进会）定义的开源标准，对商业使用场景产生了深远影响。</p><h3 id="1-2-主要版本特性概览"><a href="#1-2-主要版本特性概览" class="headerlink" title="1.2 主要版本特性概览"></a>1.2 主要版本特性概览</h3><h4 id="Redis-7-0-历史性变革"><a href="#Redis-7-0-历史性变革" class="headerlink" title="Redis 7.0 - 历史性变革"></a>Redis 7.0 - 历史性变革</h4><ul><li><strong>统一发布策略</strong>：Redis 7.0 引入了 Unified Redis Release 统一发布策略，这是 Redis 历史上改变最多的大版本。</li><li><strong>50+ 新命令</strong>：包含大量核心新特性和改进，显著提升性能、功能和可靠性。</li><li><strong>AOF 存储优化</strong>：将 AOF 文件的存储方式改为在一个文件夹下存储多个文件，提升写入性能。</li><li><strong>RDB 版本升级</strong>：将持久化文件 RDB 的版本升级为 10，与之前的 RDB 文件版本不兼容。</li></ul><h4 id="Redis-7-2-客户端缓存增强"><a href="#Redis-7-2-客户端缓存增强" class="headerlink" title="Redis 7.2 - 客户端缓存增强"></a>Redis 7.2 - 客户端缓存增强</h4><ul><li><strong>Client-Side Caching</strong>：客户端缓存功能大幅降低网络延迟，提升读取性能。</li><li><strong>地理空间查询改进</strong>：优化地理空间数据操作，支持更复杂的地理位置计算。</li><li><strong>JSON 数据操作简化</strong>：提供更简洁的 JSON 数据处理接口。</li></ul><h4 id="Redis-7-4-企业级特性"><a href="#Redis-7-4-企业级特性" class="headerlink" title="Redis 7.4 - 企业级特性"></a>Redis 7.4 - 企业级特性</h4><ul><li><strong>哈希字段过期</strong>：支持对哈希表中的单个字段设置过期时间。</li><li><strong>指标流引擎预览</strong>：提供实时监控和分析能力。</li><li><strong>集群管理 API 增强</strong>：新增用于检查数据库可用性、重新平衡分片、故障转移分片和控制数据库流量的 API。</li></ul><h2 id="二、Redis-基本部署"><a href="#二、Redis-基本部署" class="headerlink" title="二、Redis 基本部署"></a>二、Redis 基本部署</h2><ul><li>系统测试环境：Debian 12</li><li>Redis当前稳定版本：Redis 7.4</li></ul><h3 id="2-1-系统环境准备"><a href="#2-1-系统环境准备" class="headerlink" title="2.1 系统环境准备"></a>2.1 系统环境准备</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新系统包列表</span></span><br><span class="line">sudo apt update -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装基础依赖</span></span><br><span class="line">sudo apt install -y build-essential libssl-dev libsystemd-dev</span><br></pre></td></tr></table></figure><h3 id="2-2-安装-Redis"><a href="#2-2-安装-Redis" class="headerlink" title="2.2 安装 Redis"></a>2.2 安装 Redis</h3><h4 id="方法一：APT-官方仓库安装（推荐）"><a href="#方法一：APT-官方仓库安装（推荐）" class="headerlink" title="方法一：APT 官方仓库安装（推荐）"></a>方法一：APT 官方仓库安装（推荐）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 Redis 服务器</span></span><br><span class="line">sudo apt install -y redis-server</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查安装状态</span></span><br><span class="line">sudo systemctl status redis-server</span><br></pre></td></tr></table></figure><p>Redis 安装完成后，默认已启动并设置为开机自启。</p><h4 id="方法二：源码编译安装（定制需求）"><a href="#方法二：源码编译安装（定制需求）" class="headerlink" title="方法二：源码编译安装（定制需求）"></a>方法二：源码编译安装（定制需求）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装编译依赖</span></span><br><span class="line">sudo apt install -y wget tar make gcc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载 Redis 源码</span></span><br><span class="line">wget https://download.redis.io/redis-stable.tar.gz</span><br><span class="line">tar -xzvf redis-stable.tar.gz</span><br><span class="line"><span class="built_in">cd</span> redis-stable</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译安装</span></span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证安装</span></span><br><span class="line">redis-server --version</span><br></pre></td></tr></table></figure><p>在 Debian 12 (Bookworm) 上构建并运行 Redis 开源版需要先安装所需依赖项，然后下载并提取 Redis 源代码进行构建。</p><h2 id="三、Redis-核心原理与特性"><a href="#三、Redis-核心原理与特性" class="headerlink" title="三、Redis 核心原理与特性"></a>三、Redis 核心原理与特性</h2><h3 id="3-1-核心架构原理"><a href="#3-1-核心架构原理" class="headerlink" title="3.1 核心架构原理"></a>3.1 核心架构原理</h3><p>Redis 采用单线程事件驱动模型，通过 I&#x2F;O 多路复用技术实现高并发处理。其核心架构包含：</p><ul><li><strong>事件循环</strong>：处理客户端连接、命令执行、定时任务</li><li><strong>内存管理</strong>：高效的内存分配器和对象共享机制</li><li><strong>持久化机制</strong>：RDB 快照和 AOF 日志两种持久化方式</li><li><strong>复制机制</strong>：主从复制保证数据高可用</li></ul><h3 id="3-2-数据类型与应用场景"><a href="#3-2-数据类型与应用场景" class="headerlink" title="3.2 数据类型与应用场景"></a>3.2 数据类型与应用场景</h3><table><thead><tr><th>数据类型</th><th>特点</th><th>典型应用场景</th></tr></thead><tbody><tr><td>String</td><td>简单键值对，支持 INCR&#x2F;DECR</td><td>计数器、缓存、分布式锁</td></tr><tr><td>Hash</td><td>字段-值映射表</td><td>对象存储、用户信息</td></tr><tr><td>List</td><td>双向链表</td><td>消息队列、最新消息列表</td></tr><tr><td>Set</td><td>无序集合，元素唯一</td><td>标签系统、好友关系</td></tr><tr><td>Sorted Set</td><td>有序集合，按分数排序</td><td>排行榜、优先级队列</td></tr><tr><td>Bitmap</td><td>位图操作</td><td>用户签到、活跃度分析</td></tr><tr><td>HyperLogLog</td><td>基数统计</td><td>UV 统计、数据去重</td></tr></tbody></table><h2 id="四、redis-conf-详细配置解析"><a href="#四、redis-conf-详细配置解析" class="headerlink" title="四、redis.conf 详细配置解析"></a>四、redis.conf 详细配置解析</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Redis 配置文件详细中文注释</span></span><br><span class="line"><span class="comment"># 适用于 Redis 7.x 版本</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 基本配置 ========================</span></span><br><span class="line"><span class="comment"># 绑定 IP 地址，注释掉或设置为 0.0.0.0 允许远程访问</span></span><br><span class="line"><span class="comment"># 默认只允许本地访问，生产环境需要根据安全策略配置</span></span><br><span class="line"><span class="built_in">bind</span> 127.0.0.1 ::1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保护模式，当没有设置密码且只绑定 127.0.0.1 时启用</span></span><br><span class="line">protected-mode <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 服务端口号</span></span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"><span class="comment"># TCP 连接 backlog 队列大小</span></span><br><span class="line">tcp-backlog 511</span><br><span class="line"></span><br><span class="line"><span class="comment"># 超时时间，0 表示永不超时（单位：秒）</span></span><br><span class="line"><span class="built_in">timeout</span> 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># TCP keepalive 时间（单位：秒）</span></span><br><span class="line">tcp-keepalive 300</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 守护进程配置 ========================</span></span><br><span class="line"><span class="comment"># 是否以守护进程方式运行</span></span><br><span class="line">daemonize no</span><br><span class="line"></span><br><span class="line"><span class="comment"># PID 文件路径</span></span><br><span class="line">pidfile /var/run/redis/redis-server.pid</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志级别：debug, verbose, notice, warning</span></span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志文件路径</span></span><br><span class="line">logfile /var/log/redis/redis-server.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 内存管理 ========================</span></span><br><span class="line"><span class="comment"># 最大内存限制，0 表示无限制（单位：bytes）</span></span><br><span class="line">maxmemory 0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 内存淘汰策略，当达到 maxmemory 时触发</span></span><br><span class="line"><span class="comment"># noeviction: 不淘汰，返回错误</span></span><br><span class="line"><span class="comment"># allkeys-lru: 所有 key 的 LRU 淘汰</span></span><br><span class="line"><span class="comment"># volatile-lru: 仅对设置了过期时间的 key 进行 LRU 淘汰</span></span><br><span class="line"><span class="comment"># allkeys-random: 所有 key 的随机淘汰</span></span><br><span class="line"><span class="comment"># volatile-random: 仅对设置了过期时间的 key 进行随机淘汰</span></span><br><span class="line"><span class="comment"># volatile-ttl: 优先淘汰剩余时间短的 key</span></span><br><span class="line">maxmemory-policy noeviction</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 持久化配置 ========================</span></span><br><span class="line"><span class="comment"># RDB 持久化配置</span></span><br><span class="line"><span class="comment"># 格式：save &lt;秒数&gt; &lt;变化次数&gt;</span></span><br><span class="line"><span class="comment"># 900 秒内有 1 次变化则保存</span></span><br><span class="line"><span class="comment"># 300 秒内有 10 次变化则保存</span></span><br><span class="line"><span class="comment"># 60 秒内有 10000 次变化则保存</span></span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># RDB 文件名</span></span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line"><span class="comment"># RDB 文件保存目录</span></span><br><span class="line"><span class="built_in">dir</span> /var/lib/redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># AOF 持久化配置</span></span><br><span class="line"><span class="comment"># 是否启用 AOF</span></span><br><span class="line">appendonly no</span><br><span class="line"></span><br><span class="line"><span class="comment"># AOF 文件名</span></span><br><span class="line">appendfilename <span class="string">&quot;appendonly.aof&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># AOF 同步策略</span></span><br><span class="line"><span class="comment"># always: 每次写操作都同步（最安全，性能最差）</span></span><br><span class="line"><span class="comment"># everysec: 每秒同步一次（推荐，平衡安全性和性能）</span></span><br><span class="line"><span class="comment"># no: 由操作系统决定（性能最好，安全性最差）</span></span><br><span class="line">appendfsync everysec</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 安全配置 ========================</span></span><br><span class="line"><span class="comment"># 访问密码，建议设置强密码</span></span><br><span class="line">requirepass your_strong_password_here</span><br><span class="line"></span><br><span class="line"><span class="comment"># 命令重命名，用于禁用危险命令</span></span><br><span class="line"><span class="comment"># rename-command FLUSHDB &quot;&quot;</span></span><br><span class="line"><span class="comment"># rename-command FLUSHALL &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 集群配置 ========================</span></span><br><span class="line"><span class="comment"># 是否启用集群模式</span></span><br><span class="line">cluster-enabled no</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集群节点超时时间（毫秒）</span></span><br><span class="line">cluster-node-timeout 15000</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集群配置文件</span></span><br><span class="line">cluster-config-file nodes-6379.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 客户端配置 ========================</span></span><br><span class="line"><span class="comment"># 最大客户端连接数</span></span><br><span class="line">maxclients 10000</span><br><span class="line"></span><br><span class="line"><span class="comment"># 客户端输出缓冲区限制</span></span><br><span class="line"><span class="comment"># 格式：client-output-buffer-limit &lt;类别&gt; &lt;硬限制&gt; &lt;软限制&gt; &lt;软限制时间&gt;</span></span><br><span class="line">client-output-buffer-limit normal 0 0 0</span><br><span class="line">client-output-buffer-limit replica 256mb 64mb 60</span><br><span class="line">client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line"></span><br><span class="line"><span class="comment"># ======================== 性能调优 ========================</span></span><br><span class="line"><span class="comment"># 哈希表小对象优化</span></span><br><span class="line">hash-max-ziplist-entries 512</span><br><span class="line">hash-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表小对象优化</span></span><br><span class="line">list-max-ziplist-size -2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集合小对象优化</span></span><br><span class="line">set-max-intset-entries 512</span><br><span class="line"></span><br><span class="line"><span class="comment"># 有序集合小对象优化</span></span><br><span class="line">zset-max-ziplist-entries 128</span><br><span class="line">zset-max-ziplist-value 64</span><br><span class="line"></span><br><span class="line"><span class="comment"># 活跃碎片整理</span></span><br><span class="line">activedefrag <span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p>找到 <code>bind 127.0.0.1 ::1</code> 配置项，将其注释掉或修改为允许的 IP 地址，然后保存并重启 Redis 服务。</p><h2 id="五、从单体到集群：Redis-高可用架构"><a href="#五、从单体到集群：Redis-高可用架构" class="headerlink" title="五、从单体到集群：Redis 高可用架构"></a>五、从单体到集群：Redis 高可用架构</h2><h3 id="5-1-单体架构部署"><a href="#5-1-单体架构部署" class="headerlink" title="5.1 单体架构部署"></a>5.1 单体架构部署</h3><p>单体架构适用于小型应用或开发环境，配置简单，维护成本低。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单体 Redis 配置要点</span></span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0              <span class="comment"># 允许远程访问</span></span><br><span class="line">protected-mode no         <span class="comment"># 关闭保护模式</span></span><br><span class="line">requirepass your_password <span class="comment"># 设置强密码</span></span><br><span class="line">maxmemory 2gb             <span class="comment"># 设置内存限制</span></span><br><span class="line">maxmemory-policy allkeys-lru  <span class="comment"># LRU 淘汰策略</span></span><br></pre></td></tr></table></figure><h3 id="5-2-主从复制架构"><a href="#5-2-主从复制架构" class="headerlink" title="5.2 主从复制架构"></a>5.2 主从复制架构</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主节点配置（master.conf）</span></span><br><span class="line">port 6379</span><br><span class="line">requirepass master_password</span><br><span class="line">masterauth slave_password  <span class="comment"># 用于从节点验证</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从节点配置（slave.conf）</span></span><br><span class="line">port 6380</span><br><span class="line">slaveof 192.168.1.100 6379  <span class="comment"># 主节点地址</span></span><br><span class="line">masterauth master_password  <span class="comment"># 主节点密码</span></span><br><span class="line">requirepass slave_password  <span class="comment"># 从节点密码</span></span><br></pre></td></tr></table></figure><h3 id="5-3-Redis-Cluster-集群部署"><a href="#5-3-Redis-Cluster-集群部署" class="headerlink" title="5.3 Redis Cluster 集群部署"></a>5.3 Redis Cluster 集群部署</h3><p>Redis 集群需要至少 6 个节点（3 主 3 从）才能保证高可用性。</p><h4 id="部署步骤："><a href="#部署步骤：" class="headerlink" title="部署步骤："></a>部署步骤：</h4><ol><li><p><strong>准备节点</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建集群目录</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /data/redis-cluster/&#123;7000,7001,7002,7003,7004,7005&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>配置文件模板</strong>（cluster-node.conf）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">port 7000</span><br><span class="line"><span class="built_in">bind</span> 0.0.0.0</span><br><span class="line">protected-mode no</span><br><span class="line">cluster-enabled <span class="built_in">yes</span></span><br><span class="line">cluster-config-file nodes-7000.conf</span><br><span class="line">cluster-node-timeout 15000</span><br><span class="line">appendonly <span class="built_in">yes</span></span><br><span class="line">requirepass cluster_password</span><br><span class="line">masterauth cluster_password</span><br></pre></td></tr></table></figure></li><li><p><strong>启动所有节点</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为每个节点复制配置文件并修改端口号</span></span><br><span class="line"><span class="keyword">for</span> port <span class="keyword">in</span> &#123;7000..7005&#125;; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">cp</span> cluster-node.conf /data/redis-cluster/<span class="variable">$port</span>/redis.conf</span><br><span class="line">    sed -i <span class="string">&quot;s/port 7000/port <span class="variable">$port</span>/&quot;</span> /data/redis-cluster/<span class="variable">$port</span>/redis.conf</span><br><span class="line">    sed -i <span class="string">&quot;s/nodes-7000.conf/nodes-<span class="variable">$port</span>.conf/&quot;</span> /data/redis-cluster/<span class="variable">$port</span>/redis.conf</span><br><span class="line">    redis-server /data/redis-cluster/<span class="variable">$port</span>/redis.conf</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></li><li><p><strong>创建集群</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">redis-cli --cluster create \</span><br><span class="line">192.168.1.100:7000 192.168.1.100:7001 192.168.1.100:7002 \</span><br><span class="line">192.168.1.100:7003 192.168.1.100:7004 192.168.1.100:7005 \</span><br><span class="line">--cluster-replicas 1 \</span><br><span class="line">-a cluster_password</span><br></pre></td></tr></table></figure></li></ol><p>在每台服务器上分别创建三个不同的配置文件，例如：Redis 实例 1 监听端口 7000，作为集群的一个主节点；Redis 实例 2 监听端口 7001，作为集群的从节点。</p><h2 id="六、Docker-容器化部署"><a href="#六、Docker-容器化部署" class="headerlink" title="六、Docker 容器化部署"></a>六、Docker 容器化部署</h2><h3 id="6-1-单机-Redis-Docker-部署"><a href="#6-1-单机-Redis-Docker-部署" class="headerlink" title="6.1 单机 Redis Docker 部署"></a>6.1 单机 Redis Docker 部署</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose.yml</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:7.2-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">redis-single</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6379:6379&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/data</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">REDIS_PASSWORD=your_strong_password</span></span><br><span class="line">    <span class="attr">healthcheck:</span></span><br><span class="line">      <span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;redis-cli&quot;</span>, <span class="string">&quot;ping&quot;</span>]</span><br><span class="line">      <span class="attr">interval:</span> <span class="string">30s</span></span><br><span class="line">      <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">      <span class="attr">retries:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure><h3 id="6-2-Redis-Cluster-Docker-部署"><a href="#6-2-Redis-Cluster-Docker-部署" class="headerlink" title="6.2 Redis Cluster Docker 部署"></a>6.2 Redis Cluster Docker 部署</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose-cluster.yml</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.8&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">redis-node-1:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:7.2-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">redis-cluster-1</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7000:7000&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;17000:17000&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./cluster/7000/redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis-node-2:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:7.2-alpine</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">redis-cluster-2</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;7001:7001&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;17001:17001&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./cluster/7001/redis.conf:/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span> <span class="string">/usr/local/etc/redis/redis.conf</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># ... 配置其他 4 个节点</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">redis-net:</span></span><br><span class="line">    <span class="attr">driver:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure><p>通过自定义配置文件，我们可以确保 Redis 实例按照我们的业务需求和安全标准运行。</p><h3 id="6-3-Docker-部署注意事项"><a href="#6-3-Docker-部署注意事项" class="headerlink" title="6.3 Docker 部署注意事项"></a>6.3 Docker 部署注意事项</h3><ol><li><strong>数据持久化</strong>：必须挂载数据卷，避免容器重启数据丢失</li><li><strong>网络配置</strong>：集群模式需要暴露集群总线端口（客户端端口 + 10000）</li><li><strong>资源限制</strong>：设置合理的内存和 CPU 限制</li><li><strong>健康检查</strong>：配置健康检查确保服务可用性</li><li><strong>安全加固</strong>：设置密码、限制访问 IP、禁用危险命令</li></ol><h2 id="七、多语言客户端操作示例"><a href="#七、多语言客户端操作示例" class="headerlink" title="七、多语言客户端操作示例"></a>七、多语言客户端操作示例</h2><h3 id="7-1-PHP-操作-Redis"><a href="#7-1-PHP-操作-Redis" class="headerlink" title="7.1 PHP 操作 Redis"></a>7.1 PHP 操作 Redis</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 安装：composer require predis/predis</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;vendor/autoload.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Predis</span>\<span class="title">Client</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接配置</span></span><br><span class="line"><span class="variable">$parameters</span> = [</span><br><span class="line">    <span class="string">&#x27;scheme&#x27;</span> =&gt; <span class="string">&#x27;tcp&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>   =&gt; <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>   =&gt; <span class="number">6379</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span> =&gt; <span class="string">&#x27;your_password&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span> =&gt; <span class="number">0</span>,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建客户端</span></span><br><span class="line"><span class="variable">$client</span> = <span class="keyword">new</span> <span class="title class_">Client</span>(<span class="variable">$parameters</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串操作</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">set</span>(<span class="string">&#x27;user:1:name&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">setex</span>(<span class="string">&#x27;user:1:token&#x27;</span>, <span class="number">3600</span>, <span class="string">&#x27;abc123&#x27;</span>); <span class="comment">// 设置过期时间</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$name</span> = <span class="variable">$client</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;user:1:name&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;用户名: &quot;</span> . <span class="variable">$name</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 哈希表操作</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">hset</span>(<span class="string">&#x27;user:1&#x27;</span>, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">hset</span>(<span class="string">&#x27;user:1&#x27;</span>, <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;zhangsan@example.com&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">hset</span>(<span class="string">&#x27;user:1&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="number">25</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$userInfo</span> = <span class="variable">$client</span>-&gt;<span class="title function_ invoke__">hgetall</span>(<span class="string">&#x27;user:1&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$userInfo</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 列表操作</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">rpush</span>(<span class="string">&#x27;news:latest&#x27;</span>, <span class="string">&#x27;新闻1&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">rpush</span>(<span class="string">&#x27;news:latest&#x27;</span>, <span class="string">&#x27;新闻2&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">rpush</span>(<span class="string">&#x27;news:latest&#x27;</span>, <span class="string">&#x27;新闻3&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$latestNews</span> = <span class="variable">$client</span>-&gt;<span class="title function_ invoke__">lrange</span>(<span class="string">&#x27;news:latest&#x27;</span>, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$latestNews</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 有序集合操作</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">zadd</span>(<span class="string">&#x27;leaderboard&#x27;</span>, <span class="number">100</span>, <span class="string">&#x27;player1&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">zadd</span>(<span class="string">&#x27;leaderboard&#x27;</span>, <span class="number">150</span>, <span class="string">&#x27;player2&#x27;</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">zadd</span>(<span class="string">&#x27;leaderboard&#x27;</span>, <span class="number">80</span>, <span class="string">&#x27;player3&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$topPlayers</span> = <span class="variable">$client</span>-&gt;<span class="title function_ invoke__">zrevrange</span>(<span class="string">&#x27;leaderboard&#x27;</span>, <span class="number">0</span>, <span class="number">2</span>, [<span class="string">&#x27;withscores&#x27;</span> =&gt; <span class="literal">true</span>]);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="variable">$topPlayers</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 事务操作</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">multi</span>()</span><br><span class="line">    -&gt;<span class="title function_ invoke__">set</span>(<span class="string">&#x27;counter&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">incr</span>(<span class="string">&#x27;counter&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">incr</span>(<span class="string">&#x27;counter&#x27;</span>)</span><br><span class="line">    -&gt;<span class="title function_ invoke__">exec</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable">$counter</span> = <span class="variable">$client</span>-&gt;<span class="title function_ invoke__">get</span>(<span class="string">&#x27;counter&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;计数器值: &quot;</span> . <span class="variable">$counter</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 关闭连接</span></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">disconnect</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>Redis 的操作很多，PHP 处理 Redis 的例子包括常用的一些方法，如字符串、哈希、列表、集合等数据类型的操作。</p><h3 id="7-2-Golang-操作-Redis"><a href="#7-2-Golang-操作-Redis" class="headerlink" title="7.2 Golang 操作 Redis"></a>7.2 Golang 操作 Redis</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;context&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;github.com/redis/go-redis/v9&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	ctx := context.Background()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 创建 Redis 客户端</span></span><br><span class="line">	rdb := redis.NewClient(&amp;redis.Options&#123;</span><br><span class="line">		Addr:     <span class="string">&quot;localhost:6379&quot;</span>,</span><br><span class="line">		Password: <span class="string">&quot;your_password&quot;</span>,</span><br><span class="line">		DB:       <span class="number">0</span>,</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 测试连接</span></span><br><span class="line">	pong, err := rdb.Ping(ctx).Result()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;连接成功:&quot;</span>, pong)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 字符串操作</span></span><br><span class="line">	err = rdb.Set(ctx, <span class="string">&quot;user:2:name&quot;</span>, <span class="string">&quot;李四&quot;</span>, <span class="number">0</span>).Err()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	name, err := rdb.Get(ctx, <span class="string">&quot;user:2:name&quot;</span>).Result()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;用户名:&quot;</span>, name)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 哈希表操作</span></span><br><span class="line">	userData := <span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">		<span class="string">&quot;name&quot;</span>:  <span class="string">&quot;李四&quot;</span>,</span><br><span class="line">		<span class="string">&quot;email&quot;</span>: <span class="string">&quot;lisi@example.com&quot;</span>,</span><br><span class="line">		<span class="string">&quot;age&quot;</span>:   <span class="number">28</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	err = rdb.HMSet(ctx, <span class="string">&quot;user:2&quot;</span>, userData).Err()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	email, err := rdb.HGet(ctx, <span class="string">&quot;user:2&quot;</span>, <span class="string">&quot;email&quot;</span>).Result()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;邮箱:&quot;</span>, email)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 列表操作</span></span><br><span class="line">	err = rdb.RPush(ctx, <span class="string">&quot;products:hot&quot;</span>, <span class="string">&quot;手机&quot;</span>, <span class="string">&quot;电脑&quot;</span>, <span class="string">&quot;平板&quot;</span>).Err()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	products, err := rdb.LRange(ctx, <span class="string">&quot;products:hot&quot;</span>, <span class="number">0</span>, <span class="number">-1</span>).Result()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;热门产品:&quot;</span>, products)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 事务操作</span></span><br><span class="line">	tx := rdb.TxPipelined(ctx, <span class="function"><span class="keyword">func</span><span class="params">(pipe redis.Pipeliner)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">		pipe.Set(ctx, <span class="string">&quot;order:count&quot;</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">		pipe.Incr(ctx, <span class="string">&quot;order:count&quot;</span>)</span><br><span class="line">		pipe.Incr(ctx, <span class="string">&quot;order:count&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err := tx[<span class="number">0</span>].Err(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	orderCount, err := rdb.Get(ctx, <span class="string">&quot;order:count&quot;</span>).Int64()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;订单数量:&quot;</span>, orderCount)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Pipeline 批量操作</span></span><br><span class="line">	pipe := rdb.Pipeline()</span><br><span class="line">	pipe.Set(ctx, <span class="string">&quot;counter:view&quot;</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">	pipe.Incr(ctx, <span class="string">&quot;counter:view&quot;</span>)</span><br><span class="line">	pipe.Incr(ctx, <span class="string">&quot;counter:view&quot;</span>)</span><br><span class="line">	pipe.Exec(ctx)</span><br><span class="line"></span><br><span class="line">	viewCount, err := rdb.Get(ctx, <span class="string">&quot;counter:view&quot;</span>).Int64()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;浏览次数:&quot;</span>, viewCount)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 发布订阅</span></span><br><span class="line">	pubsub := rdb.Subscribe(ctx, <span class="string">&quot;news_channel&quot;</span>)</span><br><span class="line">	<span class="keyword">defer</span> pubsub.Close()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 启动 goroutine 处理消息</span></span><br><span class="line">	ch := pubsub.Channel()</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> msg := <span class="keyword">range</span> ch &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;收到消息: %s\n&quot;</span>, msg.Payload)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 发布消息</span></span><br><span class="line">	err = rdb.Publish(ctx, <span class="string">&quot;news_channel&quot;</span>, <span class="string">&quot;Redis 发布订阅示例&quot;</span>).Err()</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(err)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	time.Sleep(<span class="number">2</span> * time.Second) <span class="comment">// 等待消息处理</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 关闭连接</span></span><br><span class="line">	rdb.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过 redis.NewClient 函数即可创建一个 redis 客户端，这个方法接收一个 redis.Options 对象参数，通过这个参数可以配置 redis 相关的属性。</p><h3 id="7-3-Python-操作-Redis"><a href="#7-3-Python-操作-Redis" class="headerlink" title="7.3 Python 操作 Redis"></a>7.3 Python 操作 Redis</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line"><span class="keyword">from</span> redis.cluster <span class="keyword">import</span> RedisCluster</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单机 Redis 连接</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">connect_redis</span>():</span><br><span class="line">    <span class="keyword">return</span> redis.Redis(</span><br><span class="line">        host=<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">        port=<span class="number">6379</span>,</span><br><span class="line">        password=<span class="string">&#x27;your_password&#x27;</span>,</span><br><span class="line">        decode_responses=<span class="literal">True</span>,  <span class="comment"># 自动解码响应</span></span><br><span class="line">        db=<span class="number">0</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集群 Redis 连接</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">connect_redis_cluster</span>():</span><br><span class="line">    <span class="keyword">return</span> RedisCluster(</span><br><span class="line">        host=<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">        port=<span class="number">7000</span>,</span><br><span class="line">        password=<span class="string">&#x27;cluster_password&#x27;</span>,</span><br><span class="line">        decode_responses=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">string_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;字符串操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;=== 字符串操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 设置键值</span></span><br><span class="line">    r.<span class="built_in">set</span>(<span class="string">&#x27;user:3:name&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>)</span><br><span class="line">    r.setex(<span class="string">&#x27;user:3:session&#x27;</span>, <span class="number">3600</span>, <span class="string">&#x27;session_token_123&#x27;</span>)  <span class="comment"># 设置过期时间</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取值</span></span><br><span class="line">    name = r.get(<span class="string">&#x27;user:3:name&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;用户名: <span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 批量操作</span></span><br><span class="line">    r.mset(&#123;</span><br><span class="line">        <span class="string">&#x27;user:3:age&#x27;</span>: <span class="number">30</span>,</span><br><span class="line">        <span class="string">&#x27;user:3:city&#x27;</span>: <span class="string">&#x27;北京&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 递增操作</span></span><br><span class="line">    r.<span class="built_in">set</span>(<span class="string">&#x27;counter:views&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    r.incr(<span class="string">&#x27;counter:views&#x27;</span>)</span><br><span class="line">    r.incr(<span class="string">&#x27;counter:views&#x27;</span>, <span class="number">5</span>)</span><br><span class="line">    views = r.get(<span class="string">&#x27;counter:views&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;浏览次数: <span class="subst">&#123;views&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hash_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;哈希表操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n=== 哈希表操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 设置哈希字段</span></span><br><span class="line">    user_key = <span class="string">&#x27;user:3&#x27;</span></span><br><span class="line">    r.hset(user_key, <span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>)</span><br><span class="line">    r.hset(user_key, <span class="string">&#x27;email&#x27;</span>, <span class="string">&#x27;wangwu@example.com&#x27;</span>)</span><br><span class="line">    r.hset(user_key, <span class="string">&#x27;age&#x27;</span>, <span class="number">30</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取单个字段</span></span><br><span class="line">    email = r.hget(user_key, <span class="string">&#x27;email&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;邮箱: <span class="subst">&#123;email&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取所有字段</span></span><br><span class="line">    user_info = r.hgetall(user_key)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;用户信息: <span class="subst">&#123;user_info&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 批量设置</span></span><br><span class="line">    r.hmset(user_key, &#123;</span><br><span class="line">        <span class="string">&#x27;phone&#x27;</span>: <span class="string">&#x27;13800138000&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;address&#x27;</span>: <span class="string">&#x27;北京市海淀区&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 字段存在性检查</span></span><br><span class="line">    exists = r.hexists(user_key, <span class="string">&#x27;phone&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;phone 字段存在: <span class="subst">&#123;exists&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">list_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;列表操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n=== 列表操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 添加元素</span></span><br><span class="line">    news_key = <span class="string">&#x27;news:latest&#x27;</span></span><br><span class="line">    r.rpush(news_key, <span class="string">&#x27;科技新闻1&#x27;</span>)</span><br><span class="line">    r.rpush(news_key, <span class="string">&#x27;科技新闻2&#x27;</span>)</span><br><span class="line">    r.rpush(news_key, <span class="string">&#x27;科技新闻3&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取范围</span></span><br><span class="line">    latest_news = r.lrange(news_key, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;最新新闻: <span class="subst">&#123;latest_news&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 弹出元素</span></span><br><span class="line">    last_news = r.rpop(news_key)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;弹出的新闻: <span class="subst">&#123;last_news&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 列表长度</span></span><br><span class="line">    news_count = r.llen(news_key)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;剩余新闻数量: <span class="subst">&#123;news_count&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sorted_set_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;有序集合操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n=== 有序集合操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    leaderboard_key = <span class="string">&#x27;game:leaderboard&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 添加成员</span></span><br><span class="line">    r.zadd(leaderboard_key, &#123;<span class="string">&#x27;player1&#x27;</span>: <span class="number">100</span>, <span class="string">&#x27;player2&#x27;</span>: <span class="number">150</span>, <span class="string">&#x27;player3&#x27;</span>: <span class="number">80</span>&#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取排名</span></span><br><span class="line">    rank = r.zrank(leaderboard_key, <span class="string">&#x27;player2&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;player2 排名: <span class="subst">&#123;rank&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取分数</span></span><br><span class="line">    score = r.zscore(leaderboard_key, <span class="string">&#x27;player2&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;player2 分数: <span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 获取前3名</span></span><br><span class="line">    top_players = r.zrevrange(leaderboard_key, <span class="number">0</span>, <span class="number">2</span>, withscores=<span class="literal">True</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;排行榜前3名:&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> player, score <span class="keyword">in</span> top_players:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;  <span class="subst">&#123;player&#125;</span>: <span class="subst">&#123;score&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">transaction_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;事务操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n=== 事务操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 创建管道</span></span><br><span class="line">    pipe = r.pipeline()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 开启事务</span></span><br><span class="line">        pipe.multi()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 事务中的操作</span></span><br><span class="line">        pipe.<span class="built_in">set</span>(<span class="string">&#x27;order:id&#x27;</span>, <span class="number">1000</span>)</span><br><span class="line">        pipe.incr(<span class="string">&#x27;order:id&#x27;</span>)</span><br><span class="line">        pipe.incr(<span class="string">&#x27;order:id&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 执行事务</span></span><br><span class="line">        results = pipe.execute()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;事务执行结果: <span class="subst">&#123;results&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 获取最终值</span></span><br><span class="line">        final_id = r.get(<span class="string">&#x27;order:id&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;最终订单ID: <span class="subst">&#123;final_id&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> redis.WatchError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;事务执行失败，数据被修改&quot;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        pipe.reset()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pubsub_operations</span>(<span class="params">r</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;发布订阅操作示例&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;\n=== 发布订阅操作 ===&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 创建发布/订阅客户端</span></span><br><span class="line">    pubsub = r.pubsub()</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 订阅频道</span></span><br><span class="line">    pubsub.subscribe(<span class="string">&#x27;news_channel&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;已订阅 news_channel 频道&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 发布消息</span></span><br><span class="line">    r.publish(<span class="string">&#x27;news_channel&#x27;</span>, <span class="string">&#x27;Python Redis 发布订阅示例&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;已发布消息到 news_channel&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 等待接收消息</span></span><br><span class="line">    message = pubsub.get_message(timeout=<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">if</span> message:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;收到消息: <span class="subst">&#123;message&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 退订</span></span><br><span class="line">    pubsub.unsubscribe(<span class="string">&#x27;news_channel&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;开始测试 Redis 操作: <span class="subst">&#123;datetime.now()&#125;</span>&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 连接 Redis</span></span><br><span class="line">    r = connect_redis()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># 测试连接</span></span><br><span class="line">        ping_result = r.ping()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Redis 连接状态: <span class="subst">&#123;ping_result&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 执行各种操作</span></span><br><span class="line">        string_operations(r)</span><br><span class="line">        hash_operations(r)</span><br><span class="line">        list_operations(r)</span><br><span class="line">        sorted_set_operations(r)</span><br><span class="line">        transaction_operations(r)</span><br><span class="line">        pubsub_operations(r)</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;\n测试完成: <span class="subst">&#123;datetime.now()&#125;</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;发生错误: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        r.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>连接示例中，可以通过 decode_responses&#x3D;True 参数来解码 Redis 返回的二进制响应。</p><h2 id="八、关键注意事项与最佳实践"><a href="#八、关键注意事项与最佳实践" class="headerlink" title="八、关键注意事项与最佳实践"></a>八、关键注意事项与最佳实践</h2><h3 id="8-1-安全防护"><a href="#8-1-安全防护" class="headerlink" title="8.1 安全防护"></a>8.1 安全防护</h3><ol><li><strong>密码策略</strong>：必须设置强密码，避免使用默认或弱密码</li><li><strong>网络隔离</strong>：Redis 服务不应直接暴露在公网，应通过防火墙或安全组限制访问</li><li><strong>命令禁用</strong>：通过 rename-command 禁用危险命令如 FLUSHDB、FLUSHALL、CONFIG</li><li><strong>定期审计</strong>：监控 Redis 日志，检查异常访问和操作</li></ol><h3 id="8-2-性能优化"><a href="#8-2-性能优化" class="headerlink" title="8.2 性能优化"></a>8.2 性能优化</h3><ol><li><p><strong>内存管理</strong>：</p><ul><li>合理设置 maxmemory 和淘汰策略</li><li>避免大 key 操作，单个 value 不超过 10MB</li><li>使用合适的数据结构，如用 Hash 存储对象</li></ul></li><li><p><strong>连接管理</strong>：</p><ul><li>使用连接池，避免频繁创建连接</li><li>设置合理的超时时间，及时释放空闲连接</li><li>监控连接数，防止连接泄漏</li></ul></li><li><p><strong>持久化策略</strong>：</p><ul><li>根据业务需求选择 RDB、AOF 或混合持久化</li><li>避免在高峰时段执行 BGSAVE</li><li>定期备份持久化文件</li></ul></li></ol><h3 id="8-3-高可用保障"><a href="#8-3-高可用保障" class="headerlink" title="8.3 高可用保障"></a>8.3 高可用保障</h3><ol><li><strong>集群部署</strong>：生产环境必须使用集群模式，至少 3 主 3 从</li><li><strong>监控告警</strong>：监控关键指标：内存使用率、连接数、命中率、延迟</li><li><strong>故障转移</strong>：配置自动故障转移，测试故障恢复流程</li><li><strong>数据备份</strong>：定期备份数据，验证备份文件可用性</li></ol><h3 id="8-4-版本选择建议"><a href="#8-4-版本选择建议" class="headerlink" title="8.4 版本选择建议"></a>8.4 版本选择建议</h3><ol><li><strong>开源版本限制</strong>：Redis 7.4 及以上版本采用新的许可协议，商业使用需谨慎评估</li><li><strong>稳定版本推荐</strong>：生产环境建议使用 Redis 7.0 或 7.2 稳定版本</li><li><strong>兼容性考虑</strong>：升级前测试客户端兼容性，特别是新协议支持</li><li><strong>长期支持</strong>：选择有长期支持的版本，避免频繁升级</li></ol><h2 id="九、感悟"><a href="#九、感悟" class="headerlink" title="九、感悟"></a>九、感悟</h2><p>Redis 作为高性能的内存数据库，在现代应用架构中扮演着越来越重要的角色。从版本演进来看，Redis 7.x 系列带来了众多创新特性，但也伴随着许可协议的重大变化，需要开发者和企业重新评估技术选型策略。</p><p>在 Debian 12 环境下部署 Redis，无论是单体、主从还是集群模式，都需要深入理解其配置参数和工作原理。通过合理的配置优化，可以充分发挥 Redis 的性能优势，同时保障系统的安全性和稳定性。</p><p>Docker 容器化部署为 Redis 提供了更灵活的部署方式，特别是在微服务架构中，可以快速构建和扩展 Redis 服务。多语言客户端的支持使得 Redis 能够无缝集成到各种技术栈中，为应用提供强大的缓存、队列和实时数据处理能力。</p><p>随着云原生和分布式系统的发展，Redis 的应用场景将更加广泛。掌握 Redis 的核心原理、最佳实践和运维技巧，将成为开发者和架构师的必备技能。在选择 Redis 作为技术方案时，需要综合考虑性能需求、成本预算、合规要求等因素，做出最适合业务发展的技术决策。</p><h4 id="重要提醒-⚠️-：由于-Redis-7-4-及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如-Valkey、DragonflyDB-等。"><a href="#重要提醒-⚠️-：由于-Redis-7-4-及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如-Valkey、DragonflyDB-等。" class="headerlink" title="重要提醒 ⚠️ ：由于 Redis 7.4 及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如 Valkey、DragonflyDB 等。"></a>重要提醒 ⚠️ ：由于 Redis 7.4 及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如 Valkey、DragonflyDB 等。</h4><hr><h2 id="十、Redis、Valkey、DragonflyDB-三者深度对比与技术选型指南（个人观点，自行评估⚠️）"><a href="#十、Redis、Valkey、DragonflyDB-三者深度对比与技术选型指南（个人观点，自行评估⚠️）" class="headerlink" title="十、Redis、Valkey、DragonflyDB 三者深度对比与技术选型指南（个人观点，自行评估⚠️）"></a>十、Redis、Valkey、DragonflyDB 三者深度对比与技术选型指南（个人观点，自行评估⚠️）</h2><h4 id="Redis：内存数据库的开创者"><a href="#Redis：内存数据库的开创者" class="headerlink" title="Redis：内存数据库的开创者"></a>Redis：内存数据库的开创者</h4><p>Redis自2009年诞生以来，一直是内存数据库领域的标杆。然而在2024-2025年，Redis经历了两次重大许可变更，从宽松的BSD协议转向带有商业限制的SSPLv1和RSALv2协议，引发了社区的广泛争议。 2025年5月，Redis 8.0发布，重新开源，采用AGPLv3许可证作为三种许可证选项之一，试图修复与社区的关系。</p><h4 id="Valkey：社区驱动的Redis分支"><a href="#Valkey：社区驱动的Redis分支" class="headerlink" title="Valkey：社区驱动的Redis分支"></a>Valkey：社区驱动的Redis分支</h4><p>面对Redis的许可变更，社区在2024年创建了Valkey分支，目标是保持Redis的核心特性和API兼容性，同时回归真正的开源理念。到2025年，Arch Linux等主流发行版已宣布采用Valkey取代Redis。 Valkey完全继承了Redis 7.0的技术基础，但保持了BSD许可证，为开发者提供了无商业限制的选择。</p><h4 id="DragonflyDB：新一代内存数据库"><a href="#DragonflyDB：新一代内存数据库" class="headerlink" title="DragonflyDB：新一代内存数据库"></a>DragonflyDB：新一代内存数据库</h4><p>2022年，一位前谷歌、前亚马逊的工程师推出了DragonflyDB，用C&#x2F;C++编写，基于BSL许可分发。 DragonflyDB采用了全新的架构设计，声称在性能上比Redis快25倍，单实例可支持数百万QPS，成为内存数据库领域的新锐力量。</p><h3 id="核心架构对比"><a href="#核心架构对比" class="headerlink" title="核心架构对比"></a>核心架构对比</h3><h4 id="线程模型"><a href="#线程模型" class="headerlink" title="线程模型"></a>线程模型</h4><ul><li><strong>Redis&#x2F;Valkey</strong>：采用单线程事件驱动模型，通过I&#x2F;O多路复用技术实现高并发，但无法充分利用多核CPU资源。</li><li><strong>DragonflyDB</strong>：采用多线程、无共享（Shared-nothing）架构，能够充分利用现代多核CPU的计算能力，实现真正的水平扩展。</li></ul><h4 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h4><ul><li><strong>Redis&#x2F;Valkey</strong>：使用传统的数据结构，如跳跃表、字典等，在单线程环境下优化良好。</li><li><strong>DragonflyDB</strong>：创新性地实现了名为”dashtable”的哈希表结构，以最小化内存开销和延迟，这是其性能优势的关键所在。</li></ul><p>####集群与扩展性</p><ul><li><strong>Redis</strong>：需要通过Redis Cluster实现分布式，配置相对复杂。</li><li><strong>Valkey</strong>：继承Redis的集群方案，保持兼容性。</li><li><strong>DragonflyDB</strong>：自带集群能力，可以利用多核，接口层面完全兼容Redis，简化了架构复杂度。</li></ul><h3 id="性能对比分析"><a href="#性能对比分析" class="headerlink" title="性能对比分析"></a>性能对比分析</h3><h4 id="基准测试结果"><a href="#基准测试结果" class="headerlink" title="基准测试结果"></a>基准测试结果</h4><p>根据官方基准测试数据，DragonflyDB在典型工作负载下实现了25倍于Redis的性能提升，单个Dragonfly服务器每秒可以处理数百万个请求。 在5GB存储测试中，Dragonfly所需的内存也显著低于Redis，展现出更高的内存效率。</p><h4 id="实际应用场景表现"><a href="#实际应用场景表现" class="headerlink" title="实际应用场景表现"></a>实际应用场景表现</h4><ul><li><strong>高并发读写场景</strong>：DragonflyDB在需要超高QPS的场景（如秒杀、实时推荐）中表现卓越，单实例支持百万量级QPS。</li><li><strong>内存密集型应用</strong>：DragonflyDB在应对TB级别的内存数据集时，内存效率优势明显。</li><li><strong>传统业务场景</strong>：Redis&#x2F;Valkey在常规缓存、会话管理等场景中仍然表现出色，且生态系统更加成熟。</li></ul><h3 id="许可协议对比"><a href="#许可协议对比" class="headerlink" title="许可协议对比"></a>许可协议对比</h3><h4 id="Redis-许可证演变"><a href="#Redis-许可证演变" class="headerlink" title="Redis 许可证演变"></a>Redis 许可证演变</h4><ul><li><strong>历史</strong>：从BSD 3-Clause到双重许可证（RSALv2&#x2F;SSPLv1），再到Redis 8.0的三许可证模式（RSALv2&#x2F;SSPLv1&#x2F;AGPLv3）。</li><li><strong>现状</strong>：虽然恢复了AGPLv3使其重新获得开源分类，但复杂的许可结构给企业带来合规风险。</li></ul><p>####Valkey 许可证</p><ul><li><strong>协议类型</strong>：BSD许可证，完全开源，无商业限制。</li><li><strong>优势</strong>：符合开源理念，企业可以自由使用、修改和分发，无许可合规风险。</li></ul><p>####DragonflyDB 许可证</p><ul><li><strong>协议类型</strong>：BSL（Business Source License），一种”源码可用”但非严格开源的协议。</li><li><strong>限制</strong>：在特定条件下（如商业用途、大规模部署）可能需要购买商业许可。</li><li><strong>优势</strong>：在开发阶段和小规模部署时免费，降低了入门门槛。</li></ul><h3 id="生态系统与兼容性"><a href="#生态系统与兼容性" class="headerlink" title="生态系统与兼容性"></a>生态系统与兼容性</h3><h4 id="API-兼容性"><a href="#API-兼容性" class="headerlink" title="API 兼容性"></a>API 兼容性</h4><ul><li><strong>Valkey</strong>：100%兼容Redis协议，现有Redis客户端和工具无需修改即可使用。</li><li><strong>DragonflyDB</strong>：接口层面完全兼容Redis，支持大部分Redis命令，但在某些高级特性（如模块、特定数据结构）上可能存在差异。</li></ul><h4 id="工具链支持"><a href="#工具链支持" class="headerlink" title="工具链支持"></a>工具链支持</h4><ul><li><strong>Redis</strong>：拥有最完善的生态系统，包括监控工具（RedisInsight）、管理工具、客户端库等。</li><li><strong>Valkey</strong>：继承Redis的工具链，大部分Redis工具可以直接使用。</li><li><strong>DragonflyDB</strong>：生态系统相对较新，工具链仍在完善中，但发展迅速。</li></ul><p>####云服务支持</p><ul><li><strong>Redis</strong>：所有主流云服务商都提供托管Redis服务（如AWS ElastiCache、Azure Cache for Redis）。</li><li><strong>Valkey</strong>：云服务商正在逐步增加支持，但覆盖范围有限。</li><li><strong>DragonflyDB</strong>：部分云服务商开始提供托管服务，但普及度较低。</li></ul><h3 id="技术选型建议"><a href="#技术选型建议" class="headerlink" title="技术选型建议"></a>技术选型建议</h3><h4 id="选择-Redis-的场景"><a href="#选择-Redis-的场景" class="headerlink" title="选择 Redis 的场景"></a>选择 Redis 的场景</h4><ul><li><strong>已有Redis投资</strong>：已经深度使用Redis，有成熟的运维体系和开发习惯。</li><li><strong>企业级支持需求</strong>：需要官方商业支持和SLA保障。</li><li><strong>复杂特性需求</strong>：需要Redis Modules（如RediSearch、RedisJSON）等高级特性。</li><li><strong>混合许可接受度</strong>：能够接受Redis 8.0的三重许可模式，且有法务团队进行合规审查。</li></ul><h4 id="选择-Valkey-的场景"><a href="#选择-Valkey-的场景" class="headerlink" title="选择 Valkey 的场景"></a>选择 Valkey 的场景</h4><ul><li><strong>开源合规优先</strong>：企业有严格的开源合规要求，无法接受SSPL&#x2F;RSAL等限制性协议。</li><li><strong>平滑迁移需求</strong>：希望从Redis无缝迁移，避免代码重构和架构调整。</li><li><strong>社区驱动偏好</strong>：信任社区驱动的开源项目，而非单一商业公司的控制。</li><li><strong>稳定性要求高</strong>：需要经过充分验证的稳定版本，而非实验性新技术。</li></ul><h4 id="选择-DragonflyDB-的场景"><a href="#选择-DragonflyDB-的场景" class="headerlink" title="选择 DragonflyDB 的场景"></a>选择 DragonflyDB 的场景</h4><ul><li><strong>极致性能需求</strong>：应用场景需要超高QPS（&gt;100K）或低延迟（&lt;1ms）。</li><li><strong>成本敏感型应用</strong>：通过单实例的高性能降低硬件成本和运维复杂度。</li><li><strong>多核CPU环境</strong>：服务器配置了多核CPU，希望充分利用硬件资源。</li><li><strong>新兴技术接受度高</strong>：愿意尝试新技术，能够承担早期采用者的风险。</li></ul><h3 id="整体未来发展趋势预估"><a href="#整体未来发展趋势预估" class="headerlink" title="整体未来发展趋势预估"></a>整体未来发展趋势预估</h3><h4 id="技术演进方向"><a href="#技术演进方向" class="headerlink" title="技术演进方向"></a>技术演进方向</h4><ul><li><strong>Redis&#x2F;Valkey</strong>：将继续优化单线程模型，增强集群管理和自动化运维能力。</li><li><strong>DragonflyDB</strong>：将进一步完善多线程架构，提升内存效率和水平扩展能力。</li></ul><h4 id="市场格局预测"><a href="#市场格局预测" class="headerlink" title="市场格局预测"></a>市场格局预测</h4><ul><li><strong>短期</strong>（1-2年）：Redis仍将保持市场主导地位，Valkey在开源社区快速增长，DragonflyDB在性能敏感场景获得采用。</li><li><strong>中期</strong>（3-5年）：可能出现三足鼎立的局面，不同场景选择不同技术栈。</li><li><strong>长期</strong>：架构创新（如DragonflyDB的多线程模型）可能成为主流，推动整个行业技术演进。</li></ul><h3 id="迁移策略建议"><a href="#迁移策略建议" class="headerlink" title="迁移策略建议"></a>迁移策略建议</h3><h4 id="Redis-→-Valkey"><a href="#Redis-→-Valkey" class="headerlink" title="Redis → Valkey"></a>Redis → Valkey</h4><ul><li><strong>难度</strong>：极低，几乎无缝迁移。</li><li><strong>步骤</strong>：备份数据 → 停止Redis服务 → 安装Valkey → 恢复数据 → 验证功能。</li><li><strong>风险</strong>：几乎为零，Valkey承诺100%兼容Redis。</li></ul><h4 id="Redis-→-DragonflyDB"><a href="#Redis-→-DragonflyDB" class="headerlink" title="Redis → DragonflyDB"></a>Redis → DragonflyDB</h4><ul><li><strong>难度</strong>：中等，需要验证命令兼容性。</li><li><strong>步骤</strong>：功能验证 → 性能测试 → 试点迁移 → 全量切换。</li><li><strong>风险</strong>：某些高级特性可能不支持，需要代码调整。</li></ul><h4 id="混合部署策略"><a href="#混合部署策略" class="headerlink" title="混合部署策略"></a>混合部署策略</h4><p>在关键业务中，可以考虑混合部署策略：</p><ul><li>核心业务使用Valkey确保稳定性和兼容性</li><li>高性能场景使用DragonflyDB处理热点数据</li><li>通过数据同步或分层架构实现无缝集成</li></ul><h2 id="十一、个人心得"><a href="#十一、个人心得" class="headerlink" title="十一、个人心得"></a>十一、个人心得</h2><p>在2026年的技术格局中，Redis、Valkey和DragonflyDB各自代表了不同的技术哲学和发展路径：</p><ul><li><strong>Redis</strong>：成熟的商业开源模式，功能丰富但许可复杂</li><li><strong>Valkey</strong>：社区驱动的真正开源，兼容稳定但缺乏创新突破</li><li><strong>DragonflyDB</strong>：架构创新的性能王者，前景广阔但生态待完善</li></ul><p><strong>选型决策框架</strong>：</p><ol><li><strong>先看许可要求</strong>：企业合规 &gt; 技术特性</li><li><strong>再看性能需求</strong>：QPS&#x2F;延迟指标 &gt; 架构偏好</li><li><strong>最后看生态成熟度</strong>：运维成本 &gt; 学习曲线</li></ol><p>技术选型没有绝对的对错，只有最适合当前业务场景的选择。<br>建议在做出决策前，进行充分的概念验证（PoC）测试，结合具体的业务需求、团队技能和长期战略进行综合评估。<br>随着技术的快速发展，保持架构的灵活性和可迁移性，比绑定单一技术栈更为重要。</p><p>⚠️ 补充说明：因版本更新组建变化快，如有争议以官方文档为准。<a target="_blank" rel="noopener" href="https://redis.io/docs/latest/">Redis Docs</a></p></div><div class="article-licensing box"><div class="licensing-title"><p>Redis 原理解析以及入门实践技术选型以及解决方案指南</p><p><a href="https://www.wdft.com/f147dce8.html">https://www.wdft.com/f147dce8.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Jaco Liu</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2025-11-07</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2026-01-30</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Tutorial/">Tutorial</a><a class="link-muted mr-2" rel="tag" href="/tags/Redis/">Redis</a><a class="link-muted mr-2" rel="tag" href="/tags/nosql/">nosql</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=627845fc01dad800199bf3d4&amp;product=inline-share-buttons" defer></script></article></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/e111b800.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Peter Thiel&#039;s methodology for going from zero to one（彼得·蒂尔从 0 到 1 的方法论(by 演讲)）</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/3ba902b3.html"><span class="level-item">Golang CHANGELOG History(截至 2025.11.07 的完整变更日志 Changelog)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><script src="/js/mermaid.min.js"></script></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen order-3"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Redis-概述"><span class="level-left"><span class="level-item">1</span><span class="level-item">Redis 概述</span></span></a></li><li><a class="level is-mobile" href="#一、Redis-版本历史与特性演进"><span class="level-left"><span class="level-item">2</span><span class="level-item">一、Redis 版本历史与特性演进</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-1-开源协议的重大变化"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">1.1 开源协议的重大变化</span></span></a></li><li><a class="level is-mobile" href="#1-2-主要版本特性概览"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">1.2 主要版本特性概览</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Redis-7-0-历史性变革"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">Redis 7.0 - 历史性变革</span></span></a></li><li><a class="level is-mobile" href="#Redis-7-2-客户端缓存增强"><span class="level-left"><span class="level-item">2.2.2</span><span class="level-item">Redis 7.2 - 客户端缓存增强</span></span></a></li><li><a class="level is-mobile" href="#Redis-7-4-企业级特性"><span class="level-left"><span class="level-item">2.2.3</span><span class="level-item">Redis 7.4 - 企业级特性</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#二、Redis-基本部署"><span class="level-left"><span class="level-item">3</span><span class="level-item">二、Redis 基本部署</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-系统环境准备"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">2.1 系统环境准备</span></span></a></li><li><a class="level is-mobile" href="#2-2-安装-Redis"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">2.2 安装 Redis</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#方法一：APT-官方仓库安装（推荐）"><span class="level-left"><span class="level-item">3.2.1</span><span class="level-item">方法一：APT 官方仓库安装（推荐）</span></span></a></li><li><a class="level is-mobile" href="#方法二：源码编译安装（定制需求）"><span class="level-left"><span class="level-item">3.2.2</span><span class="level-item">方法二：源码编译安装（定制需求）</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#三、Redis-核心原理与特性"><span class="level-left"><span class="level-item">4</span><span class="level-item">三、Redis 核心原理与特性</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#3-1-核心架构原理"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">3.1 核心架构原理</span></span></a></li><li><a class="level is-mobile" href="#3-2-数据类型与应用场景"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">3.2 数据类型与应用场景</span></span></a></li></ul></li><li><a class="level is-mobile" href="#四、redis-conf-详细配置解析"><span class="level-left"><span class="level-item">5</span><span class="level-item">四、redis.conf 详细配置解析</span></span></a></li><li><a class="level is-mobile" href="#五、从单体到集群：Redis-高可用架构"><span class="level-left"><span class="level-item">6</span><span class="level-item">五、从单体到集群：Redis 高可用架构</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#5-1-单体架构部署"><span class="level-left"><span class="level-item">6.1</span><span class="level-item">5.1 单体架构部署</span></span></a></li><li><a class="level is-mobile" href="#5-2-主从复制架构"><span class="level-left"><span class="level-item">6.2</span><span class="level-item">5.2 主从复制架构</span></span></a></li><li><a class="level is-mobile" href="#5-3-Redis-Cluster-集群部署"><span class="level-left"><span class="level-item">6.3</span><span class="level-item">5.3 Redis Cluster 集群部署</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#部署步骤："><span class="level-left"><span class="level-item">6.3.1</span><span class="level-item">部署步骤：</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#六、Docker-容器化部署"><span class="level-left"><span class="level-item">7</span><span class="level-item">六、Docker 容器化部署</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#6-1-单机-Redis-Docker-部署"><span class="level-left"><span class="level-item">7.1</span><span class="level-item">6.1 单机 Redis Docker 部署</span></span></a></li><li><a class="level is-mobile" href="#6-2-Redis-Cluster-Docker-部署"><span class="level-left"><span class="level-item">7.2</span><span class="level-item">6.2 Redis Cluster Docker 部署</span></span></a></li><li><a class="level is-mobile" href="#6-3-Docker-部署注意事项"><span class="level-left"><span class="level-item">7.3</span><span class="level-item">6.3 Docker 部署注意事项</span></span></a></li></ul></li><li><a class="level is-mobile" href="#七、多语言客户端操作示例"><span class="level-left"><span class="level-item">8</span><span class="level-item">七、多语言客户端操作示例</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#7-1-PHP-操作-Redis"><span class="level-left"><span class="level-item">8.1</span><span class="level-item">7.1 PHP 操作 Redis</span></span></a></li><li><a class="level is-mobile" href="#7-2-Golang-操作-Redis"><span class="level-left"><span class="level-item">8.2</span><span class="level-item">7.2 Golang 操作 Redis</span></span></a></li><li><a class="level is-mobile" href="#7-3-Python-操作-Redis"><span class="level-left"><span class="level-item">8.3</span><span class="level-item">7.3 Python 操作 Redis</span></span></a></li></ul></li><li><a class="level is-mobile" href="#八、关键注意事项与最佳实践"><span class="level-left"><span class="level-item">9</span><span class="level-item">八、关键注意事项与最佳实践</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#8-1-安全防护"><span class="level-left"><span class="level-item">9.1</span><span class="level-item">8.1 安全防护</span></span></a></li><li><a class="level is-mobile" href="#8-2-性能优化"><span class="level-left"><span class="level-item">9.2</span><span class="level-item">8.2 性能优化</span></span></a></li><li><a class="level is-mobile" href="#8-3-高可用保障"><span class="level-left"><span class="level-item">9.3</span><span class="level-item">8.3 高可用保障</span></span></a></li><li><a class="level is-mobile" href="#8-4-版本选择建议"><span class="level-left"><span class="level-item">9.4</span><span class="level-item">8.4 版本选择建议</span></span></a></li></ul></li><li><a class="level is-mobile" href="#九、感悟"><span class="level-left"><span class="level-item">10</span><span class="level-item">九、感悟</span></span></a><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#重要提醒-⚠️-：由于-Redis-7-4-及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如-Valkey、DragonflyDB-等。"><span class="level-left"><span class="level-item">10.1.1</span><span class="level-item">重要提醒 ⚠️ ：由于 Redis 7.4 及以上版本的许可协议变更，建议在商业项目中谨慎评估使用风险，必要时考虑开源替代方案如 Valkey、DragonflyDB 等。</span></span></a></li></ul></ul></li><li><a class="level is-mobile" href="#十、Redis、Valkey、DragonflyDB-三者深度对比与技术选型指南（个人观点，自行评估⚠️）"><span class="level-left"><span class="level-item">11</span><span class="level-item">十、Redis、Valkey、DragonflyDB 三者深度对比与技术选型指南（个人观点，自行评估⚠️）</span></span></a><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#Redis：内存数据库的开创者"><span class="level-left"><span class="level-item">11.1.1</span><span class="level-item">Redis：内存数据库的开创者</span></span></a></li><li><a class="level is-mobile" href="#Valkey：社区驱动的Redis分支"><span class="level-left"><span class="level-item">11.1.2</span><span class="level-item">Valkey：社区驱动的Redis分支</span></span></a></li><li><a class="level is-mobile" href="#DragonflyDB：新一代内存数据库"><span class="level-left"><span class="level-item">11.1.3</span><span class="level-item">DragonflyDB：新一代内存数据库</span></span></a></li></ul><li><a class="level is-mobile" href="#核心架构对比"><span class="level-left"><span class="level-item">11.2</span><span class="level-item">核心架构对比</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#线程模型"><span class="level-left"><span class="level-item">11.2.1</span><span class="level-item">线程模型</span></span></a></li><li><a class="level is-mobile" href="#数据结构与算法"><span class="level-left"><span class="level-item">11.2.2</span><span class="level-item">数据结构与算法</span></span></a></li></ul></li><li><a class="level is-mobile" href="#性能对比分析"><span class="level-left"><span class="level-item">11.3</span><span class="level-item">性能对比分析</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#基准测试结果"><span class="level-left"><span class="level-item">11.3.1</span><span class="level-item">基准测试结果</span></span></a></li><li><a class="level is-mobile" href="#实际应用场景表现"><span class="level-left"><span class="level-item">11.3.2</span><span class="level-item">实际应用场景表现</span></span></a></li></ul></li><li><a class="level is-mobile" href="#许可协议对比"><span class="level-left"><span class="level-item">11.4</span><span class="level-item">许可协议对比</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Redis-许可证演变"><span class="level-left"><span class="level-item">11.4.1</span><span class="level-item">Redis 许可证演变</span></span></a></li></ul></li><li><a class="level is-mobile" href="#生态系统与兼容性"><span class="level-left"><span class="level-item">11.5</span><span class="level-item">生态系统与兼容性</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#API-兼容性"><span class="level-left"><span class="level-item">11.5.1</span><span class="level-item">API 兼容性</span></span></a></li><li><a class="level is-mobile" href="#工具链支持"><span class="level-left"><span class="level-item">11.5.2</span><span class="level-item">工具链支持</span></span></a></li></ul></li><li><a class="level is-mobile" href="#技术选型建议"><span class="level-left"><span class="level-item">11.6</span><span class="level-item">技术选型建议</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#选择-Redis-的场景"><span class="level-left"><span class="level-item">11.6.1</span><span class="level-item">选择 Redis 的场景</span></span></a></li><li><a class="level is-mobile" href="#选择-Valkey-的场景"><span class="level-left"><span class="level-item">11.6.2</span><span class="level-item">选择 Valkey 的场景</span></span></a></li><li><a class="level is-mobile" href="#选择-DragonflyDB-的场景"><span class="level-left"><span class="level-item">11.6.3</span><span class="level-item">选择 DragonflyDB 的场景</span></span></a></li></ul></li><li><a class="level is-mobile" href="#整体未来发展趋势预估"><span class="level-left"><span class="level-item">11.7</span><span class="level-item">整体未来发展趋势预估</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#技术演进方向"><span class="level-left"><span class="level-item">11.7.1</span><span class="level-item">技术演进方向</span></span></a></li><li><a class="level is-mobile" href="#市场格局预测"><span class="level-left"><span class="level-item">11.7.2</span><span class="level-item">市场格局预测</span></span></a></li></ul></li><li><a class="level is-mobile" href="#迁移策略建议"><span class="level-left"><span class="level-item">11.8</span><span class="level-item">迁移策略建议</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Redis-→-Valkey"><span class="level-left"><span class="level-item">11.8.1</span><span class="level-item">Redis → Valkey</span></span></a></li><li><a class="level is-mobile" href="#Redis-→-DragonflyDB"><span class="level-left"><span class="level-item">11.8.2</span><span class="level-item">Redis → DragonflyDB</span></span></a></li><li><a class="level is-mobile" href="#混合部署策略"><span class="level-left"><span class="level-item">11.8.3</span><span class="level-item">混合部署策略</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#十一、个人心得"><span class="level-left"><span class="level-item">12</span><span class="level-item">十一、个人心得</span></span></a></li></ul></div></div><style>#toc .menu-list>li>a.is-active+.menu-list{display:block}#toc .menu-list>li>a+.menu-list{display:none}</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/9a6c398f.html"><img src="/assets/images/golang/golang-01.png" alt="【sort】深入解构Go标准库sort包设计原理以及实践开发中注意的要点"></a></figure><div class="media-content"><p class="date"><time datetime="2026-02-01T15:27:31.000Z">2026-02-01</time></p><p class="title"><a href="/9a6c398f.html">【sort】深入解构Go标准库sort包设计原理以及实践开发中注意的要点</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/d7d74826.html"><img src="/assets/images/golang/golang-01.png" alt="【os】深入解构Go标准库os包系统编程的基石以及实践开发中注意的要点"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-28T15:59:43.000Z">2026-01-28</time></p><p class="title"><a href="/d7d74826.html">【os】深入解构Go标准库os包系统编程的基石以及实践开发中注意的要点</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/a6cbebf9.html"><img src="/assets/images/golang/golang-01.png" alt="【time】深入解构Go标准库time包的设计原理以及开发中注意的要点"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-28T14:17:44.000Z">2026-01-28</time></p><p class="title"><a href="/a6cbebf9.html">【time】深入解构Go标准库time包的设计原理以及开发中注意的要点</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/916d238a.html"><img src="/assets/images/golang/golang-01.png" alt="【log】深入解构Go标准库log包设计原理以及实践开发中注意的要点"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-27T18:32:14.000Z">2026-01-28</time></p><p class="title"><a href="/916d238a.html">【log】深入解构Go标准库log包设计原理以及实践开发中注意的要点</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/996cf37b.html"><img src="/assets/images/golang/golang-01.png" alt="【fmt】深入解构Go标准库fmt从函数全景到内核原理以及开发中注意的要点"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-27T18:20:16.000Z">2026-01-28</time></p><p class="title"><a href="/996cf37b.html">【fmt】深入解构Go标准库fmt从函数全景到内核原理以及开发中注意的要点</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/AIGC/"><span class="level-start"><span class="level-item">AIGC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Agent/"><span class="level-start"><span class="level-item">Agent</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Algo/"><span class="level-start"><span class="level-item">Algo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/LLM/"><span class="level-start"><span class="level-item">LLM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/GIT/"><span class="level-start"><span class="level-item">GIT</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/clang/"><span class="level-start"><span class="level-item">clang</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/cloud/"><span class="level-start"><span class="level-item">cloud</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/daily/"><span class="level-start"><span class="level-item">daily</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/daily/business/"><span class="level-start"><span class="level-item">business</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/daily/note/"><span class="level-start"><span class="level-item">note</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/golang/"><span class="level-start"><span class="level-item">golang</span></span><span class="level-end"><span class="level-item tag">66</span></span></a><ul><li><a class="level is-mobile" href="/categories/golang/standard-library/"><span class="level-start"><span class="level-item">standard-library</span></span><span class="level-end"><span class="level-item tag">39</span></span></a></li><li><a class="level is-mobile" href="/categories/golang/tutorial/"><span class="level-start"><span class="level-item">tutorial</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/javascript/"><span class="level-start"><span class="level-item">javascript</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/linux/centos/"><span class="level-start"><span class="level-item">centos</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/debian/"><span class="level-start"><span class="level-item">debian</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/tools/"><span class="level-start"><span class="level-item">tools</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/lua/"><span class="level-start"><span class="level-item">lua</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/macOS/"><span class="level-start"><span class="level-item">macOS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/message/"><span class="level-start"><span class="level-item">message</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/nosql/"><span class="level-start"><span class="level-item">nosql</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/olap/"><span class="level-start"><span class="level-item">olap</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/php/"><span class="level-start"><span class="level-item">php</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/"><span class="level-start"><span class="level-item">rdbms</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/rdbms/mysql/"><span class="level-start"><span class="level-item">mysql</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/postgres/"><span class="level-start"><span class="level-item">postgres</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/sql/"><span class="level-start"><span class="level-item">sql</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/reprinted-articles/"><span class="level-start"><span class="level-item">reprinted-articles</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/0to1/"><span class="tag">0to1</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AIGC/"><span class="tag">AIGC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent/"><span class="tag">Agent</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-Skill/"><span class="tag">Agent-Skill</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-Suggestion/"><span class="tag">Agent-Suggestion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-architecture/"><span class="tag">Agent-architecture</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-framework/"><span class="tag">Agent-framework</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BP/"><span class="tag">BP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CDN/"><span class="tag">CDN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CentOS/"><span class="tag">CentOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Distributed/"><span class="tag">Cloud-Distributed</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native/"><span class="tag">Cloud-Native</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native-Framework/"><span class="tag">Cloud-Native-Framework</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Controlnet/"><span class="tag">Controlnet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DDD/"><span class="tag">DDD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian/"><span class="tag">Debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DeepSeek/"><span class="tag">DeepSeek</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Deepseek/"><span class="tag">Deepseek</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Demo-AI/"><span class="tag">Demo-AI</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Distributed-Systems/"><span class="tag">Distributed-Systems</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Drawing/"><span class="tag">Drawing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ES/"><span class="tag">ES</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Economy/"><span class="tag">Economy</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eino/"><span class="tag">Eino</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Elastic/"><span class="tag">Elastic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ElasticSearch/"><span class="tag">ElasticSearch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Firewalld/"><span class="tag">Firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Framework/"><span class="tag">Framework</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GGUF/"><span class="tag">GGUF</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GIT/"><span class="tag">GIT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GO-%E6%96%B9%E6%B3%95%E5%80%BC/"><span class="tag">GO 方法值</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG/"><span class="tag">GPG</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG2/"><span class="tag">GPG2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GRPO/"><span class="tag">GRPO</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ghostty/"><span class="tag">Ghostty</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">67</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Summary-notes/"><span class="tag">Go Summary notes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-null-judge/"><span class="tag">Go null judge</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Struct-Method-Receiver/"><span class="tag">Go(Struct|Method|Receiver)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-map/"><span class="tag">Go(map)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-new-make-struct/"><span class="tag">Go(new,make,struct{})</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-string/"><span class="tag">Go(string)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-LLM/"><span class="tag">Go-LLM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Polymorphism/"><span class="tag">Go-Polymorphism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Printf/"><span class="tag">Go-Printf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-archive/"><span class="tag">Go-archive</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-bufio/"><span class="tag">Go-bufio</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-bytes/"><span class="tag">Go-bytes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-chain-operation/"><span class="tag">Go-chain-operation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-compress/"><span class="tag">Go-compress</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-container/"><span class="tag">Go-container</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-context/"><span class="tag">Go-context</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-crypto/"><span class="tag">Go-crypto</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-encoding/"><span class="tag">Go-encoding</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-errors/"><span class="tag">Go-errors</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-flag/"><span class="tag">Go-flag</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-fmt/"><span class="tag">Go-fmt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-hash/"><span class="tag">Go-hash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-html/"><span class="tag">Go-html</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-init/"><span class="tag">Go-init()</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-io/"><span class="tag">Go-io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-iter/"><span class="tag">Go-iter</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-log/"><span class="tag">Go-log</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-math/"><span class="tag">Go-math</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-math-rand/"><span class="tag">Go-math-rand</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-net/"><span class="tag">Go-net</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-net-http/"><span class="tag">Go-net-http</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-os/"><span class="tag">Go-os</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-path/"><span class="tag">Go-path</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-pkg-std-list/"><span class="tag">Go-pkg-std-list</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-reflect/"><span class="tag">Go-reflect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-regexp/"><span class="tag">Go-regexp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-runtime/"><span class="tag">Go-runtime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-runtime-debug/"><span class="tag">Go-runtime-debug</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-slices/"><span class="tag">Go-slices</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-sort/"><span class="tag">Go-sort</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-standard-library/"><span class="tag">Go-standard-library</span><span class="tag">39</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-sync/"><span class="tag">Go-sync</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-testing/"><span class="tag">Go-testing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-text/"><span class="tag">Go-text</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-time/"><span class="tag">Go-time</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-unicode/"><span class="tag">Go-unicode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-unique/"><span class="tag">Go-unique</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-unsafe/"><span class="tag">Go-unsafe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Golang/"><span class="tag">Golang</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HEART/"><span class="tag">HEART</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/History/"><span class="tag">History</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Infra/"><span class="tag">Infra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON/"><span class="tag">JSON</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java17/"><span class="tag">Java17</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java8/"><span class="tag">Java8</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K3S-Build/"><span class="tag">K3S-Build</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S/"><span class="tag">K8S</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S-Build/"><span class="tag">K8S-Build</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kafka/"><span class="tag">Kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LLM/"><span class="tag">LLM</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LoRA/"><span class="tag">LoRA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MCP/"><span class="tag">MCP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Message/"><span class="tag">Message</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Microservices/"><span class="tag">Microservices</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Movie/"><span class="tag">Movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Note-The-Legend-of-1900/"><span class="tag">Note The Legend of 1900</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OLAP/"><span class="tag">OLAP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenSSH/"><span class="tag">OpenSSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qwen/"><span class="tag">Qwen</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RDBMS/"><span class="tag">RDBMS</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ROI/"><span class="tag">ROI</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RabbitMQ/"><span class="tag">RabbitMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rocky-linux/"><span class="tag">Rocky-linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SD/"><span class="tag">SD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SOP/"><span class="tag">SOP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Skill/"><span class="tag">Skill</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/StarRocks/"><span class="tag">StarRocks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Syntax/"><span class="tag">Syntax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TS/"><span class="tag">TS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Text2SQL/"><span class="tag">Text2SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tutorial/"><span class="tag">Tutorial</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UFW/"><span class="tag">UFW</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM/"><span class="tag">VIM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM-Author/"><span class="tag">VIM Author</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XHProf/"><span class="tag">XHProf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ansi-lib/"><span class="tag">ansi-lib</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/banner/"><span class="tag">banner</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/business/"><span class="tag">business</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/business-plan/"><span class="tag">business-plan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos7/"><span class="tag">centos7</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/changelog/"><span class="tag">changelog</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chattr/"><span class="tag">chattr</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clang/"><span class="tag">clang</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cli/"><span class="tag">cli</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/daily/"><span class="tag">daily</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debian/"><span class="tag">debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewalld/"><span class="tag">firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/format/"><span class="tag">format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/func/"><span class="tag">func</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go-pprof/"><span class="tag">go-pprof</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/goroutine/"><span class="tag">goroutine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/history/"><span class="tag">history</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/history-of-programing/"><span class="tag">history-of-programing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/homebrew/"><span class="tag">homebrew</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/innodb/"><span class="tag">innodb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interface/"><span class="tag">interface</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/io/"><span class="tag">io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kebernetes/"><span class="tag">kebernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel/"><span class="tag">laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel-artisan/"><span class="tag">laravel-artisan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lua/"><span class="tag">lua</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macro/"><span class="tag">macro</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motd/"><span class="tag">motd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-0/"><span class="tag">mysql8.0</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-x/"><span class="tag">mysql8.x</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat/"><span class="tag">nanochat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat-zh-CN/"><span class="tag">nanochat-zh_CN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/neofetch/"><span class="tag">neofetch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nosql/"><span class="tag">nosql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oh-my-zsh/"><span class="tag">oh-my-zsh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/omz/"><span class="tag">omz</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openssl/"><span class="tag">openssl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/package-time/"><span class="tag">package time</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/painting/"><span class="tag">painting</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pointer/"><span class="tag">pointer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgresql/"><span class="tag">postgresql</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgresql-syntax/"><span class="tag">postgresql-syntax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgressql-engine/"><span class="tag">postgressql-engine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reflect-%E5%8F%8D%E5%B0%84/"><span class="tag">reflect 反射</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky/"><span class="tag">rocky</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux/"><span class="tag">rocky-linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux-tools/"><span class="tag">rocky-linux-tools</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rsync/"><span class="tag">rsync</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rune/"><span class="tag">rune</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/services/"><span class="tag">services</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/slice-%E5%88%87%E7%89%87%E6%9C%AC%E8%B4%A8/"><span class="tag">slice 切片本质</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sql/"><span class="tag">sql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stable-diffusion-webui/"><span class="tag">stable-diffusion-webui</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/struct/"><span class="tag">struct</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/switch/"><span class="tag">switch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/systemd-service/"><span class="tag">systemd-service</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type/"><span class="tag">type</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type-%E5%85%B3%E9%94%AE%E8%AF%8D%E6%80%BB%E7%BB%93/"><span class="tag">type 关键词总结</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4/"><span class="tag">utf8mb4</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-0900-ai-ci/"><span class="tag">utf8mb4_0900_ai_ci</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-general-ci/"><span class="tag">utf8mb4_general_ci</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zsh/"><span class="tag">zsh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%BA%E7%94%9F/"><span class="tag">人生</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/"><span class="tag">安全加固</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8/"><span class="tag">日常</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%9F%E6%B4%BB/"><span class="tag">生活</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD/"><span class="tag">转载</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%93%E7%B3%BB/"><span class="tag">配置文件体系</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"><span class="tag">防火墙</span><span class="tag">3</span></a></div></div></div></div></div><div class="card widget" data-type="clustrmaps"><div class="card-content"><div class="menu"><h3 class="menu-label">CLUSTRMAPS</h3></div><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div style="margin-top:10px"><script type="text/javascript" id="clustrmaps" src="https://cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=250&amp;t=n&amp;d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0&amp;co=2d78ad&amp;cmo=3acc3a&amp;cmn=ff5353&amp;ct=ffffff"></script><script type="text/javascript" id="clstr_globe" src="https://clustrmaps.com/globe.js?d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0"></script></div></div></nav></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8952360410310192" data-ad-slot="1345698037" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></div></div></div></section><footer class="footer" style="padding:1rem 1.5rem 0"><div class="container"><div class="level"><div class="level-start"><p class="is-size-7"><a class="footer-logo" style="margin-right:10px" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).安全贯穿于软件开发各个环节." height="16" style="max-height:1.25rem"></a><a href="http://beian.miit.gov.cn" target="_blank">鲁ICP备2023051700号</a>  <span>&copy; 2026 Jaco Liu</span>  <span style="color:#e0e0e0">Powered by <a style="color:#e0e0e0" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a style="color:#e0e0e0" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>  <span id="busuanzi_container_site_pv">Total Visits Counts: <span id="busuanzi_value_site_pv"></span>.</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Jaco Liu&#039;GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="ref.wdft.com" href="https://ref.wdft.com"><i class="fas fa-cloud"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="cook.wdft.com" href="https://cook.wdft.com"><i class="fas fa-coffee"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Python PEP8" href="https://pep8.org"><i class="fas fa-coffee"></i></a></p> <span><i class="fas fa-link">BlogRoll:</i></span><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Quick Reference" href="https://ref.wdft.com">Quick Reference</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Cook" href="https://cook.wdft.com">Cook</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="koala-oss.app" href="https://koala-oss.app/news/">koala-oss.app</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="CS自学指南" href="https://csdiy.wiki">CS自学指南</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Python PEP8" href="https://pep8.org">Python PEP8</a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="/js/switchDarkMode.js" defer></script><script src="/js/toutiaoSEO.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"info",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"This website uses cookies to improve your experience.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",policy:"Cookie Policy",href:"https://www.cookiesandyou.com/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},react:{opacity:.7},pluginJsPath:"lib/",pluginRootPath:"live2dw/"})</script></body></html>