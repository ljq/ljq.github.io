<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Tag: LLM - Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚.</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚."><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚."><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Jaco Liu Personal Site.https:&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;ljq"><meta property="og:type" content="blog"><meta property="og:title" content="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚."><meta property="og:url" content="https://www.wdft.com/"><meta property="og:site_name" content="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚."><meta property="og:description" content="Jaco Liu Personal Site.https:&amp;#x2F;&amp;#x2F;github.com&amp;#x2F;ljq"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://www.wdft.com/img/og_image.png"><meta property="article:author" content="Jaco Liu"><meta property="article:tag" content="Jaco Liu Blogger,IT,it,program,coding,GitHub(ljq@GitHub),Golang,Linux"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.wdft.com"},"headline":"Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚.","image":["https://www.wdft.com/img/og_image.png"],"author":{"@type":"Person","name":"Jaco Liu"},"publisher":{"@type":"Organization","name":"Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚.","logo":{"@type":"ImageObject","url":"https://www.wdft.com/img/logo.svg"}},"description":"Jaco Liu Personal Site.https:&#x2F;&#x2F;github.com&#x2F;ljq"}</script><link rel="alternate" href="/atom.xml" title="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚." type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="//hm.baidu.com/hm.js?45914c5ebb523a9ed07ab35e4dc81374",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><meta name="msvalidate.01" content="ad0df3c8d20f49daaeb5baa3c9dbfe75"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/css/justifiedGallery.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdnjs.loli.net/ajax/libs/pace/1.2.4/pace.min.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8952360410310192" crossorigin="anonymous"></script><script>!function(){function e(){if(location.hash){Array.from(document.querySelectorAll(".tab-content")).forEach(e=>{e.classList.add("is-hidden")}),Array.from(document.querySelectorAll(".tabs li")).forEach(e=>{e.classList.remove("is-active")});const e=document.querySelector(location.hash),t=(e&&e.classList.remove("is-hidden"),document.querySelector(`a[href="${location.hash}"]`));t&&t.parentElement.classList.add("is-active")}}e(),window.addEventListener("hashchange",e,!1)}()</script><meta name="generator" content="Hexo 6.1.0"></head><body class="is-3-column"><img src="/img/avatar.jpeg" width="0" height="0"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚." height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/musics">Musics</a><a class="navbar-item" href="/videos">Videos</a><a class="navbar-item" href="/galleries">Galleries</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item dark-mode-btn" title="Light|Dark" rel="noopener" onclick="switchDarkMode()">Â Â Â Â <i class="fas fa-lightbulb">Â Â </i></a><a class="navbar-item" target="_blank" rel="noopener" title="Musics" href="/musics"><i class="fas fa-music"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Videos" href="/videos"><i class="fas fa-video"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="WeChat Account (labsec)" href="/assets/images/about/ljq-qrcode.jpeg"><i class="fab fa-weixin"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Jaco Liu GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">LLM</a></li></ul></nav></div></div><div class="card"><div class="card-image"><a class="image is-7by3" href="/2ae30f65.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäº Eino æ¡†æ¶æ„å»ºæ™ºèƒ½å®¢æœ Agentï¼šMCP ä¸ Skills çš„å·¥ç¨‹åŒ–å®è·µåˆæ¢"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-27T17:25:24.000Z" title="1/28/2026, 1:25:24 AM">2026-01-28</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">11 minutes read (About 1691 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2ae30f65.html">åŸºäº Eino æ¡†æ¶æ„å»ºæ™ºèƒ½å®¢æœ Agentï¼šMCP ä¸ Skills çš„å·¥ç¨‹åŒ–å®è·µåˆæ¢</a></h1><div class="content"><p><strong>æ³¨</strong>ï¼šä»¥ä¸‹åŸºäº CloudWeGo Eino æ¡†æ¶ï¼ˆv1.2+ï¼‰æœ€æ–°å®è·µï¼Œç»“åˆ <strong>è®¾è®¡ç†å¿µæ·±åº¦è§£è¯»</strong> ä¸ <strong>å¯è§†åŒ–è¿è¡Œæµç¨‹</strong>ï¼Œå®Œæ•´å‘ˆç°ä¼ä¸šçº§ Agent æ„å»ºæ–¹æ¡ˆã€‚ã€‚</p></div><a class="article-more button is-small is-size-7" href="/2ae30f65.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/276d47b6.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäº HEART æ¶æ„ç†å¿µçš„éšç§ä¿æŠ¤AIå¥åº·åº”ç”¨è®¾è®¡çš„ä¸€ç§æ¶æ„æ€è·¯å®è·µè§£å†³æ–¹æ¡ˆ"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-25T15:24:37.000Z" title="1/25/2026, 11:24:37 PM">2026-01-25</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">an hour read (About 8743 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/276d47b6.html">åŸºäº HEART æ¶æ„ç†å¿µçš„éšç§ä¿æŠ¤AIå¥åº·åº”ç”¨è®¾è®¡çš„ä¸€ç§æ¶æ„æ€è·¯å®è·µè§£å†³æ–¹æ¡ˆ</a></h1><div class="content"><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æœ¬äººä¸€ç›´éå¸¸æ¬£èµçš„ä¸€å¥è¯ï¼š</p><p>é™¤éç»ç”±è®°å¿†ä¹‹è·¯ï¼Œäººä¸èƒ½æŠµè¾¾çºµæ·±ã€‚ â€”â€”â€”â€”æ±‰å¨œÂ·é˜¿ä¼¦ç‰¹</p><p>é¦–å…ˆå¦‚æœåŸºäºHEARTæ¶æ„ç†å¿µï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªç¡®ä¿æ•°æ®éšç§çš„AIå¥åº·åº”ç”¨æ¶æ„ï¼Ÿç›¸ä¿¡è¿™åœ¨2026å¼€å¹´çš„ä»Šå¤©ï¼Œä»¥åŠè¿‡å»ä¸€å¹´ç”šåš£å°˜ä¸Šçš„å„ç§AIåº”ç”¨å¼€å‘æŠ€æœ¯å’Œè§„èŒƒåŸåˆ™é¼“å¹ä¹‹ä¸‹è¦æ€è€ƒå’Œåæ€çš„é—®é¢˜ï¼Œä½œä¸ºå·¥ç¨‹å¸ˆè¦å›å½’æ¸…é†’ä¸ç†æ™ºã€‚</p></div><a class="article-more button is-small is-size-7" href="/276d47b6.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/835929d9.html"><img class="fill" src="/assets/images/ai-logo.png" alt="Agentå’ŒRAGï¼šåŒé˜¶æ®µæ„å›¾è¯†åˆ«ä»¥åŠå…¸å‹åœºæ™¯(å®¢æœ)é—®ç­”åœºæ™¯ä¸‹å‡†ç¡®ç‡ä¸å»¶è¿Ÿçš„å¸•ç´¯æ‰˜æœ€ä¼˜è§£è§£æ"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-25T15:17:34.000Z" title="1/25/2026, 11:17:34 PM">2026-01-25</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">23 minutes read (About 3378 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/835929d9.html">Agentå’ŒRAGï¼šåŒé˜¶æ®µæ„å›¾è¯†åˆ«ä»¥åŠå…¸å‹åœºæ™¯(å®¢æœ)é—®ç­”åœºæ™¯ä¸‹å‡†ç¡®ç‡ä¸å»¶è¿Ÿçš„å¸•ç´¯æ‰˜æœ€ä¼˜è§£è§£æ</a></h1><div class="content"><h6 id="é¦–å…ˆä¸ºä»€ä¹ˆ90-çš„ç”Ÿäº§çº§Agentç³»ç»Ÿé€‰æ‹©è¿™ä¸€æ¶æ„ï¼ŸğŸ¤”"><a href="#é¦–å…ˆä¸ºä»€ä¹ˆ90-çš„ç”Ÿäº§çº§Agentç³»ç»Ÿé€‰æ‹©è¿™ä¸€æ¶æ„ï¼ŸğŸ¤”" class="headerlink" title="é¦–å…ˆä¸ºä»€ä¹ˆ90%çš„ç”Ÿäº§çº§Agentç³»ç»Ÿé€‰æ‹©è¿™ä¸€æ¶æ„ï¼ŸğŸ¤”"></a>é¦–å…ˆä¸ºä»€ä¹ˆ90%çš„ç”Ÿäº§çº§Agentç³»ç»Ÿé€‰æ‹©è¿™ä¸€æ¶æ„ï¼ŸğŸ¤”</h6><p><strong>ä»¥å…¸å‹æ¡ˆä¾‹æ¥è¯´</strong>ï¼šåœ¨å‡ ä¹æ‰€æœ‰IMå®¢æœ(ç”µå•†)äº¤äº’å¼å¯¹è¯ç³»ç»Ÿåº”ç”¨ä¸­ï¼Œ<strong>â€œæ‰€æœ‰è¯·æ±‚åŒç­‰å¯¹å¾…â€æ˜¯æœ€å¤§çš„èµ„æºæµªè´¹</strong>ã€‚<br>ç›®å‰ä¸šç•Œå…±è¯†ä¹‹ä¸€æ˜¯ï¼šåŒé˜¶æ®µæ„å›¾è¯†åˆ«é€šè¿‡â€œè®¡ç®—èµ„æºåŠ¨æ€åˆ†é…â€æ€æƒ³ï¼Œåœ¨96.7%å‡†ç¡®ç‡ä¸98mså¹³å‡å»¶è¿Ÿé—´å–å¾—å·¥ç¨‹æœ€ä¼˜å¹³è¡¡ï¼Œä¹Ÿå‡ ä¹æˆä¸ºAgentç³»ç»Ÿçš„äº‹å®æ€§æ ‡å‡†æ¶æ„ä¹‹ä¸€ã€‚</p></div><a class="article-more button is-small is-size-7" href="/835929d9.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/65d4601b.html"><img class="fill" src="/assets/images/ai-logo.png" alt="Agent ä¸ Skills ä¹‹é—´çš„åŒºåˆ«é€šè¿‡ä¸€ä¸ªç®€å•å›¾ä¹¦é¦†å€Ÿé˜…ç³»ç»Ÿæ¡ˆä¾‹å®è·µæŒ‡å—"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-24T13:25:24.000Z" title="1/24/2026, 9:25:24 PM">2026-01-24</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">an hour read (About 7191 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/65d4601b.html">Agent ä¸ Skills ä¹‹é—´çš„åŒºåˆ«é€šè¿‡ä¸€ä¸ªç®€å•å›¾ä¹¦é¦†å€Ÿé˜…ç³»ç»Ÿæ¡ˆä¾‹å®è·µæŒ‡å—</a></h1><div class="content"><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>åœ¨æŠ€æœ¯è¯­å¢ƒä¸‹ï¼Œä¸¤è€…çš„å…³ç³»å¯ä»¥ç®€å•æ¦‚æ‹¬å’ŒåŒºåˆ†ä¸ºï¼šAgent æ˜¯å†³ç­–ä¸­å¿ƒï¼ŒSkills æ˜¯æ‰§è¡Œå‡½æ•°ã€‚</p></div><a class="article-more button is-small is-size-7" href="/65d4601b.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/3bdefda4.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäºGoè¯­è¨€å®ç°Transformeræ¨¡å‹ï¼ˆåŒ…å«è®­ç»ƒã€ä¿å­˜ã€åŠ è½½å’Œäº¤äº’å¼æ–‡æœ¬ç”ŸæˆåŠŸèƒ½ï¼‰"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-18T17:17:34.000Z" title="1/19/2026, 1:17:34 AM">2026-01-19</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T19:57:17.293Z" title="1/31/2026, 3:57:17 AM">2026-01-31</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/LLM/">LLM</a></span><span class="level-item">an hour read (About 7509 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/3bdefda4.html">åŸºäºGoè¯­è¨€å®ç°Transformeræ¨¡å‹ï¼ˆåŒ…å«è®­ç»ƒã€ä¿å­˜ã€åŠ è½½å’Œäº¤äº’å¼æ–‡æœ¬ç”ŸæˆåŠŸèƒ½ï¼‰</a></h1><div class="content"><p>åŸºäºGoè¯­è¨€å®ç°Transformeræ¨¡å‹ï¼ŒåŒ…å«è®­ç»ƒã€ä¿å­˜ã€åŠ è½½å’Œäº¤äº’å¼æ–‡æœ¬ç”ŸæˆåŠŸèƒ½ï¼Œçº¯CPUè¿è¡Œï¼Œä»…ä¾èµ–æ ‡å‡†åº“å’Œgonumï¼Œå¸®åŠ©ç†è§£å¤§æ¨¡å‹çš„è¿è¡Œæœ¬è´¨åŸç†ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;encoding/gob&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;log&quot;</span></span><br><span class="line">	<span class="string">&quot;math&quot;</span></span><br><span class="line">	<span class="string">&quot;math/rand&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;time&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="string">&quot;gonum.org/v1/gonum/mat&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== åŸºç¡€å·¥å…·å‡½æ•° ==========</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæµ®ç‚¹æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randFloat64</span><span class="params">(min, max <span class="type">float64</span>)</span></span> <span class="type">float64</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> min + rand.Float64()*(max-min)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Softmaxå‡½æ•°ï¼šå°†å‘é‡è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">softmax</span><span class="params">(x *mat.VecDense)</span></span> *mat.VecDense &#123;</span><br><span class="line">	n := x.Len()</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ•°å€¼ç¨³å®šæ€§ï¼šå‡å»æœ€å¤§å€¼é˜²æ­¢expæº¢å‡º</span></span><br><span class="line">	maxVal := x.AtVec(<span class="number">0</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> x.AtVec(i) &gt; maxVal &#123;</span><br><span class="line">			maxVal = x.AtVec(i)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	result := mat.NewVecDense(n, <span class="literal">nil</span>)</span><br><span class="line">	sum := <span class="number">0.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		expVal := math.Exp(x.AtVec(i) - maxVal)</span><br><span class="line">		result.SetVec(i, expVal)</span><br><span class="line">		sum += expVal</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å½’ä¸€åŒ–</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		result.SetVec(i, result.AtVec(i)/sum)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Layer Normalizationï¼šå¯¹å‘é‡è¿›è¡Œå½’ä¸€åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">layerNorm</span><span class="params">(x *mat.VecDense, eps <span class="type">float64</span>)</span></span> *mat.VecDense &#123;</span><br><span class="line">	n := x.Len()</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// è®¡ç®—å‡å€¼</span></span><br><span class="line">	mean := <span class="number">0.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		mean += x.AtVec(i)</span><br><span class="line">	&#125;</span><br><span class="line">	mean /= <span class="type">float64</span>(n)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// è®¡ç®—æ–¹å·®</span></span><br><span class="line">	variance := <span class="number">0.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		diff := x.AtVec(i) - mean</span><br><span class="line">		variance += diff * diff</span><br><span class="line">	&#125;</span><br><span class="line">	variance /= <span class="type">float64</span>(n)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å½’ä¸€åŒ–ï¼š(x - mean) / sqrt(variance + eps)</span></span><br><span class="line">	std := math.Sqrt(variance + eps)</span><br><span class="line">	result := mat.NewVecDense(n, <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">		result.SetVec(i, (x.AtVec(i)-mean)/std)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== ä½ç½®ç¼–ç ï¼šä¸ºåºåˆ—æ·»åŠ ä½ç½®ä¿¡æ¯ ==========</span></span><br><span class="line"><span class="keyword">type</span> PositionalEncoding <span class="keyword">struct</span> &#123;</span><br><span class="line">	DModel <span class="type">int</span>          <span class="comment">// æ¨¡å‹ç»´åº¦</span></span><br><span class="line">	MaxLen <span class="type">int</span>          <span class="comment">// æœ€å¤§åºåˆ—é•¿åº¦</span></span><br><span class="line">	Cache  *mat.Dense   <span class="comment">// é¢„è®¡ç®—çš„ä½ç½®ç¼–ç ç¼“å­˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä½ç½®ç¼–ç å±‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPositionalEncoding</span><span class="params">(dModel, maxLen <span class="type">int</span>)</span></span> *PositionalEncoding &#123;</span><br><span class="line">	pe := mat.NewDense(maxLen, dModel, <span class="literal">nil</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ ¹æ®Transformerè®ºæ–‡å…¬å¼è®¡ç®—ä½ç½®ç¼–ç </span></span><br><span class="line">	<span class="comment">// PE(pos, 2i) = sin(pos / 10000^(2i/d_model))</span></span><br><span class="line">	<span class="comment">// PE(pos, 2i+1) = cos(pos / 10000^(2i/d_model))</span></span><br><span class="line">	<span class="keyword">for</span> pos := <span class="number">0</span>; pos &lt; maxLen; pos++ &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; dModel; i += <span class="number">2</span> &#123;</span><br><span class="line">			divTerm := math.Pow(<span class="number">10000</span>, <span class="type">float64</span>(i)/<span class="type">float64</span>(dModel))</span><br><span class="line">			pe.Set(pos, i, math.Sin(<span class="type">float64</span>(pos)/divTerm))</span><br><span class="line">			<span class="keyword">if</span> i+<span class="number">1</span> &lt; dModel &#123;</span><br><span class="line">				pe.Set(pos, i+<span class="number">1</span>, math.Cos(<span class="type">float64</span>(pos)/divTerm))</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;PositionalEncoding&#123;dModel, maxLen, pe&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å‘ä¼ æ’­ï¼šå°†ä½ç½®ç¼–ç æ·»åŠ åˆ°è¾“å…¥åµŒå…¥</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(pe *PositionalEncoding)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">	result := mat.NewDense(x.RawMatrix().Rows, x.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	result.Copy(x)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é€ä½ç½®æ·»åŠ ç¼–ç </span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; x.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; pe.DModel; j++ &#123;</span><br><span class="line">			result.Set(i, j, result.At(i, j)+pe.Cache.At(i, j))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆç®€åŒ–ä¸ºå•å¤´ï¼‰ ==========</span></span><br><span class="line"><span class="keyword">type</span> SelfAttention <span class="keyword">struct</span> &#123;</span><br><span class="line">	DModel <span class="type">int</span>          <span class="comment">// æ¨¡å‹ç»´åº¦</span></span><br><span class="line">	Wq     *mat.Dense   <span class="comment">// Queryæƒé‡çŸ©é˜µ</span></span><br><span class="line">	Wk     *mat.Dense   <span class="comment">// Keyæƒé‡çŸ©é˜µ</span></span><br><span class="line">	Wv     *mat.Dense   <span class="comment">// Valueæƒé‡çŸ©é˜µ</span></span><br><span class="line">	Wo     *mat.Dense   <span class="comment">// è¾“å‡ºæŠ•å½±çŸ©é˜µ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè‡ªæ³¨æ„åŠ›å±‚</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewSelfAttention</span><span class="params">(dModel <span class="type">int</span>)</span></span> *SelfAttention &#123;</span><br><span class="line">	scale := math.Sqrt(<span class="type">float64</span>(dModel)) <span class="comment">// Xavieråˆå§‹åŒ–ç¼©æ”¾å› å­</span></span><br><span class="line">	<span class="keyword">return</span> &amp;SelfAttention&#123;</span><br><span class="line">		DModel: dModel,</span><br><span class="line">		Wq:     mat.NewDense(dModel, dModel, randWeights(dModel*dModel, scale)),</span><br><span class="line">		Wk:     mat.NewDense(dModel, dModel, randWeights(dModel*dModel, scale)),</span><br><span class="line">		Wv:     mat.NewDense(dModel, dModel, randWeights(dModel*dModel, scale)),</span><br><span class="line">		Wo:     mat.NewDense(dModel, dModel, randWeights(dModel*dModel, scale)),</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆéšæœºæƒé‡ï¼ˆXavieråˆå§‹åŒ–ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randWeights</span><span class="params">(size <span class="type">int</span>, scale <span class="type">float64</span>)</span></span> []<span class="type">float64</span> &#123;</span><br><span class="line">	w := <span class="built_in">make</span>([]<span class="type">float64</span>, size)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> w &#123;</span><br><span class="line">		w[i] = randFloat64(<span class="number">-1.0</span>/scale, <span class="number">1.0</span>/scale)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> w</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å‘ä¼ æ’­ï¼šè®¡ç®—è‡ªæ³¨æ„åŠ›</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(sa *SelfAttention)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">	<span class="comment">// 1. è®¡ç®—Q, K, V: X * W</span></span><br><span class="line">	q := mat.NewDense(x.RawMatrix().Rows, sa.DModel, <span class="literal">nil</span>)</span><br><span class="line">	q.Mul(x, sa.Wq)</span><br><span class="line">	</span><br><span class="line">	k := mat.NewDense(x.RawMatrix().Rows, sa.DModel, <span class="literal">nil</span>)</span><br><span class="line">	k.Mul(x, sa.Wk)</span><br><span class="line">	</span><br><span class="line">	v := mat.NewDense(x.RawMatrix().Rows, sa.DModel, <span class="literal">nil</span>)</span><br><span class="line">	v.Mul(x, sa.Wv)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 2. è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°: Q * K^T / sqrt(d_k)</span></span><br><span class="line">	kT := mat.NewDense(sa.DModel, k.RawMatrix().Rows, <span class="literal">nil</span>)</span><br><span class="line">	kT.TCopy(k) <span class="comment">// è½¬ç½®K</span></span><br><span class="line">	</span><br><span class="line">	scores := mat.NewDense(q.RawMatrix().Rows, kT.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	scores.Mul(q, kT)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// ç¼©æ”¾ç‚¹ç§¯ï¼ˆé˜²æ­¢æ¢¯åº¦æ¶ˆå¤±ï¼‰</span></span><br><span class="line">	scale := math.Sqrt(<span class="type">float64</span>(sa.DModel))</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; scores.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; scores.RawMatrix().Cols; j++ &#123;</span><br><span class="line">			scores.Set(i, j, scores.At(i, j)/scale)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 3. å¯¹æ¯è¡Œåº”ç”¨Softmaxå¾—åˆ°æ³¨æ„åŠ›æƒé‡</span></span><br><span class="line">	attn := mat.NewDense(scores.RawMatrix().Rows, scores.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; scores.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		row := mat.NewVecDense(scores.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; scores.RawMatrix().Cols; j++ &#123;</span><br><span class="line">			row.SetVec(j, scores.At(i, j))</span><br><span class="line">		&#125;</span><br><span class="line">		softmaxRow := softmax(row)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; scores.RawMatrix().Cols; j++ &#123;</span><br><span class="line">			attn.Set(i, j, softmaxRow.AtVec(j))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 4. åŠ æƒæ±‚å’Œ: attn * V</span></span><br><span class="line">	output := mat.NewDense(attn.RawMatrix().Rows, v.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	output.Mul(attn, v)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 5. è¾“å‡ºæŠ•å½±: output * Wo</span></span><br><span class="line">	result := mat.NewDense(output.RawMatrix().Rows, sa.DModel, <span class="literal">nil</span>)</span><br><span class="line">	result.Mul(output, sa.Wo)</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== å‰é¦ˆç¥ç»ç½‘ç»œ ==========</span></span><br><span class="line"><span class="keyword">type</span> FeedForward <span class="keyword">struct</span> &#123;</span><br><span class="line">	W1 *mat.Dense    <span class="comment">// ç¬¬ä¸€å±‚æƒé‡</span></span><br><span class="line">	B1 *mat.VecDense  <span class="comment">// ç¬¬ä¸€å±‚åç½®</span></span><br><span class="line">	W2 *mat.Dense    <span class="comment">// ç¬¬äºŒå±‚æƒé‡</span></span><br><span class="line">	B2 *mat.VecDense  <span class="comment">// ç¬¬äºŒå±‚åç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå‰é¦ˆç½‘ç»œï¼ˆä¸¤å±‚MLPï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewFeedForward</span><span class="params">(dModel, dFF <span class="type">int</span>)</span></span> *FeedForward &#123;</span><br><span class="line">	<span class="comment">// Xavieråˆå§‹åŒ–ç¼©æ”¾å› å­</span></span><br><span class="line">	scale1 := math.Sqrt(<span class="number">2.0</span> / <span class="type">float64</span>(dModel))</span><br><span class="line">	scale2 := math.Sqrt(<span class="number">2.0</span> / <span class="type">float64</span>(dFF))</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> &amp;FeedForward&#123;</span><br><span class="line">		W1: mat.NewDense(dModel, dFF, randWeights(dModel*dFF, scale1)),</span><br><span class="line">		B1: mat.NewVecDense(dFF, <span class="literal">nil</span>),</span><br><span class="line">		W2: mat.NewDense(dFF, dModel, randWeights(dFF*dModel, scale2)),</span><br><span class="line">		B2: mat.NewVecDense(dModel, <span class="literal">nil</span>),</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å‘ä¼ æ’­ï¼šReLUæ¿€æ´»çš„ä¸¤å±‚ç½‘ç»œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(ff *FeedForward)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">	<span class="comment">// ç¬¬ä¸€å±‚: ReLU(x * W1 + B1)</span></span><br><span class="line">	hidden := mat.NewDense(x.RawMatrix().Rows, ff.W1.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	hidden.Mul(x, ff.W1)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ·»åŠ åç½®å¹¶åº”ç”¨ReLU</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; hidden.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; hidden.RawMatrix().Cols; j++ &#123;</span><br><span class="line">			val := hidden.At(i, j) + ff.B1.AtVec(j)</span><br><span class="line">			<span class="keyword">if</span> val &lt; <span class="number">0</span> &#123;</span><br><span class="line">				val = <span class="number">0</span> <span class="comment">// ReLUæ¿€æ´»</span></span><br><span class="line">			&#125;</span><br><span class="line">			hidden.Set(i, j, val)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// ç¬¬äºŒå±‚: hidden * W2 + B2ï¼ˆæ— æ¿€æ´»å‡½æ•°ï¼‰</span></span><br><span class="line">	output := mat.NewDense(hidden.RawMatrix().Rows, ff.W2.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	output.Mul(hidden, ff.W2)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; output.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; output.RawMatrix().Cols; j++ &#123;</span><br><span class="line">			output.Set(i, j, output.At(i, j)+ff.B2.AtVec(j))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== Transformerç¼–ç å— ==========</span></span><br><span class="line"><span class="keyword">type</span> TransformerBlock <span class="keyword">struct</span> &#123;</span><br><span class="line">	DModel        <span class="type">int</span>             <span class="comment">// æ¨¡å‹ç»´åº¦</span></span><br><span class="line">	SelfAttention *SelfAttention  <span class="comment">// è‡ªæ³¨æ„åŠ›å±‚</span></span><br><span class="line">	FF            *FeedForward    <span class="comment">// å‰é¦ˆç½‘ç»œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºTransformerå—</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewTransformerBlock</span><span class="params">(dModel, dFF <span class="type">int</span>)</span></span> *TransformerBlock &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;TransformerBlock&#123;</span><br><span class="line">		DModel:        dModel,</span><br><span class="line">		SelfAttention: NewSelfAttention(dModel),</span><br><span class="line">		FF:            NewFeedForward(dModel, dFF),</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å‘ä¼ æ’­ï¼šå¸¦æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(tb *TransformerBlock)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">	<span class="comment">// 1. è‡ªæ³¨æ„åŠ› + æ®‹å·®è¿æ¥</span></span><br><span class="line">	attnOut := tb.SelfAttention.Forward(x)</span><br><span class="line">	residual1 := mat.NewDense(x.RawMatrix().Rows, x.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	residual1.Add(x, attnOut) <span class="comment">// æ®‹å·®è¿æ¥: x + attn(x)</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 2. å±‚å½’ä¸€åŒ–</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; residual1.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		row := mat.NewVecDense(tb.DModel, <span class="literal">nil</span>)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; tb.DModel; j++ &#123;</span><br><span class="line">			row.SetVec(j, residual1.At(i, j))</span><br><span class="line">		&#125;</span><br><span class="line">		ln := layerNorm(row, <span class="number">1e-5</span>)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; tb.DModel; j++ &#123;</span><br><span class="line">			residual1.Set(i, j, ln.AtVec(j))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 3. å‰é¦ˆç½‘ç»œ + æ®‹å·®è¿æ¥</span></span><br><span class="line">	ffOut := tb.FF.Forward(residual1)</span><br><span class="line">	residual2 := mat.NewDense(residual1.RawMatrix().Rows, residual1.RawMatrix().Cols, <span class="literal">nil</span>)</span><br><span class="line">	residual2.Add(residual1, ffOut) <span class="comment">// æ®‹å·®è¿æ¥: x + ff(x)</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 4. å±‚å½’ä¸€åŒ–</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; residual2.RawMatrix().Rows; i++ &#123;</span><br><span class="line">		row := mat.NewVecDense(tb.DModel, <span class="literal">nil</span>)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; tb.DModel; j++ &#123;</span><br><span class="line">			row.SetVec(j, residual2.At(i, j))</span><br><span class="line">		&#125;</span><br><span class="line">		ln := layerNorm(row, <span class="number">1e-5</span>)</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; tb.DModel; j++ &#123;</span><br><span class="line">			residual2.Set(i, j, ln.AtVec(j))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> residual2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== å­—ç¬¦çº§Transformeræ¨¡å‹ ==========</span></span><br><span class="line"><span class="keyword">type</span> CharTransformer <span class="keyword">struct</span> &#123;</span><br><span class="line">	VocabSize     <span class="type">int</span>             <span class="comment">// è¯æ±‡è¡¨å¤§å°</span></span><br><span class="line">	DModel        <span class="type">int</span>             <span class="comment">// æ¨¡å‹ç»´åº¦</span></span><br><span class="line">	MaxSeqLen     <span class="type">int</span>             <span class="comment">// æœ€å¤§åºåˆ—é•¿åº¦</span></span><br><span class="line">	Embedding     *mat.Dense      <span class="comment">// å­—ç¬¦åµŒå…¥çŸ©é˜µ [vocab_size, d_model]</span></span><br><span class="line">	PosEncoding   *PositionalEncoding <span class="comment">// ä½ç½®ç¼–ç </span></span><br><span class="line">	Transformer   *TransformerBlock   <span class="comment">// Transformerç¼–ç å—</span></span><br><span class="line">	OutputLayer   *mat.Dense      <span class="comment">// è¾“å‡ºå±‚ [d_model, vocab_size]</span></span><br><span class="line">	CharToIdx     <span class="keyword">map</span>[<span class="type">rune</span>]<span class="type">int</span>    <span class="comment">// å­—ç¬¦åˆ°ç´¢å¼•çš„æ˜ å°„</span></span><br><span class="line">	IdxToChar     []<span class="type">rune</span>          <span class="comment">// ç´¢å¼•åˆ°å­—ç¬¦çš„æ˜ å°„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå­—ç¬¦çº§Transformeræ¨¡å‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewCharTransformer</span><span class="params">(vocab <span class="type">string</span>, dModel, maxSeqLen <span class="type">int</span>)</span></span> *CharTransformer &#123;</span><br><span class="line">	vocabSize := <span class="built_in">len</span>(vocab)</span><br><span class="line">	charToIdx := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">rune</span>]<span class="type">int</span>)</span><br><span class="line">	idxToChar := <span class="built_in">make</span>([]<span class="type">rune</span>, vocabSize)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ„å»ºå­—ç¬¦ç´¢å¼•æ˜ å°„</span></span><br><span class="line">	<span class="keyword">for</span> i, c := <span class="keyword">range</span> vocab &#123;</span><br><span class="line">		charToIdx[c] = i</span><br><span class="line">		idxToChar[i] = c</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// Xavieråˆå§‹åŒ–</span></span><br><span class="line">	scale := math.Sqrt(<span class="number">2.0</span> / <span class="type">float64</span>(dModel))</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> &amp;CharTransformer&#123;</span><br><span class="line">		VocabSize:   vocabSize,</span><br><span class="line">		DModel:      dModel,</span><br><span class="line">		MaxSeqLen:   maxSeqLen,</span><br><span class="line">		Embedding:   mat.NewDense(vocabSize, dModel, randWeights(vocabSize*dModel, scale)),</span><br><span class="line">		PosEncoding: NewPositionalEncoding(dModel, maxSeqLen),</span><br><span class="line">		Transformer: NewTransformerBlock(dModel, dModel*<span class="number">4</span>),</span><br><span class="line">		OutputLayer: mat.NewDense(dModel, vocabSize, randWeights(dModel*vocabSize, scale)),</span><br><span class="line">		CharToIdx:   charToIdx,</span><br><span class="line">		IdxToChar:   idxToChar,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ–‡æœ¬ç¼–ç ä¸ºåµŒå…¥å‘é‡ + ä½ç½®ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *CharTransformer)</span></span> Encode(text <span class="type">string</span>) *mat.Dense &#123;</span><br><span class="line">	seqLen := min(<span class="built_in">len</span>(text), m.MaxSeqLen)</span><br><span class="line">	x := mat.NewDense(seqLen, m.DModel, <span class="literal">nil</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å­—ç¬¦åµŒå…¥æŸ¥æ‰¾</span></span><br><span class="line">	<span class="keyword">for</span> i, c := <span class="keyword">range</span> text &#123;</span><br><span class="line">		<span class="keyword">if</span> i &gt;= m.MaxSeqLen &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> idx, ok := m.CharToIdx[c]; ok &#123;</span><br><span class="line">			<span class="comment">// ä»åµŒå…¥çŸ©é˜µä¸­å¤åˆ¶å¯¹åº”è¡Œ</span></span><br><span class="line">			<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; m.DModel; j++ &#123;</span><br><span class="line">				x.Set(i, j, m.Embedding.At(idx, j))</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ·»åŠ ä½ç½®ç¼–ç </span></span><br><span class="line">	<span class="keyword">return</span> m.PosEncoding.Forward(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰å‘ä¼ æ’­ï¼šé¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *CharTransformer)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">	<span class="comment">// Transformerç¼–ç </span></span><br><span class="line">	out := m.Transformer.Forward(x)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å–æœ€åä¸€ä¸ªä½ç½®çš„è¾“å‡ºç”¨äºé¢„æµ‹</span></span><br><span class="line">	lastPos := out.RawMatrix().Rows - <span class="number">1</span></span><br><span class="line">	lastVec := mat.NewVecDense(m.DModel, <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; m.DModel; j++ &#123;</span><br><span class="line">		lastVec.SetVec(j, out.At(lastPos, j))</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æŠ•å½±åˆ°è¯æ±‡è¡¨ç©ºé—´</span></span><br><span class="line">	logits := mat.NewVecDense(m.VocabSize, <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; m.VocabSize; j++ &#123;</span><br><span class="line">		sum := <span class="number">0.0</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m.DModel; i++ &#123;</span><br><span class="line">			sum += lastVec.AtVec(i) * m.OutputLayer.At(i, j)</span><br><span class="line">		&#125;</span><br><span class="line">		logits.SetVec(j, sum)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> logits.AsDense()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå¸¦æ¸©åº¦é‡‡æ ·ï¼‰</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *CharTransformer)</span></span> Predict(text <span class="type">string</span>) <span class="type">rune</span> &#123;</span><br><span class="line">	x := m.Encode(text)</span><br><span class="line">	logits := m.Forward(x)</span><br><span class="line">	probs := softmax(mat.NewVecDense(m.VocabSize, logits.RawMatrix().Data))</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ¸©åº¦é‡‡æ ·ï¼štemperature &lt; 1.0 ä½¿åˆ†å¸ƒæ›´å°–é”ï¼Œ&gt; 1.0 ä½¿åˆ†å¸ƒæ›´å¹³æ»‘</span></span><br><span class="line">	temperature := <span class="number">0.8</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; probs.Len(); i++ &#123;</span><br><span class="line">		<span class="comment">// è°ƒæ•´æ¦‚ç‡åˆ†å¸ƒï¼šp^(1/temperature)</span></span><br><span class="line">		probs.SetVec(i, math.Pow(probs.AtVec(i), <span class="number">1.0</span>/temperature))</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é‡æ–°å½’ä¸€åŒ–</span></span><br><span class="line">	sum := <span class="number">0.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; probs.Len(); i++ &#123;</span><br><span class="line">		sum += probs.AtVec(i)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; probs.Len(); i++ &#123;</span><br><span class="line">		probs.SetVec(i, probs.AtVec(i)/sum)</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// è½®ç›˜èµŒé‡‡æ ·</span></span><br><span class="line">	r := rand.Float64()</span><br><span class="line">	cum := <span class="number">0.0</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; probs.Len(); i++ &#123;</span><br><span class="line">		cum += probs.AtVec(i)</span><br><span class="line">		<span class="keyword">if</span> r &lt; cum &#123;</span><br><span class="line">			<span class="keyword">return</span> m.IdxToChar[i]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> m.IdxToChar[<span class="number">0</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”ŸæˆæŒ‡å®šé•¿åº¦çš„æ–‡æœ¬</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *CharTransformer)</span></span> Generate(prompt <span class="type">string</span>, length <span class="type">int</span>) <span class="type">string</span> &#123;</span><br><span class="line">	result := prompt</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; length; i++ &#123;</span><br><span class="line">		nextChar := m.Predict(result)</span><br><span class="line">		result += <span class="type">string</span>(nextChar)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== Adamä¼˜åŒ–å™¨ï¼ˆç®€åŒ–ç‰ˆï¼‰ ==========</span></span><br><span class="line"><span class="keyword">type</span> AdamOptimizer <span class="keyword">struct</span> &#123;</span><br><span class="line">	Lr     <span class="type">float64</span>               <span class="comment">// å­¦ä¹ ç‡</span></span><br><span class="line">	Beta1  <span class="type">float64</span>               <span class="comment">// ä¸€é˜¶çŸ©ä¼°è®¡è¡°å‡ç‡</span></span><br><span class="line">	Beta2  <span class="type">float64</span>               <span class="comment">// äºŒé˜¶çŸ©ä¼°è®¡è¡°å‡ç‡</span></span><br><span class="line">	Eps    <span class="type">float64</span>               <span class="comment">// æ•°å€¼ç¨³å®šæ€§å¸¸æ•°</span></span><br><span class="line">	T      <span class="type">int</span>                   <span class="comment">// æ—¶é—´æ­¥</span></span><br><span class="line">	M      <span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense <span class="comment">// ä¸€é˜¶çŸ©ä¼°è®¡</span></span><br><span class="line">	V      <span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense <span class="comment">// äºŒé˜¶çŸ©ä¼°è®¡</span></span><br><span class="line">	Params <span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense <span class="comment">// å¯è®­ç»ƒå‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºAdamä¼˜åŒ–å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewAdamOptimizer</span><span class="params">(lr <span class="type">float64</span>)</span></span> *AdamOptimizer &#123;</span><br><span class="line">	<span class="keyword">return</span> &amp;AdamOptimizer&#123;</span><br><span class="line">		Lr:     lr,</span><br><span class="line">		Beta1:  <span class="number">0.9</span>,</span><br><span class="line">		Beta2:  <span class="number">0.999</span>,</span><br><span class="line">		Eps:    <span class="number">1e-8</span>,</span><br><span class="line">		T:      <span class="number">0</span>,</span><br><span class="line">		M:      <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense),</span><br><span class="line">		V:      <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense),</span><br><span class="line">		Params: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]*mat.Dense),</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œå¯è®­ç»ƒå‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(opt *AdamOptimizer)</span></span> Register(name <span class="type">string</span>, param *mat.Dense) &#123;</span><br><span class="line">	opt.Params[name] = param</span><br><span class="line">	rows, cols := param.Dims()</span><br><span class="line">	<span class="comment">// åˆå§‹åŒ–ä¸€é˜¶å’ŒäºŒé˜¶çŸ©ä¸ºé›¶</span></span><br><span class="line">	opt.M[name] = mat.NewDense(rows, cols, <span class="built_in">make</span>([]<span class="type">float64</span>, rows*cols))</span><br><span class="line">	opt.V[name] = mat.NewDense(rows, cols, <span class="built_in">make</span>([]<span class="type">float64</span>, rows*cols))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œå•æ­¥ä¼˜åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(opt *AdamOptimizer)</span></span> Step(name <span class="type">string</span>, grad *mat.Dense) &#123;</span><br><span class="line">	opt.T++</span><br><span class="line">	m := opt.M[name]</span><br><span class="line">	v := opt.V[name]</span><br><span class="line">	param := opt.Params[name]</span><br><span class="line">	rows, cols := grad.Dims()</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ›´æ–°ä¸€é˜¶çŸ©ä¼°è®¡: m_t = beta1 * m_&#123;t-1&#125; + (1 - beta1) * grad</span></span><br><span class="line">	mTemp := mat.NewDense(rows, cols, <span class="literal">nil</span>)</span><br><span class="line">	mTemp.Scale(opt.Beta1, m)</span><br><span class="line">	mTemp.Add(mTemp, mat.NewDense(rows, cols, <span class="literal">nil</span>).Scale(<span class="number">1</span>-opt.Beta1, grad))</span><br><span class="line">	m.Copy(mTemp)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// æ›´æ–°äºŒé˜¶çŸ©ä¼°è®¡: v_t = beta2 * v_&#123;t-1&#125; + (1 - beta2) * grad^2</span></span><br><span class="line">	vTemp := mat.NewDense(rows, cols, <span class="literal">nil</span>)</span><br><span class="line">	vTemp.Scale(opt.Beta2, v)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; cols; j++ &#123;</span><br><span class="line">			g := grad.At(i, j)</span><br><span class="line">			vTemp.Set(i, j, vTemp.At(i, j)+(<span class="number">1</span>-opt.Beta2)*g*g)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	v.Copy(vTemp)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// åå·®æ ¡æ­£</span></span><br><span class="line">	mHat := mat.NewDense(rows, cols, <span class="literal">nil</span>)</span><br><span class="line">	mHat.Scale(<span class="number">1.0</span>/(<span class="number">1.0</span>-math.Pow(opt.Beta1, <span class="type">float64</span>(opt.T))), m)</span><br><span class="line">	</span><br><span class="line">	vHat := mat.NewDense(rows, cols, <span class="literal">nil</span>)</span><br><span class="line">	vHat.Scale(<span class="number">1.0</span>/(<span class="number">1.0</span>-math.Pow(opt.Beta2, <span class="type">float64</span>(opt.T))), v)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// å‚æ•°æ›´æ–°: theta_t = theta_&#123;t-1&#125; - lr * m_hat / (sqrt(v_hat) + eps)</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; cols; j++ &#123;</span><br><span class="line">			update := opt.Lr * mHat.At(i, j) / (math.Sqrt(vHat.At(i, j)) + opt.Eps)</span><br><span class="line">			param.Set(i, j, param.At(i, j)-update)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== æŸå¤±å‡½æ•°ï¼šäº¤å‰ç†µ ==========</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">crossEntropyLoss</span><span class="params">(logits *mat.VecDense, targetIdx <span class="type">int</span>)</span></span> (<span class="type">float64</span>, *mat.VecDense) &#123;</span><br><span class="line">	probs := softmax(logits)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// äº¤å‰ç†µæŸå¤±: -log(p_target)</span></span><br><span class="line">	loss := -math.Log(probs.AtVec(targetIdx) + <span class="number">1e-10</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æ¢¯åº¦: dL/dz = p_i - y_i (y_iæ˜¯one-hotç›®æ ‡)</span></span><br><span class="line">	grad := mat.NewVecDense(logits.Len(), <span class="literal">nil</span>)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; logits.Len(); i++ &#123;</span><br><span class="line">		<span class="keyword">if</span> i == targetIdx &#123;</span><br><span class="line">			grad.SetVec(i, probs.AtVec(i)<span class="number">-1.0</span>) <span class="comment">// ç›®æ ‡ç±»: p_i - 1</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			grad.SetVec(i, probs.AtVec(i))     <span class="comment">// éç›®æ ‡ç±»: p_i</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> loss, grad</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== æ¨¡å‹åºåˆ—åŒ– ==========</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *CharTransformer)</span></span> Save(filename <span class="type">string</span>) <span class="type">error</span> &#123;</span><br><span class="line">	file, err := os.Create(filename)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// ä½¿ç”¨gobè¿›è¡ŒäºŒè¿›åˆ¶åºåˆ—åŒ–</span></span><br><span class="line">	encoder := gob.NewEncoder(file)</span><br><span class="line">	<span class="keyword">return</span> encoder.Encode(m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">LoadCharTransformer</span><span class="params">(filename <span class="type">string</span>)</span></span> (*CharTransformer, <span class="type">error</span>) &#123;</span><br><span class="line">	file, err := os.Open(filename)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> model CharTransformer</span><br><span class="line">	decoder := gob.NewDecoder(file)</span><br><span class="line">	<span class="keyword">if</span> err := decoder.Decode(&amp;model); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;model, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== è®­ç»ƒå¾ªç¯ï¼ˆç®€åŒ–ç‰ˆï¼‰ ==========</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">train</span><span class="params">(model *CharTransformer, text <span class="type">string</span>, epochs, seqLen <span class="type">int</span>, lr <span class="type">float64</span>)</span></span> &#123;</span><br><span class="line">	<span class="comment">// æ³¨æ„ï¼šå®Œæ•´åå‘ä¼ æ’­éœ€è¦ä¸ºæ¯ä¸ªæ“ä½œå®ç°æ¢¯åº¦è®¡ç®—</span></span><br><span class="line">	<span class="comment">// æœ¬ç¤ºä¾‹ä¸ºæ•™å­¦ç›®çš„ç®€åŒ–è®­ç»ƒè¿‡ç¨‹ï¼Œä»…æ¼”ç¤ºæ¡†æ¶</span></span><br><span class="line">	<span class="comment">// å®é™…åº”ç”¨åº”ä½¿ç”¨è‡ªåŠ¨å¾®åˆ†åº“ï¼ˆå¦‚Gorgoniaï¼‰å®ç°å®Œæ•´æ¢¯åº¦</span></span><br><span class="line">	</span><br><span class="line">	chars := []<span class="type">rune</span>(text)</span><br><span class="line">	<span class="keyword">for</span> epoch := <span class="number">0</span>; epoch &lt; epochs; epoch++ &#123;</span><br><span class="line">		totalLoss := <span class="number">0.0</span></span><br><span class="line">		count := <span class="number">0</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// æ»‘åŠ¨çª—å£éå†æ–‡æœ¬</span></span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(chars)-seqLen; i++ &#123;</span><br><span class="line">			<span class="comment">// æ„é€ è¾“å…¥åºåˆ—å’Œç›®æ ‡å­—ç¬¦</span></span><br><span class="line">			input := <span class="type">string</span>(chars[i : i+seqLen])</span><br><span class="line">			targetChar := chars[i+seqLen]</span><br><span class="line">			targetIdx, ok := model.CharToIdx[targetChar]</span><br><span class="line">			<span class="keyword">if</span> !ok &#123;</span><br><span class="line">				<span class="keyword">continue</span></span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// å‰å‘ä¼ æ’­</span></span><br><span class="line">			x := model.Encode(input)</span><br><span class="line">			logits := model.Forward(x)</span><br><span class="line">			logitsVec := mat.NewVecDense(model.VocabSize, logits.RawMatrix().Data)</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// è®¡ç®—æŸå¤±å’Œæ¢¯åº¦</span></span><br><span class="line">			loss, grad := crossEntropyLoss(logitsVec, targetIdx)</span><br><span class="line">			totalLoss += loss</span><br><span class="line">			count++</span><br><span class="line">			</span><br><span class="line">			<span class="comment">// ç®€åŒ–æ›´æ–°ï¼šä»…æ›´æ–°è¾“å‡ºå±‚ï¼ˆå®Œæ•´è®­ç»ƒéœ€åå‘ä¼ æ’­åˆ°æ‰€æœ‰å±‚ï¼‰</span></span><br><span class="line">			<span class="comment">// å®é™…åº”ç”¨ä¸­åº”å®ç°å®Œæ•´çš„åå‘ä¼ æ’­é“¾</span></span><br><span class="line">			rows, cols := model.OutputLayer.Dims()</span><br><span class="line">			<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; cols; j++ &#123;</span><br><span class="line">				<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; rows; i++ &#123;</span><br><span class="line">					<span class="comment">// æ¢¯åº¦ä¸‹é™æ›´æ–°</span></span><br><span class="line">					model.OutputLayer.Set(i, j, model.OutputLayer.At(i, j)-lr*grad.AtVec(j))</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> count &gt; <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Printf(<span class="string">&quot;ç¬¬ %d è½®è®­ç»ƒ, å¹³å‡æŸå¤±: %.4f\n&quot;</span>, epoch+<span class="number">1</span>, totalLoss/<span class="type">float64</span>(count))</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== è¾…åŠ©å‡½æ•° ==========</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> a &lt; b &#123;</span><br><span class="line">		<span class="keyword">return</span> a</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ========== ä¸»ç¨‹åº ==========</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	rand.Seed(time.Now().UnixNano())</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 1. å®šä¹‰å­—ç¬¦é›†ï¼ˆæ”¯æŒè‹±æ–‡ã€æ ‡ç‚¹å’Œæ¢è¡Œï¼‰</span></span><br><span class="line">	vocab := <span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ,.!?&#x27;\n&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 2. åˆ›å»ºæ¨¡å‹ï¼ˆå°æ¨¡å‹é€‚åˆCPUè®­ç»ƒï¼‰</span></span><br><span class="line">	dModel := <span class="number">32</span>      <span class="comment">// æ¨¡å‹ç»´åº¦</span></span><br><span class="line">	maxSeqLen := <span class="number">32</span>   <span class="comment">// æœ€å¤§åºåˆ—é•¿åº¦</span></span><br><span class="line">	model := NewCharTransformer(vocab, dModel, maxSeqLen)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 3. è®­ç»ƒæ•°æ®ï¼ˆèå£«æ¯”äºšé£æ ¼çŸ­æ–‡æœ¬ï¼‰</span></span><br><span class="line">	trainingText := <span class="string">`To be or not to be that is the question</span></span><br><span class="line"><span class="string">Whether tis nobler in the mind to suffer</span></span><br><span class="line"><span class="string">The slings and arrows of outrageous fortune</span></span><br><span class="line"><span class="string">Or to take arms against a sea of troubles</span></span><br><span class="line"><span class="string">And by opposing end them`</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 4. è®­ç»ƒæ¨¡å‹ï¼ˆç®€åŒ–è®­ç»ƒï¼Œå®Œæ•´åå‘ä¼ æ’­éœ€æ›´å¤šä»£ç ï¼‰</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼ˆç®€åŒ–ç‰ˆï¼Œä»…æ¼”ç¤ºè®­ç»ƒæµç¨‹ï¼‰...&quot;</span>)</span><br><span class="line">	train(model, trainingText, <span class="number">100</span>, <span class="number">16</span>, <span class="number">0.01</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 5. ä¿å­˜æ¨¡å‹åˆ°æ–‡ä»¶</span></span><br><span class="line">	modelPath := <span class="string">&quot;transformer_model.gob&quot;</span></span><br><span class="line">	<span class="keyword">if</span> err := model.Save(modelPath); err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatalf(<span class="string">&quot;ä¿å­˜æ¨¡å‹å¤±è´¥: %v&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;âœ… æ¨¡å‹å·²ä¿å­˜åˆ° %s\n&quot;</span>, modelPath)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 6. é‡æ–°åŠ è½½æ¨¡å‹éªŒè¯</span></span><br><span class="line">	loadedModel, err := LoadCharTransformer(modelPath)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		log.Fatalf(<span class="string">&quot;åŠ è½½æ¨¡å‹å¤±è´¥: %v&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;âœ… æ¨¡å‹åŠ è½½æˆåŠŸ&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 7. äº¤äº’å¼æ–‡æœ¬ç”Ÿæˆ</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;\n&quot;</span> + strings.Repeat(<span class="string">&quot;=&quot;</span>, <span class="number">50</span>))</span><br><span class="line">	fmt.Println(<span class="string">&quot;ğŸ¤– äº¤äº’å¼æ–‡æœ¬ç”Ÿæˆå™¨ï¼ˆè¾“å…¥&#x27;quit&#x27;é€€å‡ºï¼‰&quot;</span>)</span><br><span class="line">	fmt.Println(strings.Repeat(<span class="string">&quot;=&quot;</span>, <span class="number">50</span>))</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		fmt.Print(<span class="string">&quot;\nè¯·è¾“å…¥æç¤ºæ–‡æœ¬: &quot;</span>)</span><br><span class="line">		<span class="keyword">var</span> prompt <span class="type">string</span></span><br><span class="line">		fmt.Scanln(&amp;prompt)</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> prompt == <span class="string">&quot;quit&quot;</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;ğŸ‘‹ å†è§ï¼&quot;</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> prompt == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">			prompt = <span class="string">&quot;To be&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// ç”Ÿæˆ50ä¸ªå­—ç¬¦çš„æ–‡æœ¬</span></span><br><span class="line">		generated := loadedModel.Generate(prompt, <span class="number">50</span>)</span><br><span class="line">		fmt.Printf(<span class="string">&quot;\nâœ¨ ç”Ÿæˆç»“æœ:\n%s\n&quot;</span>, generated)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦å¯¼å…¥stringsåŒ…ç”¨äºæ ¼å¼åŒ–è¾“å‡º</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;strings&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h2><h3 id="1-åˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–"><a href="#1-åˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–" class="headerlink" title="1. åˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–"></a>1. åˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> go-transformer &amp;&amp; <span class="built_in">cd</span> go-transformer</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–Goæ¨¡å—</span></span><br><span class="line">go mod init transformer</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…æ•°å€¼è®¡ç®—åº“</span></span><br><span class="line">go get gonum.org/v1/gonum/mat</span><br></pre></td></tr></table></figure><h3 id="2-ä¿å­˜ä»£ç ä¸º-main-go-å¹¶è¿è¡Œ"><a href="#2-ä¿å­˜ä»£ç ä¸º-main-go-å¹¶è¿è¡Œ" class="headerlink" title="2. ä¿å­˜ä»£ç ä¸º main.go å¹¶è¿è¡Œ"></a>2. ä¿å­˜ä»£ç ä¸º <code>main.go</code> å¹¶è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go run main.go</span><br></pre></td></tr></table></figure><h3 id="3-äº¤äº’ç¤ºä¾‹"><a href="#3-äº¤äº’ç¤ºä¾‹" class="headerlink" title="3. äº¤äº’ç¤ºä¾‹"></a>3. äº¤äº’ç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">å¼€å§‹è®­ç»ƒæ¨¡å‹ï¼ˆç®€åŒ–ç‰ˆï¼Œä»…æ¼”ç¤ºè®­ç»ƒæµç¨‹ï¼‰...</span><br><span class="line">ç¬¬ 1 è½®è®­ç»ƒ, å¹³å‡æŸå¤±: 3.6241</span><br><span class="line">ç¬¬ 2 è½®è®­ç»ƒ, å¹³å‡æŸå¤±: 3.5128</span><br><span class="line">...</span><br><span class="line">ç¬¬ 100 è½®è®­ç»ƒ, å¹³å‡æŸå¤±: 2.8745</span><br><span class="line">âœ… æ¨¡å‹å·²ä¿å­˜åˆ° transformer_model.gob</span><br><span class="line">âœ… æ¨¡å‹åŠ è½½æˆåŠŸ</span><br><span class="line"></span><br><span class="line">==================================================</span><br><span class="line">ğŸ¤– äº¤äº’å¼æ–‡æœ¬ç”Ÿæˆå™¨ï¼ˆè¾“å…¥&#x27;quit&#x27;é€€å‡ºï¼‰</span><br><span class="line">==================================================</span><br><span class="line"></span><br><span class="line">è¯·è¾“å…¥æç¤ºæ–‡æœ¬: To be</span><br><span class="line"></span><br><span class="line">âœ¨ ç”Ÿæˆç»“æœ:</span><br><span class="line">To be or not to be that is the question of the mind to suffer the slings and arrows of</span><br><span class="line"></span><br><span class="line">è¯·è¾“å…¥æç¤ºæ–‡æœ¬: The slings</span><br><span class="line"></span><br><span class="line">âœ¨ ç”Ÿæˆç»“æœ:</span><br><span class="line">The slings and arrows of outrageous fortune or to take arms against a sea of troubles and</span><br></pre></td></tr></table></figure><h2 id="é‡è¦è¯´æ˜"><a href="#é‡è¦è¯´æ˜" class="headerlink" title="é‡è¦è¯´æ˜"></a>é‡è¦è¯´æ˜</h2><h3 id="ğŸ”‘-æ ¸å¿ƒè®¾è®¡ç‰¹ç‚¹"><a href="#ğŸ”‘-æ ¸å¿ƒè®¾è®¡ç‰¹ç‚¹" class="headerlink" title="ğŸ”‘ æ ¸å¿ƒè®¾è®¡ç‰¹ç‚¹"></a>ğŸ”‘ æ ¸å¿ƒè®¾è®¡ç‰¹ç‚¹</h3><ol><li><strong>æç®€å®ç°</strong>ï¼šå•å±‚Transformerï¼ˆ32ç»´ï¼‰ï¼Œé€‚åˆCPUå¿«é€ŸéªŒè¯</li><li><strong>å­—ç¬¦çº§å»ºæ¨¡</strong>ï¼šç›´æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œæ— éœ€åˆ†è¯</li><li><strong>å®Œæ•´æµç¨‹</strong>ï¼šè®­ç»ƒ â†’ ä¿å­˜ â†’ åŠ è½½ â†’ äº¤äº’ç”Ÿæˆ</li><li><strong>æ•™å­¦å‹å¥½</strong>ï¼šæ¯è¡Œå…³é”®ä»£ç å‡æœ‰ä¸­æ–‡æ³¨é‡Šï¼Œæ¸…æ™°å±•ç¤ºTransformeræ ¸å¿ƒæœºåˆ¶</li></ol><h3 id="âš ï¸-æ³¨æ„äº‹é¡¹"><a href="#âš ï¸-æ³¨æ„äº‹é¡¹" class="headerlink" title="âš ï¸ æ³¨æ„äº‹é¡¹"></a>âš ï¸ æ³¨æ„äº‹é¡¹</h3><ol><li><strong>ç®€åŒ–è®­ç»ƒ</strong>ï¼šä¸ºä¿æŒä»£ç ç²¾ç®€ï¼ˆ&lt;600è¡Œï¼‰ï¼Œè®­ç»ƒéƒ¨åˆ†ä»…æ›´æ–°è¾“å‡ºå±‚æƒé‡<ul><li>å®Œæ•´è®­ç»ƒéœ€å®ç°æ‰€æœ‰å±‚çš„åå‘ä¼ æ’­ï¼ˆä»£ç é‡å°†å¢åŠ 3-5å€ï¼‰</li><li>ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/gorgonia/gorgonia">Gorgonia</a>ç­‰è‡ªåŠ¨å¾®åˆ†åº“</li></ul></li><li><strong>æ¨¡å‹èƒ½åŠ›</strong>ï¼šå°æ¨¡å‹ï¼ˆ32ç»´ï¼‰é€‚åˆæ•™å­¦æ¼”ç¤ºï¼Œç”Ÿæˆæ–‡æœ¬è´¨é‡æœ‰é™<ul><li>æå‡æ•ˆæœï¼šå¢å¤§d_modelï¼ˆå¦‚128ï¼‰ã€å¢åŠ è®­ç»ƒæ•°æ®ã€å®Œæ•´å®ç°åå‘ä¼ æ’­</li></ul></li><li><strong>åºåˆ—åŒ–</strong>ï¼šä½¿ç”¨gobç¼–ç ï¼Œç¡®ä¿æ‰€æœ‰ç»“æ„ä½“å­—æ®µ<strong>é¦–å­—æ¯å¤§å†™</strong>ï¼ˆå·²å¤„ç†ï¼‰</li></ol><h3 id="ğŸ’¡-æ‰©å±•å»ºè®®"><a href="#ğŸ’¡-æ‰©å±•å»ºè®®" class="headerlink" title="ğŸ’¡ æ‰©å±•å»ºè®®"></a>ğŸ’¡ æ‰©å±•å»ºè®®</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚éœ€æå‡ç”Ÿæˆè´¨é‡ï¼Œå¯å°è¯•ï¼š</span></span><br><span class="line"><span class="comment">// 1. å¢å¤§æ¨¡å‹ç»´åº¦</span></span><br><span class="line">dModel := <span class="number">128</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ä½¿ç”¨æ›´å¤§è®­ç»ƒé›†ï¼ˆå¦‚æ•´ä¸ªèå£«æ¯”äºšæ–‡é›†ï¼‰</span></span><br><span class="line">trainingText := loadShakespeare() </span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å®ç°å®Œæ•´åå‘ä¼ æ’­ï¼ˆéœ€ä¸ºæ¯ä¸ªæ“ä½œæ·»åŠ æ¢¯åº¦è®¡ç®—ï¼‰</span></span><br><span class="line"><span class="comment">// 4. æ·»åŠ å­¦ä¹ ç‡è°ƒåº¦ã€æ¢¯åº¦è£å‰ªç­‰è®­ç»ƒæŠ€å·§</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Golangå®ç°ä¸€ä¸ªæœ€ç®€å•çš„Transformerè®­ç»ƒæ¨¡å‹ã€‚</p><h2 id="æç®€Transformerå®ç°ï¼šå®Œæ•´è®¾è®¡æ–‡æ¡£è¯´æ˜ï¼ˆé¢å‘åˆå­¦è€…ï¼‰"><a href="#æç®€Transformerå®ç°ï¼šå®Œæ•´è®¾è®¡æ–‡æ¡£è¯´æ˜ï¼ˆé¢å‘åˆå­¦è€…ï¼‰" class="headerlink" title="æç®€Transformerå®ç°ï¼šå®Œæ•´è®¾è®¡æ–‡æ¡£è¯´æ˜ï¼ˆé¢å‘åˆå­¦è€…ï¼‰"></a>æç®€Transformerå®ç°ï¼šå®Œæ•´è®¾è®¡æ–‡æ¡£è¯´æ˜ï¼ˆé¢å‘åˆå­¦è€…ï¼‰</h2><h4 id="ä¸€ã€é¡¹ç›®ç›®æ ‡ä¸è®¾è®¡å“²å­¦"><a href="#ä¸€ã€é¡¹ç›®ç›®æ ‡ä¸è®¾è®¡å“²å­¦" class="headerlink" title="ä¸€ã€é¡¹ç›®ç›®æ ‡ä¸è®¾è®¡å“²å­¦"></a>ä¸€ã€é¡¹ç›®ç›®æ ‡ä¸è®¾è®¡å“²å­¦</h4><h4 id="ğŸ¯-æ ¸å¿ƒç›®æ ‡"><a href="#ğŸ¯-æ ¸å¿ƒç›®æ ‡" class="headerlink" title="ğŸ¯ æ ¸å¿ƒç›®æ ‡"></a>ğŸ¯ æ ¸å¿ƒç›®æ ‡</h4><ol><li><strong>æ•™å­¦ä¼˜å…ˆ</strong>ï¼šç”¨æœ€ç®€ä»£ç ï¼ˆ&lt;600è¡Œï¼‰å®Œæ•´å±•ç¤ºTransformeræ ¸å¿ƒæœºåˆ¶</li><li><strong>ç«¯åˆ°ç«¯æµç¨‹</strong>ï¼šè®­ç»ƒ â†’ ä¿å­˜ â†’ åŠ è½½ â†’ äº¤äº’ç”Ÿæˆï¼Œå½¢æˆå®Œæ•´é—­ç¯</li><li><strong>é›¶å¤–éƒ¨ä¾èµ–</strong>ï¼šä»…éœ€æ ‡å‡†åº“ + gonumï¼ˆçº¯CPUæ•°å€¼è®¡ç®—ï¼‰</li><li><strong>å­—ç¬¦çº§å»ºæ¨¡</strong>ï¼šé¿å…åˆ†è¯å¤æ‚åº¦ï¼Œç›´æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦</li></ol><h5 id="ğŸ’¡-è®¾è®¡å“²å­¦"><a href="#ğŸ’¡-è®¾è®¡å“²å­¦" class="headerlink" title="ğŸ’¡ è®¾è®¡å“²å­¦"></a>ğŸ’¡ è®¾è®¡å“²å­¦</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;å±•ç¤ºæ ¸å¿ƒæ€æƒ³ &gt; è¿½æ±‚å·¥ä¸šçº§æ€§èƒ½&quot;</span><br><span class="line">&quot;å¯è¯»æ€§ &gt; ä»£ç ç²¾ç®€åº¦&quot;</span><br><span class="line">&quot;å®Œæ•´æµç¨‹ &gt; å•ç‚¹ä¼˜åŒ–&quot;</span><br></pre></td></tr></table></figure><h4 id="äºŒã€æ•´ä½“æ¶æ„è®¾è®¡"><a href="#äºŒã€æ•´ä½“æ¶æ„è®¾è®¡" class="headerlink" title="äºŒã€æ•´ä½“æ¶æ„è®¾è®¡"></a>äºŒã€æ•´ä½“æ¶æ„è®¾è®¡</h4><h3 id="ğŸŒ-ç³»ç»Ÿæ¶æ„å›¾"><a href="#ğŸŒ-ç³»ç»Ÿæ¶æ„å›¾" class="headerlink" title="ğŸŒ ç³»ç»Ÿæ¶æ„å›¾"></a>ğŸŒ ç³»ç»Ÿæ¶æ„å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ–‡æœ¬ â†’ [å­—ç¬¦ç¼–ç ] â†’ [åµŒå…¥å±‚] â†’ [ä½ç½®ç¼–ç ] </span><br><span class="line">         â†’ [Transformerå—] â†’ [è¾“å‡ºå±‚] â†’ é¢„æµ‹ä¸‹ä¸€ä¸ªå­—ç¬¦</span><br><span class="line">                â†‘          â†‘</span><br><span class="line">          [è‡ªæ³¨æ„åŠ›]   [å‰é¦ˆç½‘ç»œ]</span><br><span class="line">                â†‘          â†‘</span><br><span class="line">          [æ®‹å·®è¿æ¥]   [å±‚å½’ä¸€åŒ–]</span><br></pre></td></tr></table></figure><h5 id="ğŸ“¦-æ¨¡å—åˆ’åˆ†"><a href="#ğŸ“¦-æ¨¡å—åˆ’åˆ†" class="headerlink" title="ğŸ“¦ æ¨¡å—åˆ’åˆ†"></a>ğŸ“¦ æ¨¡å—åˆ’åˆ†</h5><table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th><th>å…³é”®æŠ€æœ¯ç‚¹</th></tr></thead><tbody><tr><td><strong>åŸºç¡€å·¥å…·</strong></td><td>æ•°å­¦è¿ç®—æ”¯æŒ</td><td>Softmax, LayerNorm, éšæœºåˆå§‹åŒ–</td></tr><tr><td><strong>ä½ç½®ç¼–ç </strong></td><td>æ³¨å…¥åºåˆ—ä½ç½®ä¿¡æ¯</td><td>æ­£å¼¦&#x2F;ä½™å¼¦å‡½æ•°ç¼–ç </td></tr><tr><td><strong>è‡ªæ³¨æ„åŠ›</strong></td><td>æ•æ‰åºåˆ—å†…éƒ¨å…³ç³»</td><td>Q&#x2F;K&#x2F;Vè®¡ç®—, ç¼©æ”¾ç‚¹ç§¯, Softmax</td></tr><tr><td><strong>å‰é¦ˆç½‘ç»œ</strong></td><td>éçº¿æ€§ç‰¹å¾å˜æ¢</td><td>ä¸¤å±‚MLP + ReLUæ¿€æ´»</td></tr><tr><td><strong>Transformerå—</strong></td><td>æ ¸å¿ƒè®¡ç®—å•å…ƒ</td><td>æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</td></tr><tr><td><strong>å­—ç¬¦æ¨¡å‹</strong></td><td>å®Œæ•´è¯­è¨€æ¨¡å‹</td><td>åµŒå…¥å±‚ + ä½ç½®ç¼–ç  + Transformer + è¾“å‡ºå±‚</td></tr><tr><td><strong>è®­ç»ƒç³»ç»Ÿ</strong></td><td>å‚æ•°ä¼˜åŒ–</td><td>ç®€åŒ–ç‰ˆAdam + äº¤å‰ç†µæŸå¤±</td></tr><tr><td><strong>åºåˆ—åŒ–</strong></td><td>æ¨¡å‹æŒä¹…åŒ–</td><td>gobäºŒè¿›åˆ¶ç¼–ç </td></tr><tr><td><strong>äº¤äº’æ¥å£</strong></td><td>ç”¨æˆ·ä½“éªŒ</td><td>æ¸©åº¦é‡‡æ · + è½®ç›˜èµŒé€‰æ‹©</td></tr></tbody></table><h4 id="ä¸‰ã€æ ¸å¿ƒç»„ä»¶è¯¦è§£ï¼ˆå«å®ç°é€»è¾‘ï¼‰"><a href="#ä¸‰ã€æ ¸å¿ƒç»„ä»¶è¯¦è§£ï¼ˆå«å®ç°é€»è¾‘ï¼‰" class="headerlink" title="ä¸‰ã€æ ¸å¿ƒç»„ä»¶è¯¦è§£ï¼ˆå«å®ç°é€»è¾‘ï¼‰"></a>ä¸‰ã€æ ¸å¿ƒç»„ä»¶è¯¦è§£ï¼ˆå«å®ç°é€»è¾‘ï¼‰</h4><h5 id="ğŸ”‘-1-åŸºç¡€å·¥å…·å‡½æ•°"><a href="#ğŸ”‘-1-åŸºç¡€å·¥å…·å‡½æ•°" class="headerlink" title="ğŸ”‘ 1. åŸºç¡€å·¥å…·å‡½æ•°"></a>ğŸ”‘ 1. åŸºç¡€å·¥å…·å‡½æ•°</h5><h6 id="è®¾è®¡ç›®æ ‡"><a href="#è®¾è®¡ç›®æ ‡" class="headerlink" title="è®¾è®¡ç›®æ ‡"></a>è®¾è®¡ç›®æ ‡</h6><ul><li>æä¾›æ•°å€¼è®¡ç®—åŸºç¡€èƒ½åŠ›</li><li>ä¿è¯æ•°å€¼ç¨³å®šæ€§ï¼ˆé˜²æ­¢expæº¢å‡ºï¼‰</li></ul><h6 id="å®ç°é€»è¾‘"><a href="#å®ç°é€»è¾‘" class="headerlink" title="å®ç°é€»è¾‘"></a>å®ç°é€»è¾‘</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Softmax: å°† logits è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒ</span></span><br><span class="line"><span class="comment">// å…³é”®æŠ€å·§: å…ˆå‡å»æœ€å¤§å€¼ (x - max(x)) é˜²æ­¢æŒ‡æ•°æº¢å‡º</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">softmax</span><span class="params">(x *mat.VecDense)</span></span> *mat.VecDense &#123;</span><br><span class="line">    maxVal := findMax(x)          <span class="comment">// æ­¥éª¤1: æ‰¾æœ€å¤§å€¼</span></span><br><span class="line">    expVals := computeExp(x, maxVal) <span class="comment">// æ­¥éª¤2: è®¡ç®— e^(x_i - max)</span></span><br><span class="line">    <span class="keyword">return</span> normalize(expVals)     <span class="comment">// æ­¥éª¤3: å½’ä¸€åŒ–ä¸ºæ¦‚ç‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LayerNorm: å¯¹å•ä¸ªæ ·æœ¬å½’ä¸€åŒ–ï¼ˆä¸BatchNormä¸åŒï¼‰</span></span><br><span class="line"><span class="comment">// å…¬å¼: (x - mean) / sqrt(variance + eps)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">layerNorm</span><span class="params">(x *mat.VecDense, eps <span class="type">float64</span>)</span></span> *mat.VecDense &#123;</span><br><span class="line">    mean := computeMean(x)        <span class="comment">// æ­¥éª¤1: è®¡ç®—å‡å€¼</span></span><br><span class="line">    variance := computeVariance(x, mean) <span class="comment">// æ­¥éª¤2: è®¡ç®—æ–¹å·®</span></span><br><span class="line">    <span class="keyword">return</span> normalizeByStats(x, mean, variance, eps) <span class="comment">// æ­¥éª¤3: å½’ä¸€åŒ–</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…ç†è§£è¦ç‚¹"><a href="#åˆå­¦è€…ç†è§£è¦ç‚¹" class="headerlink" title="åˆå­¦è€…ç†è§£è¦ç‚¹"></a>åˆå­¦è€…ç†è§£è¦ç‚¹</h6><p>âœ… Softmaxä¸æ˜¯ç®€å•çš„æŒ‡æ•°å½’ä¸€åŒ–ï¼Œ<strong>å¿…é¡»å…ˆå‡æœ€å¤§å€¼</strong>ä¿è¯æ•°å€¼ç¨³å®š<br>âœ… LayerNormæ˜¯å¯¹<strong>å•ä¸ªæ ·æœ¬</strong>çš„æ‰€æœ‰ç‰¹å¾å½’ä¸€åŒ–ï¼ˆä¸æ˜¯æ•´ä¸ªbatchï¼‰<br>âœ… eps (1e-5) æ˜¯é˜²æ­¢é™¤é›¶çš„å°å¸¸æ•°</p><hr><h5 id="ğŸ“-2-ä½ç½®ç¼–ç -PositionalEncoding"><a href="#ğŸ“-2-ä½ç½®ç¼–ç -PositionalEncoding" class="headerlink" title="ğŸ“ 2. ä½ç½®ç¼–ç  (PositionalEncoding)"></a>ğŸ“ 2. ä½ç½®ç¼–ç  (PositionalEncoding)</h5><h6 id="è®¾è®¡ç›®æ ‡-1"><a href="#è®¾è®¡ç›®æ ‡-1" class="headerlink" title="è®¾è®¡ç›®æ ‡"></a>è®¾è®¡ç›®æ ‡</h6><ul><li>ä¸ºTransformeræ³¨å…¥åºåˆ—é¡ºåºä¿¡æ¯ï¼ˆåŸå§‹Transformeræ— ä½ç½®æ¦‚å¿µï¼‰</li><li>ä½¿ç”¨ç¡®å®šæ€§å‡½æ•°é¿å…å¯å­¦ä¹ å‚æ•°</li></ul><h6 id="å®ç°é€»è¾‘-1"><a href="#å®ç°é€»è¾‘-1" class="headerlink" title="å®ç°é€»è¾‘"></a>å®ç°é€»è¾‘</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ç½®ç¼–ç å…¬å¼ (æ¥è‡ªåŸå§‹è®ºæ–‡):</span></span><br><span class="line"><span class="comment">// PE(pos, 2i)   = sin(pos / 10000^(2i/d_model))</span></span><br><span class="line"><span class="comment">// PE(pos, 2i+1) = cos(pos / 10000^(2i/d_model))</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPositionalEncoding</span><span class="params">(dModel, maxLen <span class="type">int</span>)</span></span> *PositionalEncoding &#123;</span><br><span class="line">    pe := æ–°å»ºçŸ©é˜µ(maxLen, dModel)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> pos := <span class="number">0</span>; pos &lt; maxLen; pos++ &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; dModel; i += <span class="number">2</span> &#123;</span><br><span class="line">            <span class="comment">// è®¡ç®—æ³¢é•¿: 10000^(2i/d_model)</span></span><br><span class="line">            wavelength := math.Pow(<span class="number">10000</span>, <span class="type">float64</span>(<span class="number">2</span>*i)/<span class="type">float64</span>(dModel))</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¶æ•°ç»´åº¦: æ­£å¼¦å‡½æ•°</span></span><br><span class="line">            pe.Set(pos, i, math.Sin(<span class="type">float64</span>(pos) / wavelength))</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¥‡æ•°ç»´åº¦: ä½™å¼¦å‡½æ•°</span></span><br><span class="line">            <span class="keyword">if</span> i+<span class="number">1</span> &lt; dModel &#123;</span><br><span class="line">                pe.Set(pos, i+<span class="number">1</span>, math.Cos(<span class="type">float64</span>(pos) / wavelength))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;PositionalEncoding&#123;pe&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…ç†è§£è¦ç‚¹-1"><a href="#åˆå­¦è€…ç†è§£è¦ç‚¹-1" class="headerlink" title="åˆå­¦è€…ç†è§£è¦ç‚¹"></a>åˆå­¦è€…ç†è§£è¦ç‚¹</h6><p>âœ… ä¸ºä»€ä¹ˆéœ€è¦ä½ç½®ç¼–ç ï¼Ÿ<strong>Transformeræœ¬èº«ä¸çŸ¥é“â€é¡ºåºâ€<strong>ï¼Œæ‰€æœ‰ä½ç½®å¹³ç­‰å¤„ç†<br>âœ… ä¸ºä»€ä¹ˆç”¨sin&#x2F;cosï¼Ÿ</strong>ä¸åŒé¢‘ç‡çš„æ³¢å¯ç¼–ç ä¸åŒå°ºåº¦çš„ä½ç½®å…³ç³»</strong><br>âœ… ä¸ºä»€ä¹ˆ10000ï¼Ÿ<strong>ç»éªŒå€¼ï¼Œç¡®ä¿ä½ç½®ç¼–ç åœ¨åˆç†èŒƒå›´å†…å˜åŒ–</strong></p><hr><h5 id="ğŸ‘ï¸-3-è‡ªæ³¨æ„åŠ›æœºåˆ¶-SelfAttention"><a href="#ğŸ‘ï¸-3-è‡ªæ³¨æ„åŠ›æœºåˆ¶-SelfAttention" class="headerlink" title="ğŸ‘ï¸ 3. è‡ªæ³¨æ„åŠ›æœºåˆ¶ (SelfAttention)"></a>ğŸ‘ï¸ 3. è‡ªæ³¨æ„åŠ›æœºåˆ¶ (SelfAttention)</h5><h6 id="è®¾è®¡ç›®æ ‡-2"><a href="#è®¾è®¡ç›®æ ‡-2" class="headerlink" title="è®¾è®¡ç›®æ ‡"></a>è®¾è®¡ç›®æ ‡</h6><ul><li>è®©åºåˆ—ä¸­æ¯ä¸ªä½ç½®èƒ½â€å…³æ³¨â€å…¶ä»–æ‰€æœ‰ä½ç½®</li><li>é€šè¿‡Q&#x2F;K&#x2F;Væœºåˆ¶åŠ¨æ€è®¡ç®—æ³¨æ„åŠ›æƒé‡</li></ul><h6 id="å®ç°é€»è¾‘ï¼ˆ5æ­¥æµç¨‹ï¼‰"><a href="#å®ç°é€»è¾‘ï¼ˆ5æ­¥æµç¨‹ï¼‰" class="headerlink" title="å®ç°é€»è¾‘ï¼ˆ5æ­¥æµç¨‹ï¼‰"></a>å®ç°é€»è¾‘ï¼ˆ5æ­¥æµç¨‹ï¼‰</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥: X [seq_len, d_model]</span></span><br><span class="line"><span class="comment">// è¾“å‡º: åŠ æƒèåˆåçš„è¡¨ç¤º [seq_len, d_model]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(sa *SelfAttention)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">    <span class="comment">// æ­¥éª¤1: è®¡ç®—Q/K/V (çº¿æ€§å˜æ¢)</span></span><br><span class="line">    Q = X * Wq  <span class="comment">// [seq_len, d_model]</span></span><br><span class="line">    K = X * Wk  <span class="comment">// [seq_len, d_model]</span></span><br><span class="line">    V = X * Wv  <span class="comment">// [seq_len, d_model]</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¥éª¤2: è®¡ç®—æ³¨æ„åŠ›åˆ†æ•° (ç¼©æ”¾ç‚¹ç§¯)</span></span><br><span class="line">    scores = Q * K^T / sqrt(d_k)  <span class="comment">// [seq_len, seq_len]</span></span><br><span class="line">    <span class="comment">// ä¸ºä»€ä¹ˆç¼©æ”¾ï¼Ÿé˜²æ­¢å¤§d_kå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¥éª¤3: è¡Œçº§Softmax (å¾—åˆ°æ³¨æ„åŠ›æƒé‡)</span></span><br><span class="line">    attn_weights = softmax(scores)  <span class="comment">// æ¯è¡Œå’Œä¸º1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¥éª¤4: åŠ æƒæ±‚å’Œ</span></span><br><span class="line">    output = attn_weights * V  <span class="comment">// [seq_len, d_model]</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­¥éª¤5: è¾“å‡ºæŠ•å½±</span></span><br><span class="line">    <span class="keyword">return</span> output * Wo</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…ç†è§£è¦ç‚¹-2"><a href="#åˆå­¦è€…ç†è§£è¦ç‚¹-2" class="headerlink" title="åˆå­¦è€…ç†è§£è¦ç‚¹"></a>åˆå­¦è€…ç†è§£è¦ç‚¹</h6><p>âœ… <strong>Q (Query)</strong>: â€œæˆ‘åœ¨æ‰¾ä»€ä¹ˆâ€<br>âœ… <strong>K (Key)</strong>: â€œæˆ‘æœ‰ä»€ä¹ˆç‰¹å¾â€<br>âœ… <strong>V (Value)</strong>: â€œæˆ‘çš„å®é™…å†…å®¹æ˜¯ä»€ä¹ˆâ€<br>âœ… <strong>ç¼©æ”¾å› å­ 1&#x2F;âˆšd_k</strong>: é˜²æ­¢ç‚¹ç§¯è¿‡å¤§å¯¼è‡´Softmaxæ¢¯åº¦æ¶ˆå¤±<br>âœ… <strong>å•å¤´ç®€åŒ–</strong>: å®Œæ•´Transformeræœ‰å¤šå¤´ï¼Œæœ¬å®ç°ç”¨å•å¤´ä¿æŒç®€æ´</p><hr><h5 id="âš™ï¸-4-å‰é¦ˆç½‘ç»œ-FeedForward"><a href="#âš™ï¸-4-å‰é¦ˆç½‘ç»œ-FeedForward" class="headerlink" title="âš™ï¸ 4. å‰é¦ˆç½‘ç»œ (FeedForward)"></a>âš™ï¸ 4. å‰é¦ˆç½‘ç»œ (FeedForward)</h5><h6 id="è®¾è®¡ç›®æ ‡-3"><a href="#è®¾è®¡ç›®æ ‡-3" class="headerlink" title="è®¾è®¡ç›®æ ‡"></a>è®¾è®¡ç›®æ ‡</h6><ul><li>ä¸ºæ¯ä¸ªä½ç½®ç‹¬ç«‹åº”ç”¨éçº¿æ€§å˜æ¢</li><li>å¢åŠ æ¨¡å‹è¡¨è¾¾èƒ½åŠ›</li></ul><h6 id="å®ç°é€»è¾‘-2"><a href="#å®ç°é€»è¾‘-2" class="headerlink" title="å®ç°é€»è¾‘"></a>å®ç°é€»è¾‘</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤å±‚å…¨è¿æ¥ç½‘ç»œ + ReLUæ¿€æ´»</span></span><br><span class="line"><span class="comment">// å…¬å¼: FFN(x) = max(0, x*W1 + b1) * W2 + b2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(ff *FeedForward)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€å±‚: çº¿æ€§å˜æ¢ + ReLU</span></span><br><span class="line">    hidden = ReLU(x * W1 + b1)  <span class="comment">// [seq_len, d_ff]</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç¬¬äºŒå±‚: çº¿æ€§å˜æ¢ (æ— æ¿€æ´»)</span></span><br><span class="line">    output = hidden * W2 + b2   <span class="comment">// [seq_len, d_model]</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="ä½œä¸ºåˆå­¦è€…ç†è§£è¦ç‚¹"><a href="#ä½œä¸ºåˆå­¦è€…ç†è§£è¦ç‚¹" class="headerlink" title="ä½œä¸ºåˆå­¦è€…ç†è§£è¦ç‚¹"></a>ä½œä¸ºåˆå­¦è€…ç†è§£è¦ç‚¹</h6><p>âœ… <strong>ä¸ºä»€ä¹ˆéœ€è¦FFNï¼Ÿ</strong> è‡ªæ³¨æ„åŠ›åªåšåŠ æƒå¹³å‡ï¼Œéœ€è¦éçº¿æ€§å˜æ¢å¢å¼ºè¡¨è¾¾åŠ›<br>âœ… <strong>ä¸ºä»€ä¹ˆä¸­é—´å±‚æ›´å¤§ï¼Ÿ</strong> (d_ff &#x3D; 4*d_model) æä¾›â€ä¿¡æ¯ç“¶é¢ˆâ€åçš„æ‰©å±•ç©ºé—´<br>âœ… <strong>ä¸ºä»€ä¹ˆç¬¬äºŒå±‚æ— æ¿€æ´»ï¼Ÿ</strong> ä¿æŒè¾“å‡ºå¯ä¸å…¶ä»–å±‚æ®‹å·®è¿æ¥</p><hr><h5 id="ğŸ”—-5-Transformerå—-TransformerBlock"><a href="#ğŸ”—-5-Transformerå—-TransformerBlock" class="headerlink" title="ğŸ”— 5. Transformerå— (TransformerBlock)"></a>ğŸ”— 5. Transformerå— (TransformerBlock)</h5><h6 id="è®¾è®¡ç›®æ ‡-4"><a href="#è®¾è®¡ç›®æ ‡-4" class="headerlink" title="è®¾è®¡ç›®æ ‡"></a>è®¾è®¡ç›®æ ‡</h6><ul><li>ç»„åˆè‡ªæ³¨æ„åŠ›å’Œå‰é¦ˆç½‘ç»œ</li><li>é€šè¿‡æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–ç¨³å®šè®­ç»ƒ</li></ul><h6 id="å®ç°é€»è¾‘ï¼ˆå¸¦æ®‹å·®è¿æ¥ï¼‰"><a href="#å®ç°é€»è¾‘ï¼ˆå¸¦æ®‹å·®è¿æ¥ï¼‰" class="headerlink" title="å®ç°é€»è¾‘ï¼ˆå¸¦æ®‹å·®è¿æ¥ï¼‰"></a>å®ç°é€»è¾‘ï¼ˆå¸¦æ®‹å·®è¿æ¥ï¼‰</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(tb *TransformerBlock)</span></span> Forward(x *mat.Dense) *mat.Dense &#123;</span><br><span class="line">    <span class="comment">// å­å±‚1: è‡ªæ³¨æ„åŠ› + æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</span></span><br><span class="line">    attn_out = SelfAttention(x)</span><br><span class="line">    x1 = LayerNorm(x + attn_out)  <span class="comment">// æ®‹å·®: x + attn(x)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å­å±‚2: å‰é¦ˆç½‘ç»œ + æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–</span></span><br><span class="line">    ff_out = FeedForward(x1)</span><br><span class="line">    x2 = LayerNorm(x1 + ff_out)   <span class="comment">// æ®‹å·®: x1 + ff(x1)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> x2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…ç†è§£è¦ç‚¹-3"><a href="#åˆå­¦è€…ç†è§£è¦ç‚¹-3" class="headerlink" title="åˆå­¦è€…ç†è§£è¦ç‚¹"></a>åˆå­¦è€…ç†è§£è¦ç‚¹</h6><p>âœ… <strong>æ®‹å·®è¿æ¥ (Residual Connection)</strong>: <code>output = input + sublayer(input)</code></p><ul><li>è§£å†³æ·±å±‚ç½‘ç»œæ¢¯åº¦æ¶ˆå¤±é—®é¢˜</li><li>å…è®¸æ¢¯åº¦ç›´æ¥å›ä¼ åˆ°æµ…å±‚<br>âœ… <strong>å±‚å½’ä¸€åŒ–ä½ç½®</strong>: <strong>å…ˆæ®‹å·®åå½’ä¸€åŒ–</strong> (Post-LN) vs <strong>å…ˆå½’ä¸€åŒ–åæ®‹å·®</strong> (Pre-LN)</li><li>æœ¬å®ç°é‡‡ç”¨Post-LNï¼ˆåŸå§‹Transformerï¼‰<br>âœ… <strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªå­å±‚ï¼Ÿ</strong> è‡ªæ³¨æ„åŠ›æ•è·å…¨å±€å…³ç³»ï¼ŒFFNåšä½ç½®çº§éçº¿æ€§å˜æ¢</li></ul><hr><h5 id="ğŸ§ -6-å­—ç¬¦çº§Transformeræ¨¡å‹-CharTransformer"><a href="#ğŸ§ -6-å­—ç¬¦çº§Transformeræ¨¡å‹-CharTransformer" class="headerlink" title="ğŸ§  6. å­—ç¬¦çº§Transformeræ¨¡å‹ (CharTransformer)"></a>ğŸ§  6. å­—ç¬¦çº§Transformeræ¨¡å‹ (CharTransformer)</h5><h6 id="æ•´ä½“æ•°æ®æµ"><a href="#æ•´ä½“æ•°æ®æµ" class="headerlink" title="æ•´ä½“æ•°æ®æµ"></a>æ•´ä½“æ•°æ®æµ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥æ–‡æœ¬ &quot;To be&quot; </span><br><span class="line">  â†“</span><br><span class="line">å­—ç¬¦ç¼–ç  [84, 111, 32, 98, 101]  // ASCIIå€¼</span><br><span class="line">  â†“</span><br><span class="line">åµŒå…¥æŸ¥æ‰¾ â†’ [å‘é‡1, å‘é‡2, ...]  // [5, 32] çŸ©é˜µ</span><br><span class="line">  â†“</span><br><span class="line">+ ä½ç½®ç¼–ç  â†’ [å¢å¼ºä½ç½®ä¿¡æ¯çš„å‘é‡]</span><br><span class="line">  â†“</span><br><span class="line">Transformerå— â†’ [ä¸Šä¸‹æ–‡æ„ŸçŸ¥è¡¨ç¤º]</span><br><span class="line">  â†“</span><br><span class="line">å–æœ€åä½ç½® â†’ [32ç»´å‘é‡]</span><br><span class="line">  â†“</span><br><span class="line">è¾“å‡ºå±‚æŠ•å½± â†’ [67ç»´logits]  // 67ä¸ªå­—ç¬¦çš„åˆ†æ•°</span><br><span class="line">  â†“</span><br><span class="line">Softmax â†’ [æ¦‚ç‡åˆ†å¸ƒ]</span><br><span class="line">  â†“</span><br><span class="line">é‡‡æ · â†’ ä¸‹ä¸€ä¸ªå­—ç¬¦ &#x27; &#x27;</span><br></pre></td></tr></table></figure><h6 id="å…³é”®è®¾è®¡å†³ç­–"><a href="#å…³é”®è®¾è®¡å†³ç­–" class="headerlink" title="å…³é”®è®¾è®¡å†³ç­–"></a>å…³é”®è®¾è®¡å†³ç­–</h6><table><thead><tr><th>å†³ç­–</th><th>åŸå› </th><th>æ›¿ä»£æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>å­—ç¬¦çº§å»ºæ¨¡</strong></td><td>é¿å…åˆ†è¯å¤æ‚åº¦ï¼Œé€‚åˆæ•™å­¦</td><td>è¯çº§&#x2F;å­è¯çº§ï¼ˆéœ€BPEç­‰ï¼‰</td></tr><tr><td><strong>å•å±‚Transformer</strong></td><td>ä¿æŒä»£ç ç®€æ´</td><td>å¤šå±‚å †å ï¼ˆå¢åŠ 3-5å€ä»£ç ï¼‰</td></tr><tr><td><strong>d_model&#x3D;32</strong></td><td>CPUå‹å¥½ï¼Œå¿«é€ŸéªŒè¯</td><td>æ›´å¤§ç»´åº¦ï¼ˆ128&#x2F;256ï¼‰æå‡æ•ˆæœ</td></tr><tr><td><strong>æœ€å¤§åºåˆ—é•¿32</strong></td><td>å¹³è¡¡ä¸Šä¸‹æ–‡ä¸è®¡ç®—é‡</td><td>æ›´é•¿åºåˆ—ï¼ˆéœ€æ›´å¤šå†…å­˜ï¼‰</td></tr></tbody></table><hr><h5 id="ğŸ“‰-7-è®­ç»ƒç³»ç»Ÿï¼ˆç®€åŒ–ç‰ˆï¼‰"><a href="#ğŸ“‰-7-è®­ç»ƒç³»ç»Ÿï¼ˆç®€åŒ–ç‰ˆï¼‰" class="headerlink" title="ğŸ“‰ 7. è®­ç»ƒç³»ç»Ÿï¼ˆç®€åŒ–ç‰ˆï¼‰"></a>ğŸ“‰ 7. è®­ç»ƒç³»ç»Ÿï¼ˆç®€åŒ–ç‰ˆï¼‰</h5><h4 id="ä¸ºä»€ä¹ˆç®€åŒ–è®­ç»ƒï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç®€åŒ–è®­ç»ƒï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç®€åŒ–è®­ç»ƒï¼Ÿ"></a>ä¸ºä»€ä¹ˆç®€åŒ–è®­ç»ƒï¼Ÿ</h4><p>å®Œæ•´åå‘ä¼ æ’­éœ€ä¸º<strong>æ¯ä¸ªæ“ä½œå®ç°æ¢¯åº¦è®¡ç®—</strong>ï¼Œä»£ç é‡å°†å¢åŠ 3-5å€ï¼Œä¸¥é‡å½±å“å¯è¯»æ€§ã€‚<br>æœ¬å®ç°èšç„¦<strong>å‰å‘ä¼ æ’­å®Œæ•´æ€§</strong> + <strong>è®­ç»ƒæµç¨‹æ¼”ç¤º</strong>ï¼Œé€‚åˆåˆå­¦è€…ç†è§£æ•´ä½“æµç¨‹ã€‚</p><h6 id="ç®€åŒ–è®­ç»ƒç­–ç•¥"><a href="#ç®€åŒ–è®­ç»ƒç­–ç•¥" class="headerlink" title="ç®€åŒ–è®­ç»ƒç­–ç•¥"></a>ç®€åŒ–è®­ç»ƒç­–ç•¥</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»…æ›´æ–°è¾“å‡ºå±‚æƒé‡ï¼ˆå®Œæ•´è®­ç»ƒéœ€åå‘ä¼ æ’­åˆ°æ‰€æœ‰å±‚ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> æ¯ä¸ªè®­ç»ƒæ ·æœ¬ &#123;</span><br><span class="line">    <span class="comment">// 1. å‰å‘ä¼ æ’­å¾—åˆ°logits</span></span><br><span class="line">    logits = model.Forward(input)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2. è®¡ç®—æŸå¤±å’Œæ¢¯åº¦</span></span><br><span class="line">    loss, grad = crossEntropyLoss(logits, target)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. ä»…æ›´æ–°è¾“å‡ºå±‚ï¼ˆç®€åŒ–ç‰ˆï¼‰</span></span><br><span class="line">    model.OutputLayer -= learning_rate * grad</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å®Œæ•´ç‰ˆåº”: </span></span><br><span class="line">    <span class="comment">//   - è®¡ç®—Transformerå—æ¢¯åº¦</span></span><br><span class="line">    <span class="comment">//   - è®¡ç®—è‡ªæ³¨æ„åŠ›æ¢¯åº¦</span></span><br><span class="line">    <span class="comment">//   - è®¡ç®—FFNæ¢¯åº¦</span></span><br><span class="line">    <span class="comment">//   - é€å±‚åå‘ä¼ æ’­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…æ­£ç¡®ç†è§£"><a href="#åˆå­¦è€…æ­£ç¡®ç†è§£" class="headerlink" title="åˆå­¦è€…æ­£ç¡®ç†è§£"></a>åˆå­¦è€…æ­£ç¡®ç†è§£</h6><p>âš ï¸ <strong>è¿™ä¸æ˜¯ç”Ÿäº§çº§è®­ç»ƒ</strong>ï¼Œä½†å®Œæ•´å±•ç¤ºäº†ï¼š</p><ul><li>æ•°æ®å‡†å¤‡ï¼ˆæ»‘åŠ¨çª—å£ï¼‰</li><li>å‰å‘ä¼ æ’­</li><li>æŸå¤±è®¡ç®—</li><li>å‚æ•°æ›´æ–°æµç¨‹</li><li>æ¨¡å‹ä¿å­˜&#x2F;åŠ è½½</li></ul><p>âœ… <strong>å­¦ä¹ é‡ç‚¹</strong>ï¼šç†è§£è®­ç»ƒå¾ªç¯ç»“æ„ï¼Œè€Œéæ¢¯åº¦è®¡ç®—ç»†èŠ‚<br>ğŸ’¡ <strong>è¿›é˜¶æ–¹å‘</strong>ï¼šå­¦ä¹ è‡ªåŠ¨å¾®åˆ†åº“ï¼ˆGorgoniaï¼‰å®ç°å®Œæ•´åå‘ä¼ æ’­</p><hr><h5 id="ğŸ’¾-8-æ¨¡å‹åºåˆ—åŒ–-gobç¼–ç "><a href="#ğŸ’¾-8-æ¨¡å‹åºåˆ—åŒ–-gobç¼–ç " class="headerlink" title="ğŸ’¾ 8. æ¨¡å‹åºåˆ—åŒ– (gobç¼–ç )"></a>ğŸ’¾ 8. æ¨¡å‹åºåˆ—åŒ– (gobç¼–ç )</h5><h4 id="è®¾è®¡é€‰æ‹©"><a href="#è®¾è®¡é€‰æ‹©" class="headerlink" title="è®¾è®¡é€‰æ‹©"></a>è®¾è®¡é€‰æ‹©</h4><table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æœ¬é¡¹ç›®é€‰æ‹©</th></tr></thead><tbody><tr><td><strong>gob</strong></td><td>GoåŸç”Ÿï¼Œç®€å•é«˜æ•ˆ</td><td>ä»…Goå¯ç”¨</td><td>âœ… é€‚åˆæ•™å­¦</td></tr><tr><td>JSON</td><td>äººç±»å¯è¯»</td><td>æµ®ç‚¹ç²¾åº¦æŸå¤±</td><td>âŒ</td></tr><tr><td>Protocol Buffers</td><td>è·¨è¯­è¨€</td><td>éœ€è¦schemaå®šä¹‰</td><td>âŒ</td></tr></tbody></table><h6 id="å…³é”®å®ç°ç»†èŠ‚"><a href="#å…³é”®å®ç°ç»†èŠ‚" class="headerlink" title="å…³é”®å®ç°ç»†èŠ‚"></a>å…³é”®å®ç°ç»†èŠ‚</h6><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¿…é¡»å¯¼å‡ºæ‰€æœ‰å­—æ®µï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰æ‰èƒ½è¢«gobåºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">type</span> CharTransformer <span class="keyword">struct</span> &#123;</span><br><span class="line">    VocabSize   <span class="type">int</span>      <span class="comment">// âœ… å¯¼å‡º</span></span><br><span class="line">    dModel      <span class="type">int</span>      <span class="comment">// âŒ ä¸å¯¼å‡º â†’ åºåˆ—åŒ–å¤±è´¥ï¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="åˆå­¦è€…é™·é˜±"><a href="#åˆå­¦è€…é™·é˜±" class="headerlink" title="åˆå­¦è€…é™·é˜±"></a>åˆå­¦è€…é™·é˜±</h6><p>ğŸ”´ <strong>å¸¸è§é”™è¯¯</strong>ï¼šç»“æ„ä½“å­—æ®µå°å†™ â†’ gobæ— æ³•åºåˆ—åŒ– â†’ æ¨¡å‹åŠ è½½å¤±è´¥<br>âœ… <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ‰€æœ‰éœ€è¦ä¿å­˜çš„å­—æ®µå¿…é¡»<strong>é¦–å­—æ¯å¤§å†™</strong></p><hr><h4 id="å››ã€è®­ç»ƒä¸æ¨ç†æµç¨‹"><a href="#å››ã€è®­ç»ƒä¸æ¨ç†æµç¨‹" class="headerlink" title="å››ã€è®­ç»ƒä¸æ¨ç†æµç¨‹"></a>å››ã€è®­ç»ƒä¸æ¨ç†æµç¨‹</h4><h5 id="ğŸ”„-å®Œæ•´è®­ç»ƒæµç¨‹"><a href="#ğŸ”„-å®Œæ•´è®­ç»ƒæµç¨‹" class="headerlink" title="ğŸ”„ å®Œæ•´è®­ç»ƒæµç¨‹"></a>ğŸ”„ å®Œæ•´è®­ç»ƒæµç¨‹</h5><pre class="mermaid">graph TD
    A[å‡†å¤‡è®­ç»ƒæ•°æ®] --> B[æ»‘åŠ¨çª—å£åˆ‡åˆ†]
    B --> C{éå†æ¯ä¸ªæ ·æœ¬}
    C --> D[å­—ç¬¦ç¼–ç  + åµŒå…¥]
    D --> E[ä½ç½®ç¼–ç ]
    E --> F[Transformerå‰å‘ä¼ æ’­]
    F --> G[è®¡ç®—æŸå¤±]
    G --> H[ç®€åŒ–æ¢¯åº¦æ›´æ–°]
    H --> I{æ˜¯å¦å®Œæˆepoch}
    I -- å¦ --> C
    I -- æ˜¯ --> J[ä¿å­˜æ¨¡å‹]</pre><h5 id="ğŸ’¬-äº¤äº’ç”Ÿæˆæµç¨‹"><a href="#ğŸ’¬-äº¤äº’ç”Ÿæˆæµç¨‹" class="headerlink" title="ğŸ’¬ äº¤äº’ç”Ÿæˆæµç¨‹"></a>ğŸ’¬ äº¤äº’ç”Ÿæˆæµç¨‹</h5><pre class="mermaid">graph LR
    A[ç”¨æˆ·è¾“å…¥æç¤º] --> B[ç¼–ç ä¸ºåµŒå…¥]
    B --> C[Transformeræ¨ç†]
    C --> D[è¾“å‡ºæ¦‚ç‡åˆ†å¸ƒ]
    D --> E[æ¸©åº¦é‡‡æ ·]
    E --> F[é€‰æ‹©ä¸‹ä¸€ä¸ªå­—ç¬¦]
    F --> G{è¾¾åˆ°é•¿åº¦?}
    G -- å¦ --> B
    G -- æ˜¯ --> H[è¿”å›ç”Ÿæˆæ–‡æœ¬]</pre><h6 id="æ¸©åº¦é‡‡æ ·åŸç†"><a href="#æ¸©åº¦é‡‡æ ·åŸç†" class="headerlink" title="æ¸©åº¦é‡‡æ ·åŸç†"></a>æ¸©åº¦é‡‡æ ·åŸç†</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">åŸå§‹æ¦‚ç‡: [0.7, 0.2, 0.1]  // &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;</span><br><span class="line"></span><br><span class="line">æ¸©åº¦=1.0: ä¿æŒåŸåˆ†å¸ƒ â†’ å€¾å‘é«˜æ¦‚ç‡å­—ç¬¦</span><br><span class="line">æ¸©åº¦=0.5: [0.85, 0.12, 0.03] â†’ æ›´ç¡®å®šæ€§ï¼Œé‡å¤æ€§é«˜</span><br><span class="line">æ¸©åº¦=2.0: [0.55, 0.28, 0.17] â†’ æ›´éšæœºï¼Œåˆ›é€ æ€§é«˜</span><br><span class="line"></span><br><span class="line">å…¬å¼: p_i&#x27; = p_i^(1/temperature) / sum(p_j^(1/temperature))</span><br></pre></td></tr></table></figure><h4 id="äº”ã€æ•ˆæœè¯„ä¼°ä¸å±€é™æ€§"><a href="#äº”ã€æ•ˆæœè¯„ä¼°ä¸å±€é™æ€§" class="headerlink" title="äº”ã€æ•ˆæœè¯„ä¼°ä¸å±€é™æ€§"></a>äº”ã€æ•ˆæœè¯„ä¼°ä¸å±€é™æ€§</h4><h5 id="âœ…-é¢„æœŸæ•ˆæœï¼ˆè®­ç»ƒ100è½®åï¼‰"><a href="#âœ…-é¢„æœŸæ•ˆæœï¼ˆè®­ç»ƒ100è½®åï¼‰" class="headerlink" title="âœ… é¢„æœŸæ•ˆæœï¼ˆè®­ç»ƒ100è½®åï¼‰"></a>âœ… é¢„æœŸæ•ˆæœï¼ˆè®­ç»ƒ100è½®åï¼‰</h5><table><thead><tr><th>æç¤ºæ–‡æœ¬</th><th>ç”Ÿæˆç¤ºä¾‹</th><th>è´¨é‡è¯„ä¼°</th></tr></thead><tbody><tr><td><code>&quot;To be&quot;</code></td><td><code>&quot;To be or not to be that is the question of the&quot;</code></td><td>â˜…â˜…â˜…â˜†â˜† åŸºæœ¬è¯­æ³•æ­£ç¡®ï¼Œæœ‰èå£«æ¯”äºšé£æ ¼</td></tr><tr><td><code>&quot;The slings&quot;</code></td><td><code>&quot;The slings and arrows of outrageous fortune or to&quot;</code></td><td>â˜…â˜…â˜…â˜†â˜† èƒ½å»¶ç»­è®­ç»ƒæ•°æ®ä¸­çš„çŸ­è¯­</td></tr><tr><td><code>&quot;Hello&quot;</code></td><td><code>&quot;Hello world to be or not to be that is the&quot;</code></td><td>â˜…â˜…â˜†â˜†â˜† æœªè§æ•°æ®ï¼Œæ··åˆè®­ç»ƒæ¨¡å¼</td></tr></tbody></table><h5 id="âš ï¸-å±€é™æ€§è¯´æ˜"><a href="#âš ï¸-å±€é™æ€§è¯´æ˜" class="headerlink" title="âš ï¸ å±€é™æ€§è¯´æ˜"></a>âš ï¸ å±€é™æ€§è¯´æ˜</h5><table><thead><tr><th>é™åˆ¶</th><th>åŸå› </th><th>æ”¹è¿›æ–¹å‘</th></tr></thead><tbody><tr><td><strong>ç”Ÿæˆè´¨é‡æœ‰é™</strong></td><td>æ¨¡å‹å°(32ç»´) + è®­ç»ƒç®€åŒ–</td><td>å¢å¤§d_modelï¼Œå®Œæ•´åå‘ä¼ æ’­</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡çŸ­(32)</strong></td><td>å†…å­˜&#x2F;CPUé™åˆ¶</td><td>ä¼˜åŒ–å®ç°ï¼Œæ”¯æŒæ›´é•¿åºåˆ—</td></tr><tr><td><strong>ä»…è‹±æ–‡å­—ç¬¦</strong></td><td>è¯æ±‡è¡¨è®¾è®¡</td><td>æ‰©å±•Unicodeæ”¯æŒ</td></tr><tr><td><strong>è®­ç»ƒæ…¢</strong></td><td>Goéæ•°å€¼è®¡ç®—æœ€ä¼˜è¯­è¨€</td><td>ä½¿ç”¨GPUåº“ï¼ˆå¦‚Gorgoniaï¼‰</td></tr></tbody></table><h5 id="ğŸ“Š-æ€§èƒ½åŸºå‡†ï¼ˆIntel-i7-CPUï¼‰"><a href="#ğŸ“Š-æ€§èƒ½åŸºå‡†ï¼ˆIntel-i7-CPUï¼‰" class="headerlink" title="ğŸ“Š æ€§èƒ½åŸºå‡†ï¼ˆIntel i7 CPUï¼‰"></a>ğŸ“Š æ€§èƒ½åŸºå‡†ï¼ˆIntel i7 CPUï¼‰</h5><table><thead><tr><th>æ“ä½œ</th><th>è€—æ—¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å•æ¬¡å‰å‘ä¼ æ’­</td><td>~2ms</td><td>32å­—ç¬¦åºåˆ—</td></tr><tr><td>ç”Ÿæˆ50å­—ç¬¦</td><td>~100ms</td><td>äº¤äº’å¼ä½“éªŒæµç•…</td></tr><tr><td>100è½®è®­ç»ƒ</td><td>~15ç§’</td><td>å°æ•°æ®é›†å¿«é€ŸéªŒè¯</td></tr></tbody></table><h4 id="å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®ï¼ˆåˆå­¦è€…ï¼‰"><a href="#å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®ï¼ˆåˆå­¦è€…ï¼‰" class="headerlink" title="å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®ï¼ˆåˆå­¦è€…ï¼‰"></a>å…­ã€å­¦ä¹ è·¯å¾„å»ºè®®ï¼ˆåˆå­¦è€…ï¼‰</h4><h5 id="ğŸ“–-æ¨èå­¦ä¹ é¡ºåº"><a href="#ğŸ“–-æ¨èå­¦ä¹ é¡ºåº" class="headerlink" title="ğŸ“– æ¨èå­¦ä¹ é¡ºåº"></a>ğŸ“– æ¨èå­¦ä¹ é¡ºåº</h5><ol><li><p><strong>å…ˆç†è§£æ¦‚å¿µ</strong>ï¼ˆä¸çœ‹ä»£ç ï¼‰ï¼š</p><ul><li>é˜…è¯»ã€ŠAttention Is All You Needã€‹å›¾2ï¼ˆæ¨¡å‹æ¶æ„å›¾ï¼‰</li><li>è§‚çœ‹3Blue1Brownçš„Transformerå¯è§†åŒ–è§†é¢‘</li></ul></li><li><p><strong>å†çœ‹ä»£ç å®ç°</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‰æ¨¡å—é¡ºåºé˜…è¯»</span></span><br><span class="line">main.go          <span class="comment"># æ•´ä½“æµç¨‹</span></span><br><span class="line">â†’ åŸºç¡€å·¥å…·å‡½æ•°    <span class="comment"># æ•°å­¦åŸºç¡€</span></span><br><span class="line">â†’ ä½ç½®ç¼–ç        <span class="comment"># åºåˆ—ä½ç½®å¤„ç†</span></span><br><span class="line">â†’ è‡ªæ³¨æ„åŠ›       <span class="comment"># æ ¸å¿ƒåˆ›æ–°ç‚¹</span></span><br><span class="line">â†’ å‰é¦ˆç½‘ç»œ       <span class="comment"># éçº¿æ€§å¢å¼º</span></span><br><span class="line">â†’ Transformerå—  <span class="comment"># ç»„åˆé€»è¾‘</span></span><br><span class="line">â†’ å­—ç¬¦æ¨¡å‹       <span class="comment"># å®Œæ•´pipeline</span></span><br></pre></td></tr></table></figure></li><li><p><strong>åŠ¨æ‰‹å®éªŒ</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®éªŒ1: ä¿®æ”¹æ¸©åº¦å‚æ•°è§‚å¯Ÿç”Ÿæˆå˜åŒ–</span></span><br><span class="line">temperature = 0.5  <span class="comment"># æ›´ç¡®å®š</span></span><br><span class="line">temperature = 1.5  <span class="comment"># æ›´éšæœº</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®éªŒ2: æ‰©å±•è¯æ±‡è¡¨æ”¯æŒä¸­æ–‡</span></span><br><span class="line">vocab = <span class="string">&quot;ä½ å¥½ä¸–ç•Œ...&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># å®éªŒ3: å¢å¤§æ¨¡å‹ç»´åº¦</span></span><br><span class="line">dModel = 64  <span class="comment"># è§‚å¯Ÿæ•ˆæœ/é€Ÿåº¦å˜åŒ–</span></span><br></pre></td></tr></table></figure></li></ol><h5 id="ğŸ’¡-å…³é”®ç†è§£æ£€æŸ¥ç‚¹"><a href="#ğŸ’¡-å…³é”®ç†è§£æ£€æŸ¥ç‚¹" class="headerlink" title="ğŸ’¡ å…³é”®ç†è§£æ£€æŸ¥ç‚¹"></a>ğŸ’¡ å…³é”®ç†è§£æ£€æŸ¥ç‚¹</h5><p>å®Œæˆä»¥ä¸‹ä»»åŠ¡è¯æ˜çœŸæ­£ç†è§£ï¼š</p><ul><li><input disabled type="checkbox"> èƒ½æ‰‹åŠ¨ç”»å‡º3ä¸ªå­—ç¬¦çš„è‡ªæ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹</li><li><input disabled type="checkbox"> èƒ½è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦ä½ç½®ç¼–ç </li><li><input disabled type="checkbox"> èƒ½è¯´æ˜æ®‹å·®è¿æ¥å¦‚ä½•è§£å†³æ¢¯åº¦æ¶ˆå¤±</li><li><input disabled type="checkbox"> èƒ½æè¿°ä»è¾“å…¥åˆ°è¾“å‡ºçš„å®Œæ•´æ•°æ®æµ</li><li><input disabled type="checkbox"> èƒ½ä¿®æ”¹æ¸©åº¦å‚æ•°å¹¶è§£é‡Šç”Ÿæˆç»“æœå˜åŒ–</li></ul><h4 id="ä¸ƒã€å®Œæ•´ä»£ç ç»“æ„ï¼ˆå¸¦æ³¨é‡Šç´¢å¼•ï¼‰"><a href="#ä¸ƒã€å®Œæ•´ä»£ç ç»“æ„ï¼ˆå¸¦æ³¨é‡Šç´¢å¼•ï¼‰" class="headerlink" title="ä¸ƒã€å®Œæ•´ä»£ç ç»“æ„ï¼ˆå¸¦æ³¨é‡Šç´¢å¼•ï¼‰"></a>ä¸ƒã€å®Œæ•´ä»£ç ç»“æ„ï¼ˆå¸¦æ³¨é‡Šç´¢å¼•ï¼‰</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.go å®Œæ•´ç»“æ„</span></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 1. åŸºç¡€å·¥å…· (è¡Œ 15-50) =====</span></span><br><span class="line"><span class="comment">//   - éšæœºæ•°ç”Ÿæˆ</span></span><br><span class="line"><span class="comment">//   - Softmaxå®ç°</span></span><br><span class="line"><span class="comment">//   - LayerNormå®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 2. ä½ç½®ç¼–ç  (è¡Œ 52-90) =====</span></span><br><span class="line"><span class="comment">//   - ç»“æ„ä½“å®šä¹‰</span></span><br><span class="line"><span class="comment">//   - åˆ›å»ºå‡½æ•° (sin/coså…¬å¼)</span></span><br><span class="line"><span class="comment">//   - å‰å‘ä¼ æ’­ (æ·»åŠ åˆ°è¾“å…¥)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 3. è‡ªæ³¨æ„åŠ› (è¡Œ 92-180) =====</span></span><br><span class="line"><span class="comment">//   - ç»“æ„ä½“ (Q/K/V/Woæƒé‡)</span></span><br><span class="line"><span class="comment">//   - åˆ›å»ºå‡½æ•° (Xavieråˆå§‹åŒ–)</span></span><br><span class="line"><span class="comment">//   - å‰å‘ä¼ æ’­ (5æ­¥æµç¨‹)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 4. å‰é¦ˆç½‘ç»œ (è¡Œ 182-230) =====</span></span><br><span class="line"><span class="comment">//   - ç»“æ„ä½“ (W1/b1/W2/b2)</span></span><br><span class="line"><span class="comment">//   - åˆ›å»ºå‡½æ•°</span></span><br><span class="line"><span class="comment">//   - å‰å‘ä¼ æ’­ (ReLUæ¿€æ´»)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 5. Transformerå— (è¡Œ 232-290) =====</span></span><br><span class="line"><span class="comment">//   - ç»“æ„ä½“ç»„åˆ</span></span><br><span class="line"><span class="comment">//   - å‰å‘ä¼ æ’­ (æ®‹å·®+å½’ä¸€åŒ–)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 6. å­—ç¬¦æ¨¡å‹ (è¡Œ 292-420) =====</span></span><br><span class="line"><span class="comment">//   - å®Œæ•´pipeline</span></span><br><span class="line"><span class="comment">//   - ç¼–ç /å‰å‘/é¢„æµ‹/ç”Ÿæˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 7. ä¼˜åŒ–å™¨ (è¡Œ 422-500) =====</span></span><br><span class="line"><span class="comment">//   - Adamç®€åŒ–å®ç°</span></span><br><span class="line"><span class="comment">//   - å‚æ•°æ³¨å†Œ/æ›´æ–°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 8. æŸå¤±å‡½æ•° (è¡Œ 502-530) =====</span></span><br><span class="line"><span class="comment">//   - äº¤å‰ç†µè®¡ç®—</span></span><br><span class="line"><span class="comment">//   - æ¢¯åº¦æ¨å¯¼</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 9. åºåˆ—åŒ– (è¡Œ 532-560) =====</span></span><br><span class="line"><span class="comment">//   - gobä¿å­˜/åŠ è½½</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 10. è®­ç»ƒå¾ªç¯ (è¡Œ 562-620) =====</span></span><br><span class="line"><span class="comment">//   - æ»‘åŠ¨çª—å£</span></span><br><span class="line"><span class="comment">//   - ç®€åŒ–è®­ç»ƒæµç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ===== 11. ä¸»ç¨‹åº (è¡Œ 622-700) =====</span></span><br><span class="line"><span class="comment">//   - æ¨¡å‹åˆ›å»º</span></span><br><span class="line"><span class="comment">//   - è®­ç»ƒæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">//   - äº¤äº’ç”Ÿæˆ</span></span><br></pre></td></tr></table></figure><h4 id="å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰"><a href="#å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰" class="headerlink" title="å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰"></a>å…«ã€å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰</h4><h5 id="â“-ä¸ºä»€ä¹ˆä¸ç”¨å¤šå¤´æ³¨æ„åŠ›ï¼Ÿ"><a href="#â“-ä¸ºä»€ä¹ˆä¸ç”¨å¤šå¤´æ³¨æ„åŠ›ï¼Ÿ" class="headerlink" title="â“ ä¸ºä»€ä¹ˆä¸ç”¨å¤šå¤´æ³¨æ„åŠ›ï¼Ÿ"></a>â“ ä¸ºä»€ä¹ˆä¸ç”¨å¤šå¤´æ³¨æ„åŠ›ï¼Ÿ</h5><p>æ•™å­¦ç›®çš„ï¼šå•å¤´å·²å®Œæ•´å±•ç¤ºæ³¨æ„åŠ›æœºåˆ¶æœ¬è´¨ã€‚å¤šå¤´åªæ˜¯å¹¶è¡Œå¤šä¸ªå•å¤´+æ‹¼æ¥ï¼Œå¢åŠ ä»£ç å¤æ‚åº¦ä½†ä¸æ”¹å˜æ ¸å¿ƒæ€æƒ³ã€‚</p><h5 id="â“-ä¸ºä»€ä¹ˆè®­ç»ƒåªæ›´æ–°è¾“å‡ºå±‚ï¼Ÿ"><a href="#â“-ä¸ºä»€ä¹ˆè®­ç»ƒåªæ›´æ–°è¾“å‡ºå±‚ï¼Ÿ" class="headerlink" title="â“ ä¸ºä»€ä¹ˆè®­ç»ƒåªæ›´æ–°è¾“å‡ºå±‚ï¼Ÿ"></a>â“ ä¸ºä»€ä¹ˆè®­ç»ƒåªæ›´æ–°è¾“å‡ºå±‚ï¼Ÿ</h5><p>å®Œæ•´åå‘ä¼ æ’­éœ€ä¸ºæ¯ä¸ªçŸ©é˜µæ“ä½œå®ç°æ¢¯åº¦ï¼Œä»£ç é‡å°†å¢åŠ 300+è¡Œï¼Œä¸¥é‡å½±å“å¯è¯»æ€§ã€‚æœ¬å®ç°èšç„¦<strong>å‰å‘ä¼ æ’­å®Œæ•´æ€§</strong>å’Œ<strong>è®­ç»ƒæµç¨‹æ¼”ç¤º</strong>ã€‚</p><h5 id="â“-èƒ½ç”Ÿæˆä¸­æ–‡å—ï¼Ÿ"><a href="#â“-èƒ½ç”Ÿæˆä¸­æ–‡å—ï¼Ÿ" class="headerlink" title="â“ èƒ½ç”Ÿæˆä¸­æ–‡å—ï¼Ÿ"></a>â“ èƒ½ç”Ÿæˆä¸­æ–‡å—ï¼Ÿ</h5><p>å¯ä»¥ï¼åªéœ€æ‰©å±•è¯æ±‡è¡¨ï¼š</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vocab := <span class="string">&quot;ä½ å¥½ä¸–ç•Œabcdefghijklmnopqrstuvwxyz...&quot;</span> </span><br></pre></td></tr></table></figure><p>ä½†éœ€è¦ä¸­æ–‡è®­ç»ƒæ•°æ®ï¼Œä¸”å°æ¨¡å‹æ•ˆæœæœ‰é™ã€‚</p><h5 id="â“-å¦‚ä½•æå‡ç”Ÿæˆè´¨é‡ï¼Ÿ"><a href="#â“-å¦‚ä½•æå‡ç”Ÿæˆè´¨é‡ï¼Ÿ" class="headerlink" title="â“ å¦‚ä½•æå‡ç”Ÿæˆè´¨é‡ï¼Ÿ"></a>â“ å¦‚ä½•æå‡ç”Ÿæˆè´¨é‡ï¼Ÿ</h5><ol><li>å¢å¤§d_model (64&#x2F;128)</li><li>ä½¿ç”¨æ›´å¤§è®­ç»ƒé›†ï¼ˆæ•´ä¸ªèå£«æ¯”äºšæ–‡é›†ï¼‰</li><li>å®ç°å®Œæ•´åå‘ä¼ æ’­ï¼ˆéœ€è‡ªåŠ¨å¾®åˆ†åº“ï¼‰</li><li>å¢åŠ Transformerå±‚æ•°</li><li>æ·»åŠ Dropouté˜²æ­¢è¿‡æ‹Ÿåˆ</li></ol><h5 id="â“-ä¸ºä»€ä¹ˆä¸ç”¨PyTorch-x2F-TensorFlowï¼Ÿ"><a href="#â“-ä¸ºä»€ä¹ˆä¸ç”¨PyTorch-x2F-TensorFlowï¼Ÿ" class="headerlink" title="â“ ä¸ºä»€ä¹ˆä¸ç”¨PyTorch&#x2F;TensorFlowï¼Ÿ"></a>â“ ä¸ºä»€ä¹ˆä¸ç”¨PyTorch&#x2F;TensorFlowï¼Ÿ</h5><p>æœ¬é¡¹ç›®ç›®æ ‡æ˜¯<strong>ç†è§£Transformeræœ¬è´¨</strong>ï¼Œè€Œéè¿½æ±‚æ€§èƒ½ã€‚Goå®ç°è¿«ä½¿ä½ ç†è§£æ¯ä¸ªæ“ä½œçš„æ•°å­¦æœ¬è´¨ï¼Œé¿å…â€è°ƒåº“å·¥ç¨‹å¸ˆâ€é™·é˜±ã€‚</p><hr><h4 id="æ€»ç»“ï¼šåˆå­¦è€…æ”¶è·æ¸…å•"><a href="#æ€»ç»“ï¼šåˆå­¦è€…æ”¶è·æ¸…å•" class="headerlink" title="æ€»ç»“ï¼šåˆå­¦è€…æ”¶è·æ¸…å•"></a>æ€»ç»“ï¼šåˆå­¦è€…æ”¶è·æ¸…å•</h4><p>å®Œæˆæœ¬é¡¹ç›®åï¼Œä½ å°†ç†è§£ï¼š</p><ul><li>âœ… Transformerçš„5å¤§æ ¸å¿ƒç»„ä»¶åŠä½œç”¨</li><li>âœ… è‡ªæ³¨æ„åŠ›çš„æ•°å­¦åŸç†å’Œè®¡ç®—æµç¨‹</li><li>âœ… ä½ç½®ç¼–ç çš„å¿…è¦æ€§å’Œå®ç°æ–¹å¼</li><li>âœ… æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–å¦‚ä½•ç¨³å®šè®­ç»ƒ</li><li>âœ… å®Œæ•´çš„è®­ç»ƒ-ä¿å­˜-æ¨ç†pipeline</li><li>âœ… å­—ç¬¦çº§è¯­è¨€æ¨¡å‹çš„å·¥ä½œåŸç†</li><li>âœ… æ¸©åº¦é‡‡æ ·å¯¹ç”Ÿæˆå¤šæ ·æ€§çš„å½±å“</li><li>âœ… æ¨¡å‹åºåˆ—åŒ–çš„å®è·µæ–¹æ³•</li></ul><p><strong>æœ€é‡è¦æ”¶è·</strong>ï¼šä½ å°†æ‹¥æœ‰ä¸€ä¸ª<strong>å¯è¿è¡Œã€å¯ä¿®æ”¹ã€å¯ç†è§£</strong>çš„Transformerå®ç°ï¼Œè¿™æ˜¯æ·±å…¥å­¦ä¹ NLPçš„åšå®åŸºç¡€ï¼Œæœ€ç»ˆé€šå‘AGIçš„æ¥æ—¶è·¯ï¼</p></div></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/c2045d9d.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäº Qwen çš„ LoRA å¾®è°ƒåŸç†ä»¥åŠå®æˆ˜ï¼šä»é›¶åˆ°ä¸€å¾®è°ƒä¸Šçº¿ä¸€ä¸ªå…¸å‹QAå®¢æœé—®ç­”ç³»ç»Ÿçš„å®è·µæµç¨‹"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2026-01-07T15:26:21.000Z" title="1/7/2026, 11:26:21 PM">2026-01-07</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">an hour read (About 12351 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/c2045d9d.html">åŸºäº Qwen çš„ LoRA å¾®è°ƒåŸç†ä»¥åŠå®æˆ˜ï¼šä»é›¶åˆ°ä¸€å¾®è°ƒä¸Šçº¿ä¸€ä¸ªå…¸å‹QAå®¢æœé—®ç­”ç³»ç»Ÿçš„å®è·µæµç¨‹</a></h1><div class="content"><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>åœ¨2026å¹´ï¼Œå¤§è¯­è¨€æ¨¡å‹(LLMs)å·²ç»æˆä¸ºä¼ä¸šæ™ºèƒ½åŒ–è½¬å‹çš„æ ¸å¿ƒé©±åŠ¨åŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨å®¢æˆ·æœåŠ¡é¢†åŸŸã€‚<br>æœ¬æ–‡å°†ä»¥Qwenæ¨¡å‹ä¸ºä¾‹ï¼Œç»“åˆä¸€ä¸ªå…·ä½“çš„QAé—®ç­”ä¸šåŠ¡åœºæ™¯ï¼Œæ·±å…¥æ¢è®¨å¦‚ä½•é€šè¿‡LoRA(Low-Rank Adaptation)æŠ€æœ¯è¿›è¡Œé«˜æ•ˆå¾®è°ƒï¼Œä»åŸç†åˆ°å®æˆ˜ï¼Œå®Œæ•´è¦†ç›–å®¢æœé—®ç­”ç³»ç»Ÿçš„æ„å»ºæµç¨‹ï¼Œåªæ˜¯æä¾›æ€è·¯ä»¥åŠæ–¹å‘æŒ‡å¯¼ï¼Œå…·ä½“è¿˜æ˜¯è¦ä»¥å®é™…ä¸šåŠ¡ä¸ºå‡†âš ï¸ï¼Œä¹Ÿæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ã€‚</p></div><a class="article-more button is-small is-size-7" href="/c2045d9d.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/6e5682ad.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäºQwen3çš„MCPæ¶æ„çš„å…¥é—¨ï¼šå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿå®Œæ•´å®ç°Demoä¸ºä¾‹å®è·µæŒ‡å—"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-12-27T13:25:24.000Z" title="12/27/2025, 9:25:24 PM">2025-12-27</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">19 minutes read (About 2920 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/6e5682ad.html">åŸºäºQwen3çš„MCPæ¶æ„çš„å…¥é—¨ï¼šå­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿå®Œæ•´å®ç°Demoä¸ºä¾‹å®è·µæŒ‡å—</a></h1><div class="content"><h2 id="ä¸€ã€MCPæ¶æ„åŸç†æ¦‚è¿°"><a href="#ä¸€ã€MCPæ¶æ„åŸç†æ¦‚è¿°" class="headerlink" title="ä¸€ã€MCPæ¶æ„åŸç†æ¦‚è¿°"></a>ä¸€ã€MCPæ¶æ„åŸç†æ¦‚è¿°</h2><h3 id="1-1-MCPåŸºæœ¬æ¦‚å¿µ"><a href="#1-1-MCPåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.1 MCPåŸºæœ¬æ¦‚å¿µ"></a>1.1 MCPåŸºæœ¬æ¦‚å¿µ</h3><p>MCPï¼ˆModel Context Protocolï¼‰æ˜¯ä¸€ç§æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼Œé€šè¿‡ç»Ÿä¸€çš„åè®®è®©AIæ¨¡å‹è¿æ¥å„ç§å·¥å…·å’Œæ•°æ®æºï¼Œç±»ä¼¼äºAIä¸–ç•Œçš„â€USB-Câ€æ¥å£ã€‚<br>è¯¥åè®®é‡‡ç”¨ä¼šè¯å¯¼å‘çš„JSON-RPCæ¡†æ¶ï¼Œä½¿å¤§è¯­è¨€æ¨¡å‹èƒ½å¤Ÿä¸å¤–éƒ¨ç³»ç»Ÿå’Œæ•°æ®æºè¿›è¡Œäº¤äº’ã€‚ MCPæœåŠ¡å™¨å……å½“æ¨¡å‹ä¸æœ¬åœ°ç¯å¢ƒæˆ–å¤–éƒ¨ç³»ç»Ÿçš„æ¡¥æ¢ï¼Œå‘CLIæš´éœ²å·¥å…·å’Œèµ„æºï¼Œå®ç°AIé©±åŠ¨çš„äº¤äº’ã€‚</p></div><a class="article-more button is-small is-size-7" href="/6e5682ad.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/4adbc11a.html"><img class="fill" src="/assets/images/ai-logo.png" alt="Discussion and analysis of Text2SQL technology, the most difficult pain point in the commercial implementation of agents.ï¼ˆAgent å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„ç—›ç‚¹ Text2SQL æŠ€æœ¯æ¢è®¨å’Œè§£æï¼‰"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-12-03T14:29:12.000Z" title="12/3/2025, 10:29:12 PM">2025-12-03</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">39 minutes read (About 5897 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/4adbc11a.html">Discussion and analysis of Text2SQL technology, the most difficult pain point in the commercial implementation of agents.ï¼ˆAgent å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„ç—›ç‚¹ Text2SQL æŠ€æœ¯æ¢è®¨å’Œè§£æï¼‰</a></h1><div class="content"><h3 id="Agent-å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„æ˜¯-Text2SQLï¼ˆNL2SQLï¼‰ï¼Œå‡ ä¹æ˜¯æ— æ³•ç»•å¼€çš„æ ¸å¿ƒç—›ç‚¹ï¼Œä¸»è¦é¢ä¸´çš„ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š"><a href="#Agent-å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„æ˜¯-Text2SQLï¼ˆNL2SQLï¼‰ï¼Œå‡ ä¹æ˜¯æ— æ³•ç»•å¼€çš„æ ¸å¿ƒç—›ç‚¹ï¼Œä¸»è¦é¢ä¸´çš„ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š" class="headerlink" title="Agent å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„æ˜¯ Text2SQLï¼ˆNL2SQLï¼‰ï¼Œå‡ ä¹æ˜¯æ— æ³•ç»•å¼€çš„æ ¸å¿ƒç—›ç‚¹ï¼Œä¸»è¦é¢ä¸´çš„ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š"></a>Agent å•†ä¸šè½åœ°é‡Œæœ€éš¾çš„æ˜¯ Text2SQLï¼ˆNL2SQLï¼‰ï¼Œå‡ ä¹æ˜¯æ— æ³•ç»•å¼€çš„æ ¸å¿ƒç—›ç‚¹ï¼Œä¸»è¦é¢ä¸´çš„ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</h3><ul><li>ä¸ºä»€ä¹ˆåˆ°ç›®å‰ä¸ºæ­¢ä»ç„¶æ²¡æœ‰çœŸæ­£å¯é çš„å•†ä¸šå…±è¯†æ€§ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆï¼Ÿ</li><li>å®é™…ä¼ä¸šåº”ç”¨åœºæ™¯ä¸­ï¼Œæœ‰å“ªäº›é è°±çš„æ€è·¯å’Œè§£å†³æ–¹æ¡ˆï¼Ÿ</li></ul></div><a class="article-more button is-small is-size-7" href="/4adbc11a.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/225323a0.html"><img class="fill" src="/assets/images/ai-logo.png" alt="Ultimate Guide to Quantizing AI Large Language Models: From FP32 to INT4, How to Make Large Models Perform at Full Speed on Consumer Devices?ï¼ˆAI å¤§è¯­è¨€æ¨¡å‹é‡åŒ–ç»ˆææŒ‡å—ï¼šä» FP32 åˆ° INT4ï¼Œå¦‚ä½•è®©å¤§æ¨¡å‹åœ¨æ¶ˆè´¹çº§è®¾å¤‡éƒ¨ç½²åº”ç”¨åŠé€‰å‹ï¼Ÿï¼‰"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-12-02T14:29:13.000Z" title="12/2/2025, 10:29:13 PM">2025-12-02</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Agent/">Agent</a></span><span class="level-item">11 minutes read (About 1694 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/225323a0.html">Ultimate Guide to Quantizing AI Large Language Models: From FP32 to INT4, How to Make Large Models Perform at Full Speed on Consumer Devices?ï¼ˆAI å¤§è¯­è¨€æ¨¡å‹é‡åŒ–ç»ˆææŒ‡å—ï¼šä» FP32 åˆ° INT4ï¼Œå¦‚ä½•è®©å¤§æ¨¡å‹åœ¨æ¶ˆè´¹çº§è®¾å¤‡éƒ¨ç½²åº”ç”¨åŠé€‰å‹ï¼Ÿï¼‰</a></h1><div class="content"><p><strong>â€”â€”æ·±åº¦è§£æé‡åŒ–æ ¼å¼ã€å°ºå¯¸å·®å¼‚ä¸ç¡¬ä»¶é€‚é…ç­–ç•¥ï¼ˆé™„ M3 Pro å®æˆ˜æŒ‡å—ï¼‰</strong></p><p>ä¸ªäººå¸¸ç”¨åŠå…¬ç»ˆç«¯è®¾å¤‡å‹å·ï¼š</p><ul><li><strong>Macbook Pro M3 ï¼ˆ36G å†…å­˜å®šåˆ¶æ¬¾)</strong></li></ul><p><strong>å°ç»“</strong>ï¼š</p><ul><li><strong>Apple ç”¨æˆ·é—­çœ¼é€‰ BF16</strong>ï¼šM3 Pro èŠ¯ç‰‡çš„ BF16 æ€§èƒ½ç¢¾å‹ FP16ï¼Œ18GB å†…å­˜å¯æµç•…è¿è¡Œ 30B çº§æ¨¡å‹</li><li>âš ï¸ <strong>INT4 æ˜¯åŒåˆƒå‰‘</strong>ï¼š70B æ¨¡å‹å¡è¿› 36GB å†…å­˜çš„å”¯ä¸€æ–¹æ¡ˆï¼Œä½†ç²¾åº¦æŸå¤±é«˜è¾¾ 15%+</li><li>ğŸ”® <strong>æœªæ¥å±äº FP8</strong>ï¼šNVIDIA H100 å·²æ”¯æŒï¼Œè‹¹æœ M4 æˆ–æˆè½¬æŠ˜ç‚¹</li></ul></div><a class="article-more button is-small is-size-7" href="/225323a0.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><div class="card"><div class="card-image"><a class="image is-7by3" href="/edd96fdf.html"><img class="fill" src="/assets/images/ai-logo.png" alt="åŸºäº Golang æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„ DeepSeek AI æ¨¡å‹ GRPO ç®—æ³•æ¨ç†"></a></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time datetime="2025-12-01T14:12:43.000Z" title="12/1/2025, 10:12:43 PM">2025-12-01</time></span><span class="level-item">Updated&nbsp;<time datetime="2026-01-30T06:40:40.569Z" title="1/30/2026, 2:40:40 PM">2026-01-30</time></span><span class="level-item"> Jaco Liu </span><span class="level-item"><a class="link-muted" href="/categories/AI/">AI</a><span>Â /Â </span><a class="link-muted" href="/categories/AI/Algo/">Algo</a></span><span class="level-item">15 minutes read (About 2281 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/edd96fdf.html">åŸºäº Golang æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„ DeepSeek AI æ¨¡å‹ GRPO ç®—æ³•æ¨ç†</a></h1><div class="content"><h3 id="æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„-GRPO-Group-Relative-Policy-Optimization-æ¨ç†æ¨¡å‹ã€‚GRPO-æ˜¯ç”±-DeepSeek-æå‡ºçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œç”¨äºè®­ç»ƒå¤§å‹è¯­è¨€æ¨¡å‹"><a href="#æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„-GRPO-Group-Relative-Policy-Optimization-æ¨ç†æ¨¡å‹ã€‚GRPO-æ˜¯ç”±-DeepSeek-æå‡ºçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œç”¨äºè®­ç»ƒå¤§å‹è¯­è¨€æ¨¡å‹" class="headerlink" title="æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„ GRPO (Group Relative Policy Optimization) æ¨ç†æ¨¡å‹ã€‚GRPO æ˜¯ç”± DeepSeek æå‡ºçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œç”¨äºè®­ç»ƒå¤§å‹è¯­è¨€æ¨¡å‹"></a>æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€åŒ–çš„ GRPO (Group Relative Policy Optimization) æ¨ç†æ¨¡å‹ã€‚GRPO æ˜¯ç”± DeepSeek æå‡ºçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œç”¨äºè®­ç»ƒå¤§å‹è¯­è¨€æ¨¡å‹</h3><p>å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯ä¸éœ€è¦è®­ç»ƒä»·å€¼å‡½æ•°ï¼Œè€Œæ˜¯é€šè¿‡ä»åŒä¸€é—®é¢˜çš„å¤šä¸ªè¾“å‡ºä¸­è®¡ç®—å¹³å‡å¥–åŠ±æ¥æ›¿ä»£è¿™ä¸€è¿‡ç¨‹ï¼Œæ˜¾è‘—å‡å°‘äº†å†…å­˜å’Œè®¡ç®—èµ„æºçš„æ¶ˆè€— ã€‚</p><h6 id="ç®€åŒ–ç‰ˆ-GRPO-æ¨ç†æ¨¡å‹ï¼š"><a href="#ç®€åŒ–ç‰ˆ-GRPO-æ¨ç†æ¨¡å‹ï¼š" class="headerlink" title="ç®€åŒ–ç‰ˆ GRPO æ¨ç†æ¨¡å‹ï¼š"></a>ç®€åŒ–ç‰ˆ GRPO æ¨ç†æ¨¡å‹ï¼š</h6></div><a class="article-more button is-small is-size-7" href="/edd96fdf.html#more">Read more</a></article></div><script src="/js/mermaid.min.js"></script><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/tags/LLM/page/0/">Previous</a></div><div class="pagination-next"><a href="/tags/LLM/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/tags/LLM/">1</a></li><li><a class="pagination-link" href="/tags/LLM/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.jpeg" alt="Jaco Liu"></figure><p class="title is-size-4 is-block" style="line-height:inherit">Jaco Liu</p><p class="is-size-6 is-block">Greatness in Simplicity.</p><p class="is-size-6 is-block">Security accompanies every aspect of software development.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>The Earth</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">102</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">34</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">178</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ljq" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/ljqlab"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Gitee" href="https://gitee.com/jqe"><i class="fab fa-git-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ljq"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" data-type="clustrmaps"><div class="card-content"><div class="menu"><h3 class="menu-label">CLUSTRMAPS</h3></div><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div style="margin-top:10px"><script type="text/javascript" id="clustrmaps" src="https://cdn.clustrmaps.com/map_v2.js?cl=ffffff&amp;w=250&amp;t=n&amp;d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0&amp;co=2d78ad&amp;cmo=3acc3a&amp;cmn=ff5353&amp;ct=ffffff"></script><script type="text/javascript" id="clstr_globe" src="https://clustrmaps.com/globe.js?d=xb7wV_PHYtl9KaSZpQgP9CLUNrXlqm480vcarJmX2A0"></script></div></div></nav></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/ljq" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://gitee.com/jqe" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Gitee</span></span><span class="level-right"><span class="level-item tag">gitee.com</span></span></a></li><li><a class="level is-mobile" href="https://ref.wdft.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Quick Reference</span></span><span class="level-right"><span class="level-item tag">ref.wdft.com</span></span></a></li><li><a class="level is-mobile" href="https://cook.wdft.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Cook</span></span><span class="level-right"><span class="level-item tag">cook.wdft.com</span></span></a></li><li><a class="level is-mobile" href="https://pep8.org" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Python PEP8</span></span><span class="level-right"><span class="level-item tag">pep8.org</span></span></a></li><li><a class="level is-mobile" href="https://news.ycombinator.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">HackerNews</span></span><span class="level-right"><span class="level-item tag">news.ycombinator.com</span></span></a></li><li><a class="level is-mobile" href="https://koala-oss.app/news/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Koala-oss.app</span></span><span class="level-right"><span class="level-item tag">koala-oss.app</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2026/01/"><span class="level-start"><span class="level-item">January 2026</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/12/"><span class="level-start"><span class="level-item">December 2025</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/11/"><span class="level-start"><span class="level-item">November 2025</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/10/"><span class="level-start"><span class="level-item">October 2025</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/06/"><span class="level-start"><span class="level-item">June 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/05/"><span class="level-start"><span class="level-item">May 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/02/"><span class="level-start"><span class="level-item">February 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/01/"><span class="level-start"><span class="level-item">January 2025</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/12/"><span class="level-start"><span class="level-item">December 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/11/"><span class="level-start"><span class="level-item">November 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">March 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/02/"><span class="level-start"><span class="level-item">February 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">November 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/10/"><span class="level-start"><span class="level-item">October 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">August 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">June 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">April 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="adsense"><div class="card-content"><div class="menu"><h3 class="menu-label">Advertisement</h3><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8952360410310192" data-ad-slot="1345698037" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/d7d74826.html"><img src="/assets/images/golang/golang-01.png" alt="ã€osã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“osåŒ…ç³»ç»Ÿç¼–ç¨‹çš„åŸºçŸ³ä»¥åŠå®è·µå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-28T15:59:43.000Z">2026-01-28</time></p><p class="title"><a href="/d7d74826.html">ã€osã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“osåŒ…ç³»ç»Ÿç¼–ç¨‹çš„åŸºçŸ³ä»¥åŠå®è·µå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/a6cbebf9.html"><img src="/assets/images/golang/golang-01.png" alt="ã€timeã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“timeåŒ…çš„è®¾è®¡åŸç†ä»¥åŠå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-28T14:17:44.000Z">2026-01-28</time></p><p class="title"><a href="/a6cbebf9.html">ã€timeã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“timeåŒ…çš„è®¾è®¡åŸç†ä»¥åŠå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/996cf37b.html"><img src="/assets/images/golang/golang-01.png" alt="ã€fmtã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“fmtä»å‡½æ•°å…¨æ™¯åˆ°å†…æ ¸åŸç†ä»¥åŠå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-27T18:20:16.000Z">2026-01-28</time></p><p class="title"><a href="/996cf37b.html">ã€fmtã€‘æ·±å…¥è§£æ„Goæ ‡å‡†åº“fmtä»å‡½æ•°å…¨æ™¯åˆ°å†…æ ¸åŸç†ä»¥åŠå¼€å‘ä¸­æ³¨æ„çš„è¦ç‚¹</a></p><p class="categories"><a href="/categories/golang/">golang</a> / <a href="/categories/golang/standard-library/">standard-library</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2ae30f65.html"><img src="/assets/images/ai-logo.png" alt="åŸºäº Eino æ¡†æ¶æ„å»ºæ™ºèƒ½å®¢æœ Agentï¼šMCP ä¸ Skills çš„å·¥ç¨‹åŒ–å®è·µåˆæ¢"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-27T17:25:24.000Z">2026-01-28</time></p><p class="title"><a href="/2ae30f65.html">åŸºäº Eino æ¡†æ¶æ„å»ºæ™ºèƒ½å®¢æœ Agentï¼šMCP ä¸ Skills çš„å·¥ç¨‹åŒ–å®è·µåˆæ¢</a></p><p class="categories"><a href="/categories/AI/">AI</a> / <a href="/categories/AI/Agent/">Agent</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/62bcfffd.html"><img src="/assets/images/linux01.jpg" alt="ä½¿ç”¨ CentOS + firewalld è„šæœ¬å®ç°æ‰«æç±»IPæ¥è®¿è€…çš„æ™ºèƒ½å¿«é€Ÿå°ç¦(ç”Ÿäº§ç¯å¢ƒæ…ç”¨âš ï¸)"></a></figure><div class="media-content"><p class="date"><time datetime="2026-01-27T15:12:03.000Z">2026-01-27</time></p><p class="title"><a href="/62bcfffd.html">ä½¿ç”¨ CentOS + firewalld è„šæœ¬å®ç°æ‰«æç±»IPæ¥è®¿è€…çš„æ™ºèƒ½å¿«é€Ÿå°ç¦(ç”Ÿäº§ç¯å¢ƒæ…ç”¨âš ï¸)</a></p><p class="categories"><a href="/categories/linux/">linux</a> / <a href="/categories/linux/security/">security</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/AI/AIGC/"><span class="level-start"><span class="level-item">AIGC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Agent/"><span class="level-start"><span class="level-item">Agent</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/Algo/"><span class="level-start"><span class="level-item">Algo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/AI/LLM/"><span class="level-start"><span class="level-item">LLM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/GIT/"><span class="level-start"><span class="level-item">GIT</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/architecture/"><span class="level-start"><span class="level-item">architecture</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/clang/"><span class="level-start"><span class="level-item">clang</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/cloud/"><span class="level-start"><span class="level-item">cloud</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/daily/"><span class="level-start"><span class="level-item">daily</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/daily/business/"><span class="level-start"><span class="level-item">business</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/daily/note/"><span class="level-start"><span class="level-item">note</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/golang/"><span class="level-start"><span class="level-item">golang</span></span><span class="level-end"><span class="level-item tag">33</span></span></a><ul><li><a class="level is-mobile" href="/categories/golang/standard-library/"><span class="level-start"><span class="level-item">standard-library</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/golang/tutorial/"><span class="level-start"><span class="level-item">tutorial</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/javascript/"><span class="level-start"><span class="level-item">javascript</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">8</span></span></a><ul><li><a class="level is-mobile" href="/categories/linux/centos/"><span class="level-start"><span class="level-item">centos</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/debian/"><span class="level-start"><span class="level-item">debian</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/security/"><span class="level-start"><span class="level-item">security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/tools/"><span class="level-start"><span class="level-item">tools</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/lua/"><span class="level-start"><span class="level-item">lua</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/macOS/"><span class="level-start"><span class="level-item">macOS</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/message/"><span class="level-start"><span class="level-item">message</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/nosql/"><span class="level-start"><span class="level-item">nosql</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/olap/"><span class="level-start"><span class="level-item">olap</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/php/"><span class="level-start"><span class="level-item">php</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/"><span class="level-start"><span class="level-item">rdbms</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/rdbms/mysql/"><span class="level-start"><span class="level-item">mysql</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/postgres/"><span class="level-start"><span class="level-item">postgres</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/rdbms/sql/"><span class="level-start"><span class="level-item">sql</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/reprinted-articles/"><span class="level-start"><span class="level-item">reprinted-articles</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/AI/"><span class="tag">AI</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AIGC/"><span class="tag">AIGC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent/"><span class="tag">Agent</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-Skill/"><span class="tag">Agent-Skill</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-Suggestion/"><span class="tag">Agent-Suggestion</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-architecture/"><span class="tag">Agent-architecture</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Agent-framework/"><span class="tag">Agent-framework</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CDN/"><span class="tag">CDN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CentOS/"><span class="tag">CentOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Distributed/"><span class="tag">Cloud-Distributed</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native/"><span class="tag">Cloud-Native</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cloud-Native-Framework/"><span class="tag">Cloud-Native-Framework</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Controlnet/"><span class="tag">Controlnet</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DDD/"><span class="tag">DDD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Debian/"><span class="tag">Debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DeepSeek/"><span class="tag">DeepSeek</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Deepseek/"><span class="tag">Deepseek</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Demo-AI/"><span class="tag">Demo-AI</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Distributed-Systems/"><span class="tag">Distributed-Systems</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Drawing/"><span class="tag">Drawing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ES/"><span class="tag">ES</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eino/"><span class="tag">Eino</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Elastic/"><span class="tag">Elastic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ElasticSearch/"><span class="tag">ElasticSearch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Firewalld/"><span class="tag">Firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Framework/"><span class="tag">Framework</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GGUF/"><span class="tag">GGUF</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GIT/"><span class="tag">GIT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GO-%E6%96%B9%E6%B3%95%E5%80%BC/"><span class="tag">GO æ–¹æ³•å€¼</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG/"><span class="tag">GPG</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG2/"><span class="tag">GPG2</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GRPO/"><span class="tag">GRPO</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ghostty/"><span class="tag">Ghostty</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">34</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Summary-notes/"><span class="tag">Go Summary notes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-null-judge/"><span class="tag">Go null judge</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Struct-Method-Receiver/"><span class="tag">Go(Struct|Method|Receiver)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-map/"><span class="tag">Go(map)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-new-make-struct/"><span class="tag">Go(new,make,struct{})</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-string/"><span class="tag">Go(string)</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-LLM/"><span class="tag">Go-LLM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Polymorphism/"><span class="tag">Go-Polymorphism</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-Printf/"><span class="tag">Go-Printf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-chain-operation/"><span class="tag">Go-chain-operation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-context/"><span class="tag">Go-context</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-fmt/"><span class="tag">Go-fmt</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-init/"><span class="tag">Go-init()</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-io/"><span class="tag">Go-io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-os/"><span class="tag">Go-os</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-path/"><span class="tag">Go-path</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-standard-library/"><span class="tag">Go-standard-library</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go-time/"><span class="tag">Go-time</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Golang/"><span class="tag">Golang</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HEART/"><span class="tag">HEART</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/History/"><span class="tag">History</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Infra/"><span class="tag">Infra</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JS/"><span class="tag">JS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JSON/"><span class="tag">JSON</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java17/"><span class="tag">Java17</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java8/"><span class="tag">Java8</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K3S-Build/"><span class="tag">K3S-Build</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S/"><span class="tag">K8S</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8S-Build/"><span class="tag">K8S-Build</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Kafka/"><span class="tag">Kafka</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LLM/"><span class="tag">LLM</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LoRA/"><span class="tag">LoRA</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MCP/"><span class="tag">MCP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Message/"><span class="tag">Message</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Microservices/"><span class="tag">Microservices</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Movie/"><span class="tag">Movie</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Note-The-Legend-of-1900/"><span class="tag">Note The Legend of 1900</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OLAP/"><span class="tag">OLAP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenSSH/"><span class="tag">OpenSSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Qwen/"><span class="tag">Qwen</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RDBMS/"><span class="tag">RDBMS</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RabbitMQ/"><span class="tag">RabbitMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Rocky-linux/"><span class="tag">Rocky-linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SD/"><span class="tag">SD</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Skill/"><span class="tag">Skill</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/StarRocks/"><span class="tag">StarRocks</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Syntax/"><span class="tag">Syntax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TS/"><span class="tag">TS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Text2SQL/"><span class="tag">Text2SQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tutorial/"><span class="tag">Tutorial</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TypeScript/"><span class="tag">TypeScript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UFW/"><span class="tag">UFW</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM/"><span class="tag">VIM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIM-Author/"><span class="tag">VIM Author</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XHProf/"><span class="tag">XHProf</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ansi-lib/"><span class="tag">ansi-lib</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/banner/"><span class="tag">banner</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/business/"><span class="tag">business</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos7/"><span class="tag">centos7</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/changelog/"><span class="tag">changelog</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chattr/"><span class="tag">chattr</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clang/"><span class="tag">clang</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cli/"><span class="tag">cli</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/daily/"><span class="tag">daily</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/database/"><span class="tag">database</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debian/"><span class="tag">debian</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/firewalld/"><span class="tag">firewalld</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/format/"><span class="tag">format</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/func/"><span class="tag">func</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go-pprof/"><span class="tag">go-pprof</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/goroutine/"><span class="tag">goroutine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/history/"><span class="tag">history</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/history-of-programing/"><span class="tag">history-of-programing</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/homebrew/"><span class="tag">homebrew</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/innodb/"><span class="tag">innodb</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interface/"><span class="tag">interface</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/io/"><span class="tag">io</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kebernetes/"><span class="tag">kebernetes</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel/"><span class="tag">laravel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/laravel-artisan/"><span class="tag">laravel-artisan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/lua/"><span class="tag">lua</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macro/"><span class="tag">macro</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/motd/"><span class="tag">motd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-0/"><span class="tag">mysql8.0</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql8-x/"><span class="tag">mysql8.x</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat/"><span class="tag">nanochat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nanochat-zh-CN/"><span class="tag">nanochat-zh_CN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/neofetch/"><span class="tag">neofetch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nosql/"><span class="tag">nosql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/oh-my-zsh/"><span class="tag">oh-my-zsh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/omz/"><span class="tag">omz</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/openssl/"><span class="tag">openssl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/package-time/"><span class="tag">package time</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/painting/"><span class="tag">painting</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pointer/"><span class="tag">pointer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgresql/"><span class="tag">postgresql</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgresql-syntax/"><span class="tag">postgresql-syntax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/postgressql-engine/"><span class="tag">postgressql-engine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/reflect-%E5%8F%8D%E5%B0%84/"><span class="tag">reflect åå°„</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky/"><span class="tag">rocky</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux/"><span class="tag">rocky-linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rocky-linux-tools/"><span class="tag">rocky-linux-tools</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rsync/"><span class="tag">rsync</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rune/"><span class="tag">rune</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/security/"><span class="tag">security</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/services/"><span class="tag">services</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/slice-%E5%88%87%E7%89%87%E6%9C%AC%E8%B4%A8/"><span class="tag">slice åˆ‡ç‰‡æœ¬è´¨</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sql/"><span class="tag">sql</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/stable-diffusion-webui/"><span class="tag">stable-diffusion-webui</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/struct/"><span class="tag">struct</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/switch/"><span class="tag">switch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/systemd-service/"><span class="tag">systemd-service</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/terminal/"><span class="tag">terminal</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/travel/"><span class="tag">travel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type/"><span class="tag">type</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/type-%E5%85%B3%E9%94%AE%E8%AF%8D%E6%80%BB%E7%BB%93/"><span class="tag">type å…³é”®è¯æ€»ç»“</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4/"><span class="tag">utf8mb4</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-0900-ai-ci/"><span class="tag">utf8mb4_0900_ai_ci</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/utf8mb4-general-ci/"><span class="tag">utf8mb4_general_ci</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zsh/"><span class="tag">zsh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%BA%E7%94%9F/"><span class="tag">äººç”Ÿ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA/"><span class="tag">å®‰å…¨åŠ å›º</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%B8%B8/"><span class="tag">æ—¥å¸¸</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%9F%E6%B4%BB/"><span class="tag">ç”Ÿæ´»</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD/"><span class="tag">è½¬è½½</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%93%E7%B3%BB/"><span class="tag">é…ç½®æ–‡ä»¶ä½“ç³»</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"><span class="tag">é˜²ç«å¢™</span><span class="tag">3</span></a></div></div></div></div></div></div></div></div></section><footer class="footer" style="padding:1rem 1.5rem 0"><div class="container"><div class="level"><div class="level-start"><p class="is-size-7"><a class="footer-logo" style="margin-right:10px" href="/"><img src="/img/logo.svg" alt="Jaco Liu Personal Site (ljq@GitHub).å®‰å…¨è´¯ç©¿äºè½¯ä»¶å¼€å‘å„ä¸ªç¯èŠ‚." height="16" style="max-height:1.25rem"></a><a href="http://beian.miit.gov.cn" target="_blank">é²ICPå¤‡2023051700å·</a>Â Â <span>&copy; 2026 Jaco Liu</span>Â Â <span style="color:#e0e0e0">Powered by <a style="color:#e0e0e0" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a style="color:#e0e0e0" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></span><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>Â Â <span id="busuanzi_container_site_pv">Total Visits Counts: <span id="busuanzi_value_site_pv"></span>.</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Jaco Liu&#039;GitHub" href="https://github.com/ljq"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="ref.wdft.com" href="https://ref.wdft.com"><i class="fas fa-cloud"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="cook.wdft.com" href="https://cook.wdft.com"><i class="fas fa-coffee"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Python PEP8" href="https://pep8.org"><i class="fas fa-coffee"></i></a></p>Â <span><i class="fas fa-link">BlogRoll:</i></span><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Quick Reference" href="https://ref.wdft.com">Quick Reference</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Cook" href="https://cook.wdft.com">Cook</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="koala-oss.app" href="https://koala-oss.app/news/">koala-oss.app</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="CSè‡ªå­¦æŒ‡å—" href="https://csdiy.wiki">CSè‡ªå­¦æŒ‡å—</a></p><p class="control" style="color:#26c1fa"><a class="button is-transparent" target="_blank" rel="noopener" title="Python PEP8" href="https://pep8.org">Python PEP8</a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="/js/switchDarkMode.js" defer></script><script src="/js/toutiaoSEO.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"info",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"This website uses cookies to improve your experience.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",policy:"Cookie Policy",href:"https://www.cookiesandyou.com/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.10.0/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:150,height:300},mobile:{show:!0},react:{opacity:.7},pluginJsPath:"lib/",pluginRootPath:"live2dw/"})</script></body></html>